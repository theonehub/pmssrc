2025-06-02 15:37:11 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 15:37:20 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 15:37:28 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 15:38:10 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 15:54:54 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 15:58:12 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 15:58:18 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 15:58:19 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 15:58:19 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 15:58:21 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 15:58:21 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 15:58:21 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 15:58:21 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 15:58:22 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 15:58:22 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 15:58:22 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 15:58:23 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered (both American & British spelling)
2025-06-02 15:58:23 [INFO] uvicorn.error:83 - _serve(): Started server process [4831]
2025-06-02 15:58:23 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 15:58:23 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 15:58:23 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 15:58:23 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 15:58:23 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 15:58:27 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 15:58:33 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 15:58:35 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 15:58:35 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 15:58:35 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 15:58:35 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 15:58:35 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 15:58:35 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 15:58:36 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 15:58:36 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 15:58:36 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 15:58:36 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered (both American & British spelling)
2025-06-02 15:59:04 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 15:59:04 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 15:59:04 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 15:59:04 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 15:59:04 [INFO] uvicorn.error:93 - _serve(): Finished server process [4831]
2025-06-02 15:59:10 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 15:59:15 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 15:59:15 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 15:59:15 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 15:59:16 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 15:59:16 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 15:59:16 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 15:59:16 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 15:59:16 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 15:59:16 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 15:59:17 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 15:59:17 [INFO] uvicorn.error:83 - _serve(): Started server process [4906]
2025-06-02 15:59:17 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 15:59:17 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 15:59:17 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 15:59:17 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 15:59:17 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 15:59:20 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 15:59:27 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 15:59:28 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 15:59:28 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 15:59:29 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 15:59:29 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 15:59:29 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 15:59:29 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 15:59:29 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 15:59:29 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 15:59:29 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 15:59:29 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:00:07 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:00:07 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:00:07 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 16:00:07 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:00:07 [INFO] uvicorn.error:93 - _serve(): Finished server process [4906]
2025-06-02 16:00:11 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:00:16 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:00:16 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:00:17 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:00:17 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:00:17 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:00:18 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:00:18 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:00:18 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:00:18 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:00:18 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:00:18 [INFO] uvicorn.error:83 - _serve(): Started server process [4956]
2025-06-02 16:00:18 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:00:18 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:00:18 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:00:18 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:00:18 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:00:24 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61618 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-02 16:00:24 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61620 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-02 16:00:24 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61622 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-02 16:00:24 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61622 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-02 16:00:24 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61622 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-02 16:00:24 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61620 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-02 16:00:24 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61618 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-02 16:00:24 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/api/controllers/organisation_controller.py", line 192, in get_organisation_controller
    raise RuntimeError("Organisation controller not initialized")
RuntimeError: Organisation controller not initialized
2025-06-02 16:00:24 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61620 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-02 16:00:24 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/api/controllers/organisation_controller.py", line 192, in get_organisation_controller
    raise RuntimeError("Organisation controller not initialized")
RuntimeError: Organisation controller not initialized
2025-06-02 16:01:04 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61657 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-02 16:01:04 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61657 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-02 16:01:04 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61657 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-02 16:01:04 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/api/controllers/organisation_controller.py", line 192, in get_organisation_controller
    raise RuntimeError("Organisation controller not initialized")
RuntimeError: Organisation controller not initialized
2025-06-02 16:01:04 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61659 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-02 16:01:04 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/api/controllers/organisation_controller.py", line 192, in get_organisation_controller
    raise RuntimeError("Organisation controller not initialized")
RuntimeError: Organisation controller not initialized
2025-06-02 16:10:09 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:10:09 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:10:09 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 16:10:09 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:10:09 [INFO] uvicorn.error:93 - _serve(): Finished server process [4956]
2025-06-02 16:10:14 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:10:16 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:10:19 [INFO] app.main:174 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:10:19 [INFO] app.main:205 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:10:20 [INFO] app.main:214 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:10:20 [INFO] app.main:219 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:10:20 [INFO] app.main:223 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:10:20 [INFO] app.main:227 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:10:20 [INFO] app.main:231 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:10:20 [INFO] app.main:239 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:10:20 [INFO] app.main:248 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:10:21 [INFO] app.main:252 - <module>(): ✅ Organisation routes registered
2025-06-02 16:10:21 [INFO] uvicorn.error:83 - _serve(): Started server process [5037]
2025-06-02 16:10:21 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:10:21 [INFO] app.main:125 - lifespan(): Running startup tasks...
2025-06-02 16:10:21 [INFO] app.main:130 - lifespan(): Dependency container initialized
2025-06-02 16:10:21 [INFO] app.database.database_connector:15 - connect_to_database(): pms_pms_global_database connected and indexes ensured.
2025-06-02 16:10:51 [ERROR] app.infrastructure.repositories.mongodb_organisation_repository:82 - _create_indexes(): Failed to create organisation indexes: localhost:27017: [Errno 61] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 683d7f9557b672b378bbf110, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 61] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
2025-06-02 16:10:51 [ERROR] app.config.dependencies:171 - initialize_organisation_dependencies(): Failed to initialize organisation dependencies: Can't instantiate abstract class SimpleEventPublisher without an implementation for abstract methods 'get_event_history', 'subscribe', 'unsubscribe'
2025-06-02 16:10:51 [ERROR] app.main:139 - lifespan(): Failed to initialize organisation system
2025-06-02 16:10:51 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:10:55 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:10:58 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:11:00 [INFO] app.main:249 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:11:00 [INFO] app.main:280 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:11:00 [INFO] app.main:289 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:11:01 [INFO] app.main:294 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:11:01 [INFO] app.main:298 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:11:01 [INFO] app.main:302 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:11:01 [INFO] app.main:306 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:11:01 [INFO] app.main:314 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:11:01 [INFO] app.main:323 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:11:01 [INFO] app.main:327 - <module>(): ✅ Organisation routes registered
2025-06-02 16:11:02 [INFO] app.main:249 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:11:02 [INFO] app.main:280 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:11:03 [INFO] app.main:289 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:11:03 [INFO] app.main:294 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:11:03 [INFO] app.main:298 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:11:03 [INFO] app.main:302 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:11:04 [INFO] app.main:306 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:11:04 [INFO] app.main:314 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:11:04 [INFO] app.main:323 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:11:04 [INFO] app.main:327 - <module>(): ✅ Organisation routes registered
2025-06-02 16:11:04 [INFO] uvicorn.error:83 - _serve(): Started server process [5080]
2025-06-02 16:11:04 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:11:04 [INFO] app.main:200 - lifespan(): Running startup tasks...
2025-06-02 16:11:04 [INFO] app.main:205 - lifespan(): Dependency container initialized
2025-06-02 16:11:04 [ERROR] app.main:171 - initialize_organisation_dependencies(): Failed to initialize organisation system: Can't instantiate abstract class DatabaseConnector without an implementation for abstract methods 'connect', 'create_indexes', 'disconnect', 'get_collection', 'get_database', 'health_check', 'is_connected', 'transaction'
2025-06-02 16:11:04 [ERROR] app.main:214 - lifespan(): Failed to initialize organisation system
2025-06-02 16:11:04 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:11:13 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62111 - "GET /health HTTP/1.1" 200
2025-06-02 16:11:19 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62113 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 403
2025-06-02 16:11:25 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62115 - "GET /docs HTTP/1.1" 200
2025-06-02 16:11:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62117 - "GET /openapi.json HTTP/1.1" 200
2025-06-02 16:11:35 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:11:35 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:11:35 [INFO] app.main:218 - lifespan(): Running shutdown tasks...
2025-06-02 16:11:35 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:11:35 [INFO] uvicorn.error:93 - _serve(): Finished server process [5080]
2025-06-02 16:12:13 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:12:15 [INFO] app.main:249 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:12:15 [INFO] app.main:280 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:12:16 [INFO] app.main:289 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:12:16 [INFO] app.main:294 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:12:16 [INFO] app.main:298 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:12:16 [INFO] app.main:302 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:12:16 [INFO] app.main:306 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:12:16 [INFO] app.main:314 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:12:16 [INFO] app.main:323 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:12:16 [INFO] app.main:327 - <module>(): ✅ Organisation routes registered
2025-06-02 16:12:16 [ERROR] app.main:171 - initialize_organisation_dependencies(): Failed to initialize organisation system: Can't instantiate abstract class DatabaseConnector without an implementation for abstract methods 'connect', 'create_indexes', 'disconnect', 'get_collection', 'get_database', 'health_check', 'is_connected', 'transaction'
2025-06-02 16:13:01 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:13:03 [INFO] app.main:259 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:13:03 [INFO] app.main:290 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:13:03 [INFO] app.main:299 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:13:04 [INFO] app.main:304 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:13:04 [INFO] app.main:308 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:13:04 [INFO] app.main:312 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:13:04 [INFO] app.main:316 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:13:04 [INFO] app.main:324 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:13:04 [INFO] app.main:333 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:13:04 [INFO] app.main:337 - <module>(): ✅ Organisation routes registered
2025-06-02 16:13:04 [INFO] app.main:156 - initialize_organisation_dependencies(): MongoDB connector initialized (will connect to: mongodb://localhost:27017)
2025-06-02 16:13:04 [INFO] app.api.controllers.organisation_controller:212 - initialize_organisation_controller(): Organisation controller initialized successfully
2025-06-02 16:13:04 [INFO] app.main:177 - initialize_organisation_dependencies(): Organisation system initialized with SOLID repository and MongoDB connector
2025-06-02 16:13:13 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:13:16 [INFO] app.main:259 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:13:16 [INFO] app.main:290 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:13:16 [INFO] app.main:299 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:13:16 [INFO] app.main:304 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:13:16 [INFO] app.main:308 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:13:16 [INFO] app.main:312 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:13:16 [INFO] app.main:316 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:13:16 [INFO] app.main:324 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:13:16 [INFO] app.main:333 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:13:17 [INFO] app.main:337 - <module>(): ✅ Organisation routes registered
2025-06-02 16:13:17 [INFO] uvicorn.error:83 - _serve(): Started server process [5470]
2025-06-02 16:13:17 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:13:17 [INFO] app.main:210 - lifespan(): Running startup tasks...
2025-06-02 16:13:17 [INFO] app.main:215 - lifespan(): Dependency container initialized
2025-06-02 16:13:17 [INFO] app.main:156 - initialize_organisation_dependencies(): MongoDB connector initialized (will connect to: mongodb://localhost:27017)
2025-06-02 16:13:17 [INFO] app.api.controllers.organisation_controller:212 - initialize_organisation_controller(): Organisation controller initialized successfully
2025-06-02 16:13:17 [INFO] app.main:177 - initialize_organisation_dependencies(): Organisation system initialized with SOLID repository and MongoDB connector
2025-06-02 16:13:17 [INFO] app.main:222 - lifespan(): Organisation system initialized successfully
2025-06-02 16:13:17 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:13:39 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62259 - "GET /api/v2/organisations/test-controller HTTP/1.1" 403
2025-06-02 16:13:47 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62275 - "GET /health HTTP/1.1" 200
2025-06-02 16:14:04 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62292 - "GET /api/v2/organisations/health HTTP/1.1" 403
2025-06-02 16:14:23 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62294 - "GET /api/v2/organisations/test-controller HTTP/1.1" 403
2025-06-02 16:14:34 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:14:35 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:14:35 [INFO] app.main:228 - lifespan(): Running shutdown tasks...
2025-06-02 16:14:35 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:14:35 [INFO] uvicorn.error:93 - _serve(): Finished server process [5470]
2025-06-02 16:20:47 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:20:49 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:20:49 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:20:49 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:20:49 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:20:49 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:20:49 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:20:49 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:20:49 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:20:49 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:20:50 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:21:06 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:21:07 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:21:07 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:21:08 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:21:08 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:21:08 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:21:08 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:21:08 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:21:08 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:21:08 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:21:08 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:21:08 [INFO] app.config.dependency_container:61 - initialize(): Initializing dependency container...
2025-06-02 16:21:08 [INFO] app.config.dependency_container:90 - _setup_infrastructure(): MongoDB connector configured with database: 
2025-06-02 16:21:08 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-02 16:21:08 [INFO] app.config.dependency_container:133 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-02 16:21:08 [WARNING] app.config.dependency_container:162 - _setup_services(): Organisation service setup failed: 'MongoDBConnector' object has no attribute 'organisations'
2025-06-02 16:21:08 [INFO] app.config.dependency_container:165 - _setup_services(): Services initialized
2025-06-02 16:21:08 [INFO] app.config.dependency_container:170 - _setup_controllers(): Controllers setup deferred
2025-06-02 16:21:08 [INFO] app.config.dependency_container:70 - initialize(): Dependency container initialized successfully
2025-06-02 16:21:17 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:21:20 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:21:20 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:21:21 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:21:21 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:21:21 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:21:21 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:21:21 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:21:21 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:21:21 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:21:21 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:21:21 [INFO] uvicorn.error:83 - _serve(): Started server process [5794]
2025-06-02 16:21:21 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:21:21 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:21:21 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:21:21 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:21:21 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:21:25 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62771 - "GET /health HTTP/1.1" 200
2025-06-02 16:21:25 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:21:25 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:21:25 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 16:21:25 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:21:25 [INFO] uvicorn.error:93 - _serve(): Finished server process [5794]
2025-06-02 16:21:26 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:21:28 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:21:28 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:21:28 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:21:29 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:21:29 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:21:29 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:21:29 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:21:29 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:21:29 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:21:29 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:21:29 [INFO] uvicorn.error:83 - _serve(): Started server process [5814]
2025-06-02 16:21:29 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:21:29 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:21:29 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:21:29 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:21:29 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:21:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62782 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 403
2025-06-02 16:21:38 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:21:38 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:21:38 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 16:21:38 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:21:38 [INFO] uvicorn.error:93 - _serve(): Finished server process [5814]
2025-06-02 16:22:14 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:22:28 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:22:28 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:22:29 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:22:30 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:22:30 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:22:30 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:22:30 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:22:30 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:22:30 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:22:31 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:22:31 [INFO] uvicorn.error:83 - _serve(): Started server process [5876]
2025-06-02 16:22:31 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:22:31 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:22:31 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:22:31 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:22:31 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:23:25 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:23:25 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:23:25 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 16:23:25 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:23:25 [INFO] uvicorn.error:93 - _serve(): Finished server process [5876]
2025-06-02 16:23:39 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:23:43 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:23:43 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:23:43 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:23:44 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:23:44 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:23:44 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:23:44 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:23:44 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:23:44 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:23:44 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:23:44 [INFO] uvicorn.error:83 - _serve(): Started server process [5953]
2025-06-02 16:23:44 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:23:44 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:23:44 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:23:44 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:23:44 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:28:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62951 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-02 16:28:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62951 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-02 16:28:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62951 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-02 16:28:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62951 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-02 16:28:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62953 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-02 16:28:43 [INFO] app.config.dependency_container:61 - initialize(): Initializing dependency container...
2025-06-02 16:28:43 [INFO] app.config.dependency_container:90 - _setup_infrastructure(): MongoDB connector configured with database: 
2025-06-02 16:28:43 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-02 16:28:43 [INFO] app.config.dependency_container:133 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-02 16:28:43 [WARNING] app.config.dependency_container:162 - _setup_services(): Organisation service setup failed: 'MongoDBConnector' object has no attribute 'organisations'
2025-06-02 16:28:43 [INFO] app.config.dependency_container:165 - _setup_services(): Services initialized
2025-06-02 16:28:43 [INFO] app.config.dependency_container:170 - _setup_controllers(): Controllers setup deferred
2025-06-02 16:28:43 [INFO] app.config.dependency_container:70 - initialize(): Dependency container initialized successfully
2025-06-02 16:28:43 [ERROR] app.api.routes.organisation_routes:99 - _list_organisations_impl(): Error listing organisations: OrganisationSearchFiltersDTO.__init__() got an unexpected keyword argument 'skip'
2025-06-02 16:28:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62951 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-02 16:28:43 [ERROR] app.api.routes.organisation_routes:99 - _list_organisations_impl(): Error listing organisations: OrganisationSearchFiltersDTO.__init__() got an unexpected keyword argument 'skip'
2025-06-02 16:28:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62951 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-02 16:31:15 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:31:16 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:31:16 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 16:31:16 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:31:16 [INFO] uvicorn.error:93 - _serve(): Finished server process [5953]
2025-06-02 16:31:21 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:31:22 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:31:25 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:31:25 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:31:25 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:31:25 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:31:25 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:31:25 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:31:25 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:31:25 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:31:26 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:31:26 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:31:26 [INFO] app.config.dependency_container:61 - initialize(): Initializing dependency container...
2025-06-02 16:31:26 [INFO] app.config.dependency_container:90 - _setup_infrastructure(): MongoDB connector configured with database: 
2025-06-02 16:31:26 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-02 16:31:26 [INFO] app.config.dependency_container:133 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-02 16:31:26 [WARNING] app.config.dependency_container:162 - _setup_services(): Organisation service setup failed: 'MongoDBConnector' object has no attribute 'organisations'
2025-06-02 16:31:26 [INFO] app.config.dependency_container:165 - _setup_services(): Services initialized
2025-06-02 16:31:26 [INFO] app.config.dependency_container:170 - _setup_controllers(): Controllers setup deferred
2025-06-02 16:31:26 [INFO] app.config.dependency_container:70 - initialize(): Dependency container initialized successfully
2025-06-02 16:31:28 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:31:28 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:31:29 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:31:30 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:31:30 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:31:30 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:31:30 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:31:30 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:31:30 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:31:31 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:31:31 [INFO] uvicorn.error:83 - _serve(): Started server process [5997]
2025-06-02 16:31:31 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:31:31 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:31:31 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:31:31 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:31:31 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:31:41 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63185 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 403
2025-06-02 16:31:48 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63187 - "GET /health HTTP/1.1" 200
2025-06-02 16:31:54 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:31:54 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:31:54 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 16:31:54 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:31:54 [INFO] uvicorn.error:93 - _serve(): Finished server process [5997]
2025-06-02 16:33:42 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:33:46 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:33:46 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:33:46 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:33:47 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:33:47 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:33:47 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:33:47 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:33:47 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:33:47 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:33:47 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:33:47 [INFO] uvicorn.error:83 - _serve(): Started server process [6215]
2025-06-02 16:33:47 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:33:47 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:33:47 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:33:47 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:33:47 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:34:44 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63305 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-02 16:34:44 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63305 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-02 16:34:44 [INFO] app.config.dependency_container:61 - initialize(): Initializing dependency container...
2025-06-02 16:34:44 [INFO] app.config.dependency_container:90 - _setup_infrastructure(): MongoDB connector configured with database: 
2025-06-02 16:34:44 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-02 16:34:44 [INFO] app.config.dependency_container:133 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-02 16:34:44 [WARNING] app.config.dependency_container:162 - _setup_services(): Organisation service setup failed: 'MongoDBConnector' object has no attribute 'organisations'
2025-06-02 16:34:44 [INFO] app.config.dependency_container:165 - _setup_services(): Services initialized
2025-06-02 16:34:44 [INFO] app.config.dependency_container:170 - _setup_controllers(): Controllers setup deferred
2025-06-02 16:34:44 [INFO] app.config.dependency_container:70 - initialize(): Dependency container initialized successfully
2025-06-02 16:34:44 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-02 16:34:44 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63309 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-02 16:34:44 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'organisations'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_count'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page_size'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_pages'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_next'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_previous'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}

2025-06-02 16:34:44 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-02 16:34:44 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63305 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-02 16:34:44 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'organisations'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_count'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page_size'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_pages'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_next'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_previous'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}

2025-06-02 16:41:49 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:41:49 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:41:49 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 16:41:49 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:41:49 [INFO] uvicorn.error:93 - _serve(): Finished server process [6215]
2025-06-02 16:41:54 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:41:55 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:41:57 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:41:57 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:41:58 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:41:58 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:41:58 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:41:58 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:41:58 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:41:58 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:41:58 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:41:59 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:41:59 [INFO] app.config.dependency_container:61 - initialize(): Initializing dependency container...
2025-06-02 16:41:59 [INFO] app.config.dependency_container:90 - _setup_infrastructure(): MongoDB connector configured with database: 
2025-06-02 16:41:59 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-02 16:41:59 [INFO] app.config.dependency_container:133 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-02 16:41:59 [WARNING] app.config.dependency_container:164 - _setup_services(): Organisation service setup failed: MongoDBConnector.get_database() missing 1 required positional argument: 'database_name'
2025-06-02 16:41:59 [INFO] app.config.dependency_container:167 - _setup_services(): Services initialized
2025-06-02 16:41:59 [INFO] app.config.dependency_container:172 - _setup_controllers(): Controllers setup deferred
2025-06-02 16:41:59 [INFO] app.config.dependency_container:70 - initialize(): Dependency container initialized successfully
2025-06-02 16:42:01 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:42:01 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:42:02 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:42:02 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:42:02 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:42:02 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:42:03 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:42:03 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:42:03 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:42:03 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:42:03 [INFO] uvicorn.error:83 - _serve(): Started server process [6298]
2025-06-02 16:42:03 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:42:03 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:42:03 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:42:03 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:42:03 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:42:24 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:42:24 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:42:24 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 16:42:24 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:42:24 [INFO] uvicorn.error:93 - _serve(): Finished server process [6298]
2025-06-02 16:42:34 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:42:38 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:42:39 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:42:39 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:42:39 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:42:40 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:42:40 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:42:40 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:42:40 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:42:40 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:42:40 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:42:40 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:42:40 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:42:40 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:42:41 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:42:41 [INFO] app.config.dependency_container:61 - initialize(): Initializing dependency container...
2025-06-02 16:42:41 [INFO] app.config.dependency_container:90 - _setup_infrastructure(): MongoDB connector configured with database: 
2025-06-02 16:42:41 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-02 16:42:41 [INFO] app.config.dependency_container:133 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-02 16:42:41 [WARNING] app.config.dependency_container:166 - _setup_services(): Organisation service setup failed: Not connected to MongoDB. Call connect() first. Connection string: None and database_name: pms
2025-06-02 16:42:41 [INFO] app.config.dependency_container:169 - _setup_services(): Services initialized
2025-06-02 16:42:41 [INFO] app.config.dependency_container:174 - _setup_controllers(): Controllers setup deferred
2025-06-02 16:42:41 [INFO] app.config.dependency_container:70 - initialize(): Dependency container initialized successfully
2025-06-02 16:42:41 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:42:41 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:42:41 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:42:41 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:42:41 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:42:41 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:42:42 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:42:42 [INFO] uvicorn.error:83 - _serve(): Started server process [6335]
2025-06-02 16:42:42 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:42:42 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:42:42 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:42:42 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:42:42 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:42:46 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:42:53 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:42:53 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:42:54 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:42:54 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:42:55 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:42:55 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:42:55 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:42:55 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:42:55 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:42:55 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:42:55 [INFO] uvicorn.error:83 - _serve(): Started server process [6365]
2025-06-02 16:42:55 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:42:55 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:42:55 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:42:55 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:42:55 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:43:01 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63688 - "GET /health HTTP/1.1" 200
2025-06-02 16:43:06 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63690 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 403
2025-06-02 16:43:14 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:43:14 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:43:14 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 16:43:14 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:43:14 [INFO] uvicorn.error:93 - _serve(): Finished server process [6365]
2025-06-02 16:44:45 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:44:48 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:44:48 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:44:49 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:44:49 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:44:49 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:44:49 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:44:49 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:44:49 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:44:50 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:44:50 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:44:50 [INFO] uvicorn.error:83 - _serve(): Started server process [6555]
2025-06-02 16:44:50 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:44:50 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:44:50 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:44:50 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:44:50 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:45:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63824 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-02 16:45:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63826 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-02 16:45:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63824 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-02 16:45:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63824 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-02 16:45:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63824 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-02 16:45:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63826 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-02 16:45:57 [INFO] app.config.dependency_container:61 - initialize(): Initializing dependency container...
2025-06-02 16:45:57 [INFO] app.config.dependency_container:90 - _setup_infrastructure(): MongoDB connector configured with database: 
2025-06-02 16:45:57 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-02 16:45:57 [INFO] app.config.dependency_container:133 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-02 16:45:57 [WARNING] app.config.dependency_container:166 - _setup_services(): Organisation service setup failed: Not connected to MongoDB. Call connect() first. Connection string: None and database_name: pms
2025-06-02 16:45:57 [INFO] app.config.dependency_container:169 - _setup_services(): Services initialized
2025-06-02 16:45:57 [INFO] app.config.dependency_container:174 - _setup_controllers(): Controllers setup deferred
2025-06-02 16:45:57 [INFO] app.config.dependency_container:70 - initialize(): Dependency container initialized successfully
2025-06-02 16:45:57 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-02 16:45:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63830 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-02 16:45:57 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'organisations'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_count'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page_size'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_pages'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_next'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_previous'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}

2025-06-02 16:45:57 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-02 16:45:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63826 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-02 16:45:57 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'organisations'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_count'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page_size'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_pages'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_next'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_previous'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}

2025-06-02 16:48:16 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 16:48:16 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 16:48:16 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 16:48:16 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 16:48:16 [INFO] uvicorn.error:93 - _serve(): Finished server process [6555]
2025-06-02 16:48:23 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:48:31 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:48:31 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:48:32 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:48:32 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:48:33 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:48:33 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:48:33 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:48:33 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:48:33 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:48:33 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:48:33 [INFO] uvicorn.error:83 - _serve(): Started server process [6584]
2025-06-02 16:48:33 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:48:33 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:48:33 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:48:33 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:48:33 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:48:42 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:48:47 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:48:47 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:48:48 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:48:48 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:48:48 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:48:48 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:48:48 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:48:48 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:48:49 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:48:49 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:48:49 [INFO] uvicorn.error:83 - _serve(): Started server process [6615]
2025-06-02 16:48:49 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:48:49 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:48:49 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:48:49 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:48:49 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 16:48:54 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 16:48:58 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 16:48:58 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 16:48:59 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 16:48:59 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 16:48:59 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 16:48:59 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 16:49:00 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 16:49:00 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 16:49:00 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 16:49:00 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 16:49:00 [INFO] uvicorn.error:83 - _serve(): Started server process [6635]
2025-06-02 16:49:00 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 16:49:00 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 16:49:00 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 16:49:00 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 16:49:00 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 17:04:41 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 17:04:41 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 17:04:41 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 17:04:41 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 17:04:41 [INFO] uvicorn.error:93 - _serve(): Finished server process [6635]
2025-06-02 17:04:47 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 17:04:51 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 17:04:51 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 17:04:51 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 17:04:52 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 17:04:52 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 17:04:52 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 17:04:52 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 17:04:52 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 17:04:52 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 17:04:53 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 17:04:53 [INFO] uvicorn.error:83 - _serve(): Started server process [6720]
2025-06-02 17:04:53 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 17:04:53 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 17:04:53 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 17:04:53 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 17:04:53 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 17:39:23 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 17:39:23 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 17:39:23 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 17:39:23 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 17:39:23 [INFO] uvicorn.error:93 - _serve(): Finished server process [6720]
2025-06-02 17:39:34 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 17:39:39 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 17:39:40 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 17:39:40 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 17:39:41 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 17:39:41 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 17:39:41 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 17:39:41 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 17:39:41 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 17:39:41 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 17:39:41 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 17:39:41 [INFO] uvicorn.error:83 - _serve(): Started server process [6905]
2025-06-02 17:39:41 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 17:39:41 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 17:39:41 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 17:39:41 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 17:39:41 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 17:39:45 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 17:39:50 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 17:39:50 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 17:39:51 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 17:39:51 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 17:39:51 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 17:39:51 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 17:39:51 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 17:39:51 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 17:39:51 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 17:39:53 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 17:39:53 [INFO] uvicorn.error:83 - _serve(): Started server process [6938]
2025-06-02 17:39:53 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 17:39:53 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 17:39:53 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 17:39:53 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 17:39:53 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 17:39:54 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 17:39:54 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 17:39:54 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 17:39:54 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 17:39:54 [INFO] uvicorn.error:93 - _serve(): Finished server process [6938]
2025-06-02 17:40:00 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 17:40:05 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 17:40:05 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 17:40:06 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 17:40:06 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 17:40:07 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 17:40:07 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 17:40:07 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 17:40:07 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 17:40:07 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 17:40:08 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 17:40:08 [INFO] uvicorn.error:83 - _serve(): Started server process [6952]
2025-06-02 17:40:08 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 17:40:08 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 17:40:08 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 17:40:08 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 17:40:08 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 17:40:10 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 17:40:10 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 17:40:10 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 17:40:10 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 17:40:10 [INFO] uvicorn.error:93 - _serve(): Finished server process [6952]
2025-06-02 17:40:15 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 17:40:23 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 17:40:23 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 17:40:23 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 17:40:24 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 17:40:24 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 17:40:24 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 17:40:24 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 17:40:24 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 17:40:24 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 17:40:25 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 17:40:25 [INFO] uvicorn.error:83 - _serve(): Started server process [6971]
2025-06-02 17:40:25 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 17:40:25 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 17:40:25 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 17:40:25 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 17:40:25 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 17:40:28 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 17:40:33 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 17:40:33 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 17:40:35 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 17:40:35 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 17:40:35 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 17:40:35 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 17:40:36 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 17:40:36 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 17:40:36 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 17:40:36 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 17:40:36 [INFO] uvicorn.error:83 - _serve(): Started server process [6990]
2025-06-02 17:40:36 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 17:40:36 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 17:40:36 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 17:40:36 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 17:40:36 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 17:42:52 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 17:42:52 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 17:42:52 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 17:42:52 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 17:42:52 [INFO] uvicorn.error:93 - _serve(): Finished server process [6990]
2025-06-02 17:42:59 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 17:43:02 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 17:43:03 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 17:43:03 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 17:43:03 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 17:43:03 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 17:43:03 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 17:43:04 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 17:43:04 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 17:43:04 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 17:43:04 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 17:43:04 [INFO] uvicorn.error:83 - _serve(): Started server process [7021]
2025-06-02 17:43:04 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 17:43:04 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 17:43:04 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 17:43:04 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 17:43:04 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 17:43:10 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 17:43:15 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 17:43:15 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 17:43:16 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 17:43:16 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 17:43:17 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 17:43:17 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 17:43:17 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 17:43:17 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 17:43:17 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 17:43:17 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 17:43:17 [INFO] uvicorn.error:83 - _serve(): Started server process [7037]
2025-06-02 17:43:17 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 17:43:17 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 17:43:17 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 17:43:17 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 17:43:17 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-02 17:44:55 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-02 17:44:55 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-02 17:44:55 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-02 17:44:55 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-02 17:44:55 [INFO] uvicorn.error:93 - _serve(): Finished server process [7037]
2025-06-02 17:45:00 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-02 17:45:04 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-02 17:45:04 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-02 17:45:04 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-02 17:45:04 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-02 17:45:04 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-02 17:45:05 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-02 17:45:05 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-02 17:45:05 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-02 17:45:05 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-02 17:45:05 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-02 17:45:05 [INFO] uvicorn.error:83 - _serve(): Started server process [7081]
2025-06-02 17:45:05 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-02 17:45:05 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-02 17:45:05 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-02 17:45:05 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-02 17:45:05 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:09:08 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:09:24 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:09:24 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:09:26 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:09:26 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:09:26 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:09:27 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:09:27 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:09:27 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:09:27 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:09:28 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-03 09:09:28 [INFO] uvicorn.error:83 - _serve(): Started server process [1309]
2025-06-03 09:09:28 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:09:28 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-03 09:09:28 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-03 09:09:28 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-03 09:09:28 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:11:27 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49530 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200
2025-06-03 09:11:28 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-03 09:11:29 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-03 09:11:29 [INFO] app.infrastructure.database.mongodb_connector:90 - disconnect(): MongoDB connections closed
2025-06-03 09:11:29 [WARNING] passlib.handlers.bcrypt:622 - _load_backend_mixin(): (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-03 09:11:30 [INFO] app.auth.jwt_handler:37 - create_access_token(): Access token created for user: superadmin
2025-06-03 09:11:30 [INFO] app.api.controllers.auth_controller:160 - login(): User superadmin logged in successfully
2025-06-03 09:11:30 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49532 - "POST /api/v2/auth/login HTTP/1.1" 200
2025-06-03 09:11:30 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49532 - "OPTIONS /api/v2/users/analytics/statistics HTTP/1.1" 200
2025-06-03 09:11:30 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49530 - "OPTIONS /api/v2/users/analytics/statistics HTTP/1.1" 200
2025-06-03 09:11:30 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 09:11:30 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 09:11:30 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 09:11:30 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 09:11:30 [WARNING] app.config.dependency_container:170 - _setup_services(): Organisation service setup failed: Can't instantiate abstract class OrganisationServiceImpl without an implementation for abstract methods 'bulk_export_organisations', 'bulk_import_organisations', 'bulk_update_employee_strength', 'bulk_update_organisations', 'bulk_update_status', 'check_organisation_exists', 'generate_health_report', 'get_all_organisations', 'get_capacity_utilization_report', 'get_geographic_distribution_report', 'get_growth_trends_report', 'get_organisation_analytics', 'get_organisation_by_pan', 'get_organisations_by_location', 'get_organisations_by_status', 'get_organisations_by_type', 'get_organisations_needing_attention', 'get_top_organisations_report', 'get_type_distribution_report', 'get_unhealthy_organisations', 'perform_health_check', 'schedule_health_checks', 'send_capacity_alert_notification', 'send_organisation_created_notification', 'send_organisation_updated_notification', 'send_status_change_notification', 'validate_business_rules', 'validate_organisation_update', 'validate_uniqueness_constraints'
2025-06-03 09:11:30 [INFO] app.config.dependency_container:173 - _setup_services(): Services initialized
2025-06-03 09:11:30 [INFO] app.config.dependency_container:178 - _setup_controllers(): Controllers setup deferred
2025-06-03 09:11:30 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 09:11:31 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-03 09:11:31 [INFO] app.infrastructure.repositories.mongodb_user_repository:90 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-03 09:11:31 [ERROR] app.infrastructure.repositories.mongodb_user_repository:871 - get_statistics(): Error getting user statistics: UserStatisticsDTO.__init__() got an unexpected keyword argument 'total_roles'. Did you mean 'total_users'?
2025-06-03 09:11:31 [ERROR] app.infrastructure.services.user_service_impl:773 - get_user_statistics(): Error getting user statistics for organisation localhost: UserStatisticsDTO.__init__() got an unexpected keyword argument 'total_roles'. Did you mean 'total_users'?
2025-06-03 09:11:31 [ERROR] app.api.controllers.user_controller:197 - get_user_statistics(): Error getting user statistics in organisation localhost: UserStatisticsDTO.__init__() got an unexpected keyword argument 'total_roles'. Did you mean 'total_users'?
2025-06-03 09:11:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49532 - "GET /api/v2/users/analytics/statistics HTTP/1.1" 500
2025-06-03 09:11:31 [ERROR] app.infrastructure.repositories.mongodb_user_repository:871 - get_statistics(): Error getting user statistics: UserStatisticsDTO.__init__() got an unexpected keyword argument 'total_roles'. Did you mean 'total_users'?
2025-06-03 09:11:31 [ERROR] app.infrastructure.services.user_service_impl:773 - get_user_statistics(): Error getting user statistics for organisation localhost: UserStatisticsDTO.__init__() got an unexpected keyword argument 'total_roles'. Did you mean 'total_users'?
2025-06-03 09:11:31 [ERROR] app.api.controllers.user_controller:197 - get_user_statistics(): Error getting user statistics in organisation localhost: UserStatisticsDTO.__init__() got an unexpected keyword argument 'total_roles'. Did you mean 'total_users'?
2025-06-03 09:11:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49532 - "GET /api/v2/users/analytics/statistics HTTP/1.1" 500
2025-06-03 09:11:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49532 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:11:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49530 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:11:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49548 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:11:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49548 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:11:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49530 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:11:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49548 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:11:35 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:11:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49532 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-03 09:11:35 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'organisations'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_count'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page_size'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_pages'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_next'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_previous'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}

2025-06-03 09:11:35 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:11:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49548 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-03 09:11:35 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'organisations'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_count'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page_size'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_pages'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_next'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_previous'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}

2025-06-03 09:18:58 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50550 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:18:58 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50550 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:18:58 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:18:58 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50550 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-03 09:18:58 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'organisations'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_count'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page_size'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_pages'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_next'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_previous'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}

2025-06-03 09:18:58 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:18:58 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50554 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-03 09:18:58 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'organisations'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_count'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'page_size'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'total_pages'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_next'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}
  {'type': 'missing', 'loc': ('response', 'has_previous'), 'msg': 'Field required', 'input': {'status': 'success', 'message': 'Mock implementation'}}

2025-06-03 09:20:50 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:20:50 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:20:50 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-03 09:20:50 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:20:50 [INFO] uvicorn.error:93 - _serve(): Finished server process [1309]
2025-06-03 09:20:54 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:21:00 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:21:00 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:21:00 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:21:01 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:21:02 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:21:02 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:21:02 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:21:02 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:21:02 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:21:02 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:21:02 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:21:02 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:21:03 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:21:03 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:21:03 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:21:03 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:21:03 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:21:03 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:21:03 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:21:04 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-03 09:21:04 [INFO] uvicorn.error:83 - _serve(): Started server process [1645]
2025-06-03 09:21:04 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:21:04 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-03 09:21:04 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-03 09:21:04 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-03 09:21:04 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:21:04 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-03 09:21:04 [INFO] uvicorn.error:83 - _serve(): Started server process [1883]
2025-06-03 09:21:04 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:21:04 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-03 09:21:04 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-03 09:21:04 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-03 09:21:04 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:21:06 [WARNING] app.auth.jwt_handler:81 - decode_access_token(): Invalid token: Not enough segments
2025-06-03 09:21:06 [ERROR] app.auth.auth_dependencies:108 - get_current_user(): Authentication error: Invalid token: Not enough segments
2025-06-03 09:21:06 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50955 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 401
2025-06-03 09:21:13 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50970 - "GET /docs HTTP/1.1" 200
2025-06-03 09:21:43 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:21:43 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:21:43 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:21:43 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-03 09:21:43 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:21:43 [INFO] uvicorn.error:93 - _serve(): Finished server process [1883]
2025-06-03 09:21:43 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:21:43 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-03 09:21:43 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:21:43 [INFO] uvicorn.error:93 - _serve(): Finished server process [1645]
2025-06-03 09:21:45 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:21:47 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:21:47 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:21:47 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:21:47 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:21:47 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:21:47 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:21:48 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:21:48 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:21:48 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:21:48 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-03 09:21:48 [INFO] uvicorn.error:83 - _serve(): Started server process [1922]
2025-06-03 09:21:48 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:21:48 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-03 09:21:48 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-03 09:21:48 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-03 09:21:48 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:21:49 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51000 - "GET /api/v2/organisations/test-mock HTTP/1.1" 403
2025-06-03 09:21:50 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:21:55 [INFO] app.main:176 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:21:55 [INFO] app.main:207 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:21:56 [INFO] app.main:216 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:21:56 [INFO] app.main:221 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:21:56 [INFO] app.main:225 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:21:57 [INFO] app.main:229 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:21:57 [INFO] app.main:233 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:21:57 [INFO] app.main:241 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:21:57 [INFO] app.main:250 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:21:57 [INFO] app.main:254 - <module>(): ✅ Organisation routes registered
2025-06-03 09:21:57 [INFO] uvicorn.error:83 - _serve(): Started server process [1923]
2025-06-03 09:21:57 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:21:57 [INFO] app.main:127 - lifespan(): Running startup tasks...
2025-06-03 09:21:57 [INFO] app.main:132 - lifespan(): Dependency container initialized
2025-06-03 09:21:57 [INFO] app.main:139 - lifespan(): Organisation system initialized successfully
2025-06-03 09:21:57 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:22:16 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:22:16 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:22:16 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-03 09:22:16 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:22:16 [INFO] uvicorn.error:93 - _serve(): Finished server process [1923]
2025-06-03 09:22:16 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:22:16 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:22:16 [INFO] app.main:145 - lifespan(): Running shutdown tasks...
2025-06-03 09:22:16 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:22:16 [INFO] uvicorn.error:93 - _serve(): Finished server process [1922]
2025-06-03 09:22:18 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:22:20 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:22:20 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:22:20 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:22:20 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:22:20 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:22:20 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:22:20 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:22:20 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:22:20 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:22:21 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:22:21 [INFO] uvicorn.error:83 - _serve(): Started server process [1958]
2025-06-03 09:22:21 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:22:21 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:22:21 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:22:21 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:22:21 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:22:22 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:22:22 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 09:22:22 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 09:22:22 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 09:22:22 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 09:22:22 [WARNING] app.config.dependency_container:170 - _setup_services(): Organisation service setup failed: Can't instantiate abstract class OrganisationServiceImpl without an implementation for abstract methods 'bulk_export_organisations', 'bulk_import_organisations', 'bulk_update_employee_strength', 'bulk_update_organisations', 'bulk_update_status', 'check_organisation_exists', 'generate_health_report', 'get_all_organisations', 'get_capacity_utilization_report', 'get_geographic_distribution_report', 'get_growth_trends_report', 'get_organisation_analytics', 'get_organisation_by_pan', 'get_organisations_by_location', 'get_organisations_by_status', 'get_organisations_by_type', 'get_organisations_needing_attention', 'get_top_organisations_report', 'get_type_distribution_report', 'get_unhealthy_organisations', 'perform_health_check', 'schedule_health_checks', 'send_capacity_alert_notification', 'send_organisation_created_notification', 'send_organisation_updated_notification', 'send_status_change_notification', 'validate_business_rules', 'validate_organisation_update', 'validate_uniqueness_constraints'
2025-06-03 09:22:22 [INFO] app.config.dependency_container:173 - _setup_services(): Services initialized
2025-06-03 09:22:22 [INFO] app.config.dependency_container:178 - _setup_controllers(): Controllers setup deferred
2025-06-03 09:22:22 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 09:22:22 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:22:22 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51028 - "GET /test-organisation-mock HTTP/1.1" 200
2025-06-03 09:22:27 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:22:28 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:22:28 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:22:29 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:22:29 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:22:29 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:22:29 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:22:29 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:22:29 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:22:30 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:22:30 [INFO] uvicorn.error:83 - _serve(): Started server process [1957]
2025-06-03 09:22:30 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:22:30 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:22:30 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:22:30 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:22:30 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:22:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51029 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 403
2025-06-03 09:23:01 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:23:01 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:23:01 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:23:01 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:23:01 [INFO] uvicorn.error:93 - _serve(): Finished server process [1958]
2025-06-03 09:23:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51093 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:23:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51093 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:23:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51095 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:23:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51093 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:23:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51093 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:23:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51095 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:23:07 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 09:23:07 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 09:23:07 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 09:23:07 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 09:23:07 [WARNING] app.config.dependency_container:170 - _setup_services(): Organisation service setup failed: Can't instantiate abstract class OrganisationServiceImpl without an implementation for abstract methods 'bulk_export_organisations', 'bulk_import_organisations', 'bulk_update_employee_strength', 'bulk_update_organisations', 'bulk_update_status', 'check_organisation_exists', 'generate_health_report', 'get_all_organisations', 'get_capacity_utilization_report', 'get_geographic_distribution_report', 'get_growth_trends_report', 'get_organisation_analytics', 'get_organisation_by_pan', 'get_organisations_by_location', 'get_organisations_by_status', 'get_organisations_by_type', 'get_organisations_needing_attention', 'get_top_organisations_report', 'get_type_distribution_report', 'get_unhealthy_organisations', 'perform_health_check', 'schedule_health_checks', 'send_capacity_alert_notification', 'send_organisation_created_notification', 'send_organisation_updated_notification', 'send_status_change_notification', 'validate_business_rules', 'validate_organisation_update', 'validate_uniqueness_constraints'
2025-06-03 09:23:07 [INFO] app.config.dependency_container:173 - _setup_services(): Services initialized
2025-06-03 09:23:07 [INFO] app.config.dependency_container:178 - _setup_controllers(): Controllers setup deferred
2025-06-03 09:23:07 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 09:23:07 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:23:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51097 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:23:07 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:23:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51097 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:25:05 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:25:05 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:25:05 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:25:05 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:25:05 [INFO] uvicorn.error:93 - _serve(): Finished server process [1957]
2025-06-03 09:25:09 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:25:14 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:25:14 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:25:14 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:25:15 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:25:15 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:25:15 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:25:15 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:25:15 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:25:15 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:25:15 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:25:15 [INFO] uvicorn.error:83 - _serve(): Started server process [2040]
2025-06-03 09:25:15 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:25:15 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:25:15 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:25:15 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:25:15 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:25:49 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:25:49 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:25:49 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:25:49 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:25:49 [INFO] uvicorn.error:93 - _serve(): Finished server process [2040]
2025-06-03 09:25:54 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:26:01 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:26:01 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:26:02 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:26:03 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:26:03 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:26:03 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:26:03 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:26:03 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:26:03 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:26:05 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:26:05 [INFO] uvicorn.error:83 - _serve(): Started server process [2068]
2025-06-03 09:26:05 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:26:05 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:26:05 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:26:05 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:26:05 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:26:10 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:26:14 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:26:14 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:26:15 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:26:16 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:26:16 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:26:16 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:26:16 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:26:16 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:26:16 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:26:17 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:26:17 [INFO] uvicorn.error:83 - _serve(): Started server process [2101]
2025-06-03 09:26:17 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:26:17 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:26:17 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:26:17 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:26:17 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:26:18 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:26:19 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:26:19 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:26:19 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:26:19 [INFO] uvicorn.error:93 - _serve(): Finished server process [2101]
2025-06-03 09:26:23 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:26:28 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:26:29 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:26:30 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:26:30 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:26:30 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:26:30 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:26:30 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:26:30 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:26:30 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:26:31 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:26:31 [INFO] uvicorn.error:83 - _serve(): Started server process [2111]
2025-06-03 09:26:31 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:26:31 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:26:31 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:26:31 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:26:31 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:26:35 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:26:39 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:26:41 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:26:42 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:26:42 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:26:42 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:26:43 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:26:43 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:26:43 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:26:43 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:26:43 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:26:43 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:26:43 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:26:43 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:26:43 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:26:43 [INFO] uvicorn.error:83 - _serve(): Started server process [2204]
2025-06-03 09:26:43 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:26:43 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:26:43 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:26:43 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:26:43 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:26:44 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:26:44 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:26:44 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:26:44 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:26:44 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:26:44 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:26:45 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:26:45 [INFO] uvicorn.error:83 - _serve(): Started server process [2126]
2025-06-03 09:26:45 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:26:45 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:26:45 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:26:45 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:26:45 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:26:46 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51358 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 403
2025-06-03 09:26:53 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51364 - "GET /health HTTP/1.1" 200
2025-06-03 09:27:00 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51365 - "GET /docs HTTP/1.1" 200
2025-06-03 09:27:42 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:27:42 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:27:42 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:27:42 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:27:42 [INFO] uvicorn.error:93 - _serve(): Finished server process [2126]
2025-06-03 09:27:42 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:27:42 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:27:42 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:27:42 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:27:42 [INFO] uvicorn.error:93 - _serve(): Finished server process [2204]
2025-06-03 09:27:45 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:27:47 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:27:47 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:27:47 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:27:47 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:27:47 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:27:47 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:27:47 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:27:47 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:27:47 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:27:48 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:27:48 [INFO] uvicorn.error:83 - _serve(): Started server process [2277]
2025-06-03 09:27:48 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:27:48 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:27:48 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:27:48 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:27:48 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:27:49 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:27:53 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:27:53 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:27:54 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:27:54 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:27:54 [INFO] uvicorn.error:93 - _serve(): Finished server process [2277]
2025-06-03 09:27:54 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:27:54 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:27:55 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:27:55 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:27:55 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:27:55 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:27:55 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:27:55 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:27:55 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:27:56 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:27:56 [INFO] uvicorn.error:83 - _serve(): Started server process [2276]
2025-06-03 09:27:56 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:27:56 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:27:56 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:27:56 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:27:56 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:28:37 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51444 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:28:37 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51444 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:28:37 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 09:28:37 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 09:28:37 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 09:28:37 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 09:28:37 [WARNING] app.config.dependency_container:170 - _setup_services(): Organisation service setup failed: Can't instantiate abstract class OrganisationServiceImpl without an implementation for abstract methods 'bulk_export_organisations', 'bulk_import_organisations', 'bulk_update_employee_strength', 'bulk_update_organisations', 'bulk_update_status', 'check_organisation_exists', 'generate_health_report', 'get_all_organisations', 'get_capacity_utilization_report', 'get_geographic_distribution_report', 'get_growth_trends_report', 'get_organisation_analytics', 'get_organisation_by_pan', 'get_organisations_by_location', 'get_organisations_by_status', 'get_organisations_by_type', 'get_organisations_needing_attention', 'get_top_organisations_report', 'get_type_distribution_report', 'get_unhealthy_organisations', 'perform_health_check', 'schedule_health_checks', 'send_capacity_alert_notification', 'send_organisation_created_notification', 'send_organisation_updated_notification', 'send_status_change_notification', 'validate_business_rules', 'validate_organisation_update', 'validate_uniqueness_constraints'
2025-06-03 09:28:37 [INFO] app.config.dependency_container:173 - _setup_services(): Services initialized
2025-06-03 09:28:37 [INFO] app.config.dependency_container:178 - _setup_controllers(): Controllers setup deferred
2025-06-03 09:28:37 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 09:28:37 [INFO] app.config.dependency_container:710 - get_organisation_controller(): Organisation controller initialized with production-ready use cases
2025-06-03 09:28:37 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:28:37 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:28:37 [ERROR] app.infrastructure.repositories.mongodb_organisation_repository:359 - search(): Error searching organisations: 'MongoDBOrganisationRepository' object has no attribute 'organisations_collection'
2025-06-03 09:28:37 [ERROR] app.api.routes.organisation_routes:103 - _list_organisations_impl(): Error listing organisations: 'MongoDBOrganisationRepository' object has no attribute 'organisations_collection'
2025-06-03 09:28:37 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51448 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-03 09:28:37 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:28:37 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:28:37 [ERROR] app.infrastructure.repositories.mongodb_organisation_repository:359 - search(): Error searching organisations: 'MongoDBOrganisationRepository' object has no attribute 'organisations_collection'
2025-06-03 09:28:37 [ERROR] app.api.routes.organisation_routes:103 - _list_organisations_impl(): Error listing organisations: 'MongoDBOrganisationRepository' object has no attribute 'organisations_collection'
2025-06-03 09:28:37 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51444 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-03 09:29:36 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:29:36 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:29:36 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:29:36 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:29:36 [INFO] uvicorn.error:93 - _serve(): Finished server process [2276]
2025-06-03 09:29:42 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:30:02 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:30:06 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:30:06 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:30:07 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:30:07 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:30:07 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:30:07 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:30:08 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:30:08 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:30:08 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:30:08 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:30:08 [INFO] uvicorn.error:83 - _serve(): Started server process [2358]
2025-06-03 09:30:08 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:30:08 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:30:08 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:30:08 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:30:08 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:30:12 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:30:17 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:30:17 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:30:18 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:30:18 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:30:18 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:30:18 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:30:19 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:30:19 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:30:19 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:30:19 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:30:19 [INFO] uvicorn.error:83 - _serve(): Started server process [2379]
2025-06-03 09:30:19 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:30:19 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:30:19 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:30:19 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:30:19 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:30:31 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:30:32 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:30:32 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:30:32 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:30:32 [INFO] uvicorn.error:93 - _serve(): Finished server process [2379]
2025-06-03 09:30:36 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:30:42 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:30:42 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:30:42 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:30:44 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:30:45 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:30:45 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:30:45 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:30:45 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:30:45 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:30:45 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:30:45 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:30:45 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:30:45 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:30:46 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:30:46 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:30:46 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:30:46 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:30:46 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:30:46 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:30:46 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:30:46 [INFO] uvicorn.error:83 - _serve(): Started server process [2474]
2025-06-03 09:30:46 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:30:46 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:30:46 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:30:46 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:30:46 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:30:46 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51645 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 403
2025-06-03 09:30:46 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:30:46 [INFO] uvicorn.error:83 - _serve(): Started server process [2390]
2025-06-03 09:30:46 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:30:46 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:30:46 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:30:46 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:30:46 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:30:52 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51656 - "GET /health HTTP/1.1" 200
2025-06-03 09:31:17 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:31:18 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:31:18 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:31:18 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:31:18 [INFO] uvicorn.error:93 - _serve(): Finished server process [2390]
2025-06-03 09:31:18 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:31:18 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:31:18 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:31:18 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:31:18 [INFO] uvicorn.error:93 - _serve(): Finished server process [2474]
2025-06-03 09:31:20 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:31:22 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:31:22 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:31:22 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:31:22 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:31:23 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:31:23 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:31:23 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:31:23 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:31:23 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:31:23 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:31:23 [INFO] uvicorn.error:83 - _serve(): Started server process [2515]
2025-06-03 09:31:23 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:31:23 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:31:23 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:31:23 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:31:23 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:31:24 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:31:27 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:31:28 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:31:28 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:31:28 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:31:28 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:31:28 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:31:29 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:31:29 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:31:29 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:31:29 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:31:29 [INFO] uvicorn.error:83 - _serve(): Started server process [2514]
2025-06-03 09:31:29 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:31:29 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:31:29 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:31:29 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:31:29 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:31:53 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51723 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:31:53 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51723 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:31:53 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 09:31:53 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 09:31:53 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 09:31:53 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 09:31:53 [WARNING] app.config.dependency_container:170 - _setup_services(): Organisation service setup failed: Can't instantiate abstract class OrganisationServiceImpl without an implementation for abstract methods 'bulk_export_organisations', 'bulk_import_organisations', 'bulk_update_employee_strength', 'bulk_update_organisations', 'bulk_update_status', 'check_organisation_exists', 'generate_health_report', 'get_all_organisations', 'get_capacity_utilization_report', 'get_geographic_distribution_report', 'get_growth_trends_report', 'get_organisation_analytics', 'get_organisation_by_pan', 'get_organisations_by_location', 'get_organisations_by_status', 'get_organisations_by_type', 'get_organisations_needing_attention', 'get_top_organisations_report', 'get_type_distribution_report', 'get_unhealthy_organisations', 'perform_health_check', 'schedule_health_checks', 'send_capacity_alert_notification', 'send_organisation_created_notification', 'send_organisation_updated_notification', 'send_status_change_notification', 'validate_business_rules', 'validate_organisation_update', 'validate_uniqueness_constraints'
2025-06-03 09:31:53 [INFO] app.config.dependency_container:173 - _setup_services(): Services initialized
2025-06-03 09:31:53 [INFO] app.config.dependency_container:178 - _setup_controllers(): Controllers setup deferred
2025-06-03 09:31:53 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 09:31:53 [INFO] app.config.dependency_container:710 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 09:31:53 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:31:53 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:31:53 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:31:53 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:31:53 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:31:53 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51723 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:31:53 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:31:53 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:31:53 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:31:53 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:31:53 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:31:53 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51723 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:34:31 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:34:31 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:34:31 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:34:31 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:34:31 [INFO] uvicorn.error:93 - _serve(): Finished server process [2514]
2025-06-03 09:34:37 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:34:41 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:34:41 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:34:42 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:34:43 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:34:43 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:34:43 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:34:43 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:34:43 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:34:43 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:34:43 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:34:43 [INFO] uvicorn.error:83 - _serve(): Started server process [2565]
2025-06-03 09:34:43 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:34:43 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:34:43 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:34:43 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:34:43 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:34:49 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:34:49 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:34:49 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:34:49 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:34:49 [INFO] uvicorn.error:93 - _serve(): Finished server process [2565]
2025-06-03 09:34:53 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:34:59 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:34:59 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:35:00 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:35:00 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:35:00 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:35:00 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:35:00 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:35:00 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:35:01 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:35:01 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:35:01 [INFO] uvicorn.error:83 - _serve(): Started server process [2589]
2025-06-03 09:35:01 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:35:01 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:35:01 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:35:01 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:35:01 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:35:06 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:35:11 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:35:12 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:35:12 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:35:13 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:35:13 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:35:13 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:35:13 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:35:13 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:35:13 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:35:14 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:35:14 [INFO] uvicorn.error:83 - _serve(): Started server process [2604]
2025-06-03 09:35:14 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:35:14 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:35:14 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:35:14 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:35:14 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:35:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51817 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:35:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51819 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:35:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51817 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:35:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51817 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:35:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51819 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:35:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51817 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:35:32 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 09:35:32 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 09:35:32 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 09:35:32 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 09:35:32 [WARNING] app.config.dependency_container:170 - _setup_services(): Organisation service setup failed: Can't instantiate abstract class OrganisationServiceImpl without an implementation for abstract methods 'bulk_export_organisations', 'bulk_import_organisations', 'bulk_update_employee_strength', 'bulk_update_organisations', 'bulk_update_status', 'check_organisation_exists', 'generate_health_report', 'get_all_organisations', 'get_capacity_utilization_report', 'get_geographic_distribution_report', 'get_growth_trends_report', 'get_organisation_analytics', 'get_organisation_by_pan', 'get_organisations_by_location', 'get_organisations_by_status', 'get_organisations_by_type', 'get_organisations_needing_attention', 'get_top_organisations_report', 'get_type_distribution_report', 'get_unhealthy_organisations', 'perform_health_check', 'schedule_health_checks', 'send_capacity_alert_notification', 'send_organisation_created_notification', 'send_organisation_updated_notification', 'send_status_change_notification', 'validate_business_rules', 'validate_organisation_update', 'validate_uniqueness_constraints'
2025-06-03 09:35:32 [INFO] app.config.dependency_container:173 - _setup_services(): Services initialized
2025-06-03 09:35:32 [INFO] app.config.dependency_container:178 - _setup_controllers(): Controllers setup deferred
2025-06-03 09:35:32 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 09:35:32 [INFO] app.config.dependency_container:710 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 09:35:32 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:35:32 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:35:32 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:35:32 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:35:32 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:35:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51823 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:35:32 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:35:32 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:35:32 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:35:32 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:35:32 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:35:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51823 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:37:08 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:37:08 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:37:08 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:37:08 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:37:08 [INFO] uvicorn.error:93 - _serve(): Finished server process [2604]
2025-06-03 09:37:13 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:37:17 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:37:17 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:37:17 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:37:18 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:37:18 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:37:18 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:37:18 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:37:18 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:37:18 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:37:19 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:37:19 [INFO] uvicorn.error:83 - _serve(): Started server process [2657]
2025-06-03 09:37:19 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:37:19 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:37:19 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:37:19 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:37:19 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:37:22 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:37:26 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:37:27 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:37:28 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:37:28 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:37:28 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:37:28 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:37:28 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:37:28 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:37:28 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:37:29 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:37:29 [INFO] uvicorn.error:83 - _serve(): Started server process [2674]
2025-06-03 09:37:29 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:37:29 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:37:29 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:37:29 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:37:29 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:37:33 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:37:33 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:37:33 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:37:33 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:37:33 [INFO] uvicorn.error:93 - _serve(): Finished server process [2674]
2025-06-03 09:37:38 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:37:43 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:37:43 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:37:45 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:37:45 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:37:45 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:37:45 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:37:45 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:37:46 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:37:46 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:37:46 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:37:46 [INFO] uvicorn.error:83 - _serve(): Started server process [2689]
2025-06-03 09:37:46 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:37:46 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:37:46 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:37:46 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:37:46 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:37:54 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:38:00 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:38:00 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:38:01 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:38:01 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:38:01 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:38:02 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:38:02 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:38:02 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:38:02 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:38:02 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:38:02 [INFO] uvicorn.error:83 - _serve(): Started server process [2721]
2025-06-03 09:38:02 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:38:02 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:38:02 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:38:02 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:38:02 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:38:07 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:38:12 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:38:12 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:38:13 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:38:14 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:38:14 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:38:14 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:38:14 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:38:14 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:38:14 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:38:14 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:38:14 [INFO] uvicorn.error:83 - _serve(): Started server process [2758]
2025-06-03 09:38:14 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:38:14 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:38:14 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:38:14 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:38:14 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:38:21 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:38:26 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:38:26 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:38:26 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:38:27 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:38:27 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:38:27 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:38:27 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:38:27 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:38:27 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:38:27 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:38:27 [INFO] uvicorn.error:83 - _serve(): Started server process [2779]
2025-06-03 09:38:27 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:38:27 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:38:27 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:38:27 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:38:27 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:38:31 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:38:35 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:38:35 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:38:37 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:38:37 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:38:37 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:38:37 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:38:37 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:38:38 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:38:38 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:38:38 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:38:38 [INFO] uvicorn.error:83 - _serve(): Started server process [2794]
2025-06-03 09:38:38 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:38:38 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:38:38 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:38:38 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:38:38 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:38:49 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51957 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:38:49 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51957 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:38:49 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 09:38:49 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 09:38:49 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 09:38:49 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 09:38:49 [WARNING] app.config.dependency_container:170 - _setup_services(): Organisation service setup failed: Can't instantiate abstract class OrganisationServiceImpl without an implementation for abstract methods 'bulk_export_organisations', 'bulk_import_organisations', 'bulk_update_employee_strength', 'bulk_update_organisations', 'bulk_update_status', 'check_organisation_exists', 'generate_health_report', 'get_all_organisations', 'get_capacity_utilization_report', 'get_geographic_distribution_report', 'get_growth_trends_report', 'get_organisation_analytics', 'get_organisation_by_pan', 'get_organisations_by_location', 'get_organisations_by_status', 'get_organisations_by_type', 'get_organisations_needing_attention', 'get_top_organisations_report', 'get_type_distribution_report', 'get_unhealthy_organisations', 'perform_health_check', 'schedule_health_checks', 'send_capacity_alert_notification', 'send_organisation_created_notification', 'send_organisation_updated_notification', 'send_status_change_notification', 'validate_business_rules', 'validate_organisation_update', 'validate_uniqueness_constraints'
2025-06-03 09:38:49 [INFO] app.config.dependency_container:173 - _setup_services(): Services initialized
2025-06-03 09:38:49 [INFO] app.config.dependency_container:178 - _setup_controllers(): Controllers setup deferred
2025-06-03 09:38:49 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 09:38:49 [INFO] app.config.dependency_container:710 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 09:38:49 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:38:49 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:38:49 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:38:49 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:38:49 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:38:49 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51957 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:38:49 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:38:49 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:38:49 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:38:49 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:38:49 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:38:49 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51957 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:39:34 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:39:35 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:39:35 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:39:35 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:39:35 [INFO] uvicorn.error:93 - _serve(): Finished server process [2794]
2025-06-03 09:40:53 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:40:55 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:40:55 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:40:55 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:40:55 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:40:55 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:40:55 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:40:55 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:40:55 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:40:55 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:40:55 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:40:55 [INFO] uvicorn.error:83 - _serve(): Started server process [2906]
2025-06-03 09:40:55 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:40:55 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:40:55 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:40:55 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:40:55 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:40:59 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52146 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 403
2025-06-03 09:41:05 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52147 - "GET /api/v2/organisations/health HTTP/1.1" 403
2025-06-03 09:41:31 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:41:31 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:41:31 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:41:31 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:41:31 [INFO] uvicorn.error:93 - _serve(): Finished server process [2906]
2025-06-03 09:41:32 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:41:33 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:41:33 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:41:33 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:41:33 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:41:33 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:41:33 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:41:34 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:41:34 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:41:34 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:41:34 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:41:34 [INFO] uvicorn.error:83 - _serve(): Started server process [2953]
2025-06-03 09:41:34 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:41:34 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:41:34 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:41:34 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:41:34 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:41:37 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 09:41:37 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 09:41:37 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 09:41:37 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 09:41:37 [WARNING] app.config.dependency_container:170 - _setup_services(): Organisation service setup failed: Can't instantiate abstract class OrganisationServiceImpl without an implementation for abstract methods 'bulk_export_organisations', 'bulk_import_organisations', 'bulk_update_employee_strength', 'bulk_update_organisations', 'bulk_update_status', 'check_organisation_exists', 'generate_health_report', 'get_all_organisations', 'get_capacity_utilization_report', 'get_geographic_distribution_report', 'get_growth_trends_report', 'get_organisation_analytics', 'get_organisation_by_pan', 'get_organisations_by_location', 'get_organisations_by_status', 'get_organisations_by_type', 'get_organisations_needing_attention', 'get_top_organisations_report', 'get_type_distribution_report', 'get_unhealthy_organisations', 'perform_health_check', 'schedule_health_checks', 'send_capacity_alert_notification', 'send_organisation_created_notification', 'send_organisation_updated_notification', 'send_status_change_notification', 'validate_business_rules', 'validate_organisation_update', 'validate_uniqueness_constraints'
2025-06-03 09:41:37 [INFO] app.config.dependency_container:173 - _setup_services(): Services initialized
2025-06-03 09:41:37 [INFO] app.config.dependency_container:178 - _setup_controllers(): Controllers setup deferred
2025-06-03 09:41:37 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 09:41:37 [INFO] app.config.dependency_container:710 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 09:41:37 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:41:37 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=5, sort_by='name', sort_order='asc')
2025-06-03 09:41:37 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:41:37 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:41:37 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:41:37 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52172 - "GET /test-db-connection HTTP/1.1" 200
2025-06-03 09:41:46 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:41:46 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:41:46 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:41:46 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:41:46 [INFO] uvicorn.error:93 - _serve(): Finished server process [2953]
2025-06-03 09:41:48 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:41:50 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:41:50 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:41:50 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:41:50 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:41:50 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:41:50 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:41:50 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:41:50 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:41:50 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:41:50 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:41:50 [INFO] uvicorn.error:83 - _serve(): Started server process [2981]
2025-06-03 09:41:50 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:41:50 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:41:50 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:41:50 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:41:50 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:41:51 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:41:52 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:41:52 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:41:53 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:41:53 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:41:53 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:41:53 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:41:53 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:41:53 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:41:53 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:41:53 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:41:53 [INFO] uvicorn.error:83 - _serve(): Started server process [2984]
2025-06-03 09:41:53 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:41:53 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:41:53 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:41:53 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:41:53 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:41:55 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52204 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 403
2025-06-03 09:42:49 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:42:49 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:42:49 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:42:49 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:42:49 [INFO] uvicorn.error:93 - _serve(): Finished server process [2984]
2025-06-03 09:42:49 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:42:51 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:42:51 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:42:51 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:42:51 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:42:51 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:42:51 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:42:51 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:42:51 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:42:51 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:42:51 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:42:51 [INFO] uvicorn.error:83 - _serve(): Started server process [3018]
2025-06-03 09:42:51 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:42:51 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:42:51 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:42:51 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:42:51 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:43:10 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:43:10 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:43:10 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:43:10 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:43:10 [INFO] uvicorn.error:93 - _serve(): Finished server process [3018]
2025-06-03 09:43:24 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:43:29 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:43:29 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:43:30 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:43:30 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:43:30 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:43:30 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:43:30 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:43:30 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:43:30 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:43:31 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:43:31 [INFO] uvicorn.error:83 - _serve(): Started server process [3063]
2025-06-03 09:43:31 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:43:31 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:43:31 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:43:31 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:43:31 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:43:41 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52271 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:43:41 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52271 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:43:42 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 09:43:42 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 09:43:42 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 09:43:42 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 09:43:42 [WARNING] app.config.dependency_container:170 - _setup_services(): Organisation service setup failed: Can't instantiate abstract class OrganisationServiceImpl without an implementation for abstract methods 'bulk_export_organisations', 'bulk_import_organisations', 'bulk_update_employee_strength', 'bulk_update_organisations', 'bulk_update_status', 'check_organisation_exists', 'generate_health_report', 'get_all_organisations', 'get_capacity_utilization_report', 'get_geographic_distribution_report', 'get_growth_trends_report', 'get_organisation_analytics', 'get_organisation_by_pan', 'get_organisations_by_location', 'get_organisations_by_status', 'get_organisations_by_type', 'get_organisations_needing_attention', 'get_top_organisations_report', 'get_type_distribution_report', 'get_unhealthy_organisations', 'perform_health_check', 'schedule_health_checks', 'send_capacity_alert_notification', 'send_organisation_created_notification', 'send_organisation_updated_notification', 'send_status_change_notification', 'validate_business_rules', 'validate_organisation_update', 'validate_uniqueness_constraints'
2025-06-03 09:43:42 [INFO] app.config.dependency_container:173 - _setup_services(): Services initialized
2025-06-03 09:43:42 [INFO] app.config.dependency_container:178 - _setup_controllers(): Controllers setup deferred
2025-06-03 09:43:42 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 09:43:42 [INFO] app.config.dependency_container:710 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 09:43:42 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:43:42 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:43:42 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:43:42 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:43:42 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:43:42 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52271 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:43:42 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:43:42 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:43:42 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:43:42 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:43:42 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:43:42 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52275 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:46:28 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:46:28 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:46:28 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:46:28 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:46:28 [INFO] uvicorn.error:93 - _serve(): Finished server process [3063]
2025-06-03 09:46:32 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:46:37 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:46:37 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:46:37 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:46:38 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:46:38 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:46:38 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:46:38 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:46:38 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:46:38 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:46:39 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:46:39 [INFO] uvicorn.error:83 - _serve(): Started server process [3108]
2025-06-03 09:46:39 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:46:39 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:46:39 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:46:39 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:46:39 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:46:43 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:46:43 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:46:43 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:46:43 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:46:43 [INFO] uvicorn.error:93 - _serve(): Finished server process [3108]
2025-06-03 09:46:47 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:46:52 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:46:52 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:46:53 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:46:53 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:46:53 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:46:53 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:46:53 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:46:53 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:46:53 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:46:54 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:46:54 [INFO] uvicorn.error:83 - _serve(): Started server process [3125]
2025-06-03 09:46:54 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:46:54 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:46:54 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:46:54 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:46:54 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:47:43 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:47:44 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:47:44 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:47:44 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:47:44 [INFO] uvicorn.error:93 - _serve(): Finished server process [3125]
2025-06-03 09:47:47 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:47:52 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:47:52 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:47:53 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:47:53 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:47:53 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:47:53 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:47:53 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:47:53 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:47:53 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:47:54 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:47:54 [INFO] uvicorn.error:83 - _serve(): Started server process [3149]
2025-06-03 09:47:54 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:47:54 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:47:54 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:47:54 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:47:54 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:48:14 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:48:15 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:48:15 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:48:15 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:48:15 [INFO] uvicorn.error:93 - _serve(): Finished server process [3149]
2025-06-03 09:48:18 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:48:22 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:48:23 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:48:23 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:48:24 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:48:24 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:48:24 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:48:24 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:48:24 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:48:24 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:48:25 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:48:25 [INFO] uvicorn.error:83 - _serve(): Started server process [3171]
2025-06-03 09:48:25 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:48:25 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:48:25 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:48:25 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:48:25 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:48:56 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:48:56 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:48:56 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:48:56 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:48:56 [INFO] uvicorn.error:93 - _serve(): Finished server process [3171]
2025-06-03 09:49:01 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:49:04 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:49:04 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:49:05 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:49:05 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:49:05 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:49:05 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:49:05 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:49:05 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:49:06 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:49:06 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:49:06 [INFO] uvicorn.error:83 - _serve(): Started server process [3191]
2025-06-03 09:49:06 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:49:06 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:49:06 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:49:06 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:49:06 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:49:12 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:49:12 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:49:12 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:49:12 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:49:12 [INFO] uvicorn.error:93 - _serve(): Finished server process [3191]
2025-06-03 09:49:16 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:49:19 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:49:19 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:49:20 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:49:20 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:49:20 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:49:20 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:49:20 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:49:20 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:49:20 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:49:21 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:49:21 [INFO] uvicorn.error:83 - _serve(): Started server process [3208]
2025-06-03 09:49:21 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:49:21 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:49:21 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:49:21 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:49:21 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:49:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52427 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:49:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52429 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:49:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52427 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:49:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52427 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:49:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52427 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:49:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52429 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:49:55 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 09:49:55 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 09:49:55 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 09:49:55 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 09:49:55 [WARNING] app.config.dependency_container:170 - _setup_services(): Organisation service setup failed: Can't instantiate abstract class OrganisationServiceImpl without an implementation for abstract methods 'bulk_update_status', 'check_organisation_exists', 'get_all_organisations', 'get_capacity_utilization_report', 'get_geographic_distribution_report', 'get_growth_trends_report', 'get_organisation_analytics', 'get_organisation_by_pan', 'get_organisations_by_location', 'get_organisations_by_status', 'get_organisations_by_type', 'get_top_organisations_report', 'get_type_distribution_report', 'get_unhealthy_organisations', 'perform_health_check', 'send_capacity_alert_notification', 'send_organisation_created_notification', 'send_organisation_updated_notification', 'send_status_change_notification', 'validate_business_rules', 'validate_organisation_update', 'validate_uniqueness_constraints'
2025-06-03 09:49:55 [INFO] app.config.dependency_container:173 - _setup_services(): Services initialized
2025-06-03 09:49:55 [INFO] app.config.dependency_container:178 - _setup_controllers(): Controllers setup deferred
2025-06-03 09:49:55 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 09:49:55 [INFO] app.config.dependency_container:710 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 09:49:55 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:49:55 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:49:55 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:49:55 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:49:55 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:49:55 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52431 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:49:55 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:49:55 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:49:55 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:49:55 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:49:55 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:49:55 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52431 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:54:08 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:54:08 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:54:08 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:54:08 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:54:08 [INFO] uvicorn.error:93 - _serve(): Finished server process [3208]
2025-06-03 09:54:14 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:54:19 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:54:21 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:54:21 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:54:21 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:54:22 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:54:22 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:54:22 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:54:22 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:54:22 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:54:22 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:54:22 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:54:22 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:54:22 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:54:22 [INFO] uvicorn.error:83 - _serve(): Started server process [3334]
2025-06-03 09:54:22 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:54:22 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:54:22 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:54:22 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:54:22 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:54:23 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:54:23 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:54:23 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:54:23 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:54:24 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:54:24 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:54:24 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:54:24 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52635 - "GET /health HTTP/1.1" 200
2025-06-03 09:54:24 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:54:24 [INFO] uvicorn.error:83 - _serve(): Started server process [3252]
2025-06-03 09:54:24 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:54:24 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:54:24 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:54:24 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:54:24 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:54:30 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52636 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 403
2025-06-03 09:55:14 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:55:14 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:55:14 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:55:14 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:55:14 [INFO] uvicorn.error:93 - _serve(): Finished server process [3334]
2025-06-03 09:55:18 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52676 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:55:18 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52676 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:55:18 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 09:55:18 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 09:55:18 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 09:55:18 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 09:55:18 [WARNING] app.config.dependency_container:170 - _setup_services(): Organisation service setup failed: OrganisationServiceImpl.__init__() got an unexpected keyword argument 'organisation_repository'
2025-06-03 09:55:18 [INFO] app.config.dependency_container:173 - _setup_services(): Services initialized
2025-06-03 09:55:18 [INFO] app.config.dependency_container:178 - _setup_controllers(): Controllers setup deferred
2025-06-03 09:55:18 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 09:55:18 [INFO] app.config.dependency_container:710 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 09:55:18 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:55:18 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:55:18 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:55:18 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:55:18 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:55:18 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52676 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:55:18 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:55:18 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:55:18 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:55:18 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:55:18 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:55:18 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52680 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:57:18 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:57:18 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:57:18 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:57:18 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:57:18 [INFO] uvicorn.error:93 - _serve(): Finished server process [3252]
2025-06-03 09:57:23 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:57:28 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 09:57:28 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:57:28 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:57:30 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:57:30 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:57:31 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:57:31 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:57:31 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 09:57:31 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 09:57:31 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:57:31 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:57:31 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:57:31 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 09:57:31 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 09:57:31 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 09:57:31 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 09:57:31 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 09:57:31 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 09:57:32 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 09:57:32 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:57:32 [INFO] uvicorn.error:83 - _serve(): Started server process [3516]
2025-06-03 09:57:32 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:57:32 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:57:32 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:57:32 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:57:32 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:57:32 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 09:57:32 [INFO] uvicorn.error:83 - _serve(): Started server process [3431]
2025-06-03 09:57:32 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 09:57:32 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 09:57:32 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 09:57:32 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 09:57:32 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 09:57:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52856 - "GET /health HTTP/1.1" 200
2025-06-03 09:57:41 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52857 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 403
2025-06-03 09:59:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52882 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:59:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52882 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 09:59:41 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 09:59:41 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 09:59:41 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 09:59:41 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 09:59:41 [INFO] app.config.dependency_container:175 - _setup_services(): Services initialized
2025-06-03 09:59:41 [INFO] app.config.dependency_container:180 - _setup_controllers(): Controllers setup deferred
2025-06-03 09:59:41 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 09:59:41 [INFO] app.config.dependency_container:712 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 09:59:41 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:59:41 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:59:41 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:59:41 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:59:41 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:59:41 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52882 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:59:41 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 09:59:41 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 09:59:41 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:59:41 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 09:59:41 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 09:59:41 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52882 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 09:59:47 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:59:47 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:59:47 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:59:47 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:59:47 [INFO] uvicorn.error:93 - _serve(): Finished server process [3516]
2025-06-03 09:59:48 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 09:59:49 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 09:59:49 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 09:59:49 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 09:59:49 [INFO] uvicorn.error:93 - _serve(): Finished server process [3431]
2025-06-03 10:00:08 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 10:00:12 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 10:00:12 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 10:00:12 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 10:00:13 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 10:00:13 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 10:00:13 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 10:00:13 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 10:00:13 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 10:00:13 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 10:00:13 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 10:00:13 [INFO] uvicorn.error:83 - _serve(): Started server process [3630]
2025-06-03 10:00:13 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 10:00:13 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 10:00:13 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 10:00:13 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 10:00:13 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 10:02:30 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 10:02:30 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 10:02:30 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 10:02:30 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 10:02:30 [INFO] uvicorn.error:93 - _serve(): Finished server process [3630]
2025-06-03 10:02:34 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 10:02:38 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 10:02:38 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 10:02:38 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 10:02:38 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 10:02:39 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 10:02:39 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 10:02:39 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 10:02:39 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 10:02:39 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 10:02:39 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 10:02:39 [INFO] uvicorn.error:83 - _serve(): Started server process [3644]
2025-06-03 10:02:39 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 10:02:39 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 10:02:39 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 10:02:39 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 10:02:39 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 10:02:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52976 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 10:02:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52978 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 10:02:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52976 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 10:02:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52976 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 10:02:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52976 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 10:02:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52978 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 10:02:43 [INFO] app.config.dependency_container:62 - initialize(): Initializing dependency container...
2025-06-03 10:02:43 [INFO] app.config.dependency_container:91 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 10:02:43 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 10:02:43 [INFO] app.config.dependency_container:141 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 10:02:43 [INFO] app.config.dependency_container:175 - _setup_services(): Services initialized
2025-06-03 10:02:43 [INFO] app.config.dependency_container:180 - _setup_controllers(): Controllers setup deferred
2025-06-03 10:02:43 [INFO] app.config.dependency_container:71 - initialize(): Dependency container initialized successfully
2025-06-03 10:02:43 [INFO] app.config.dependency_container:712 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 10:02:43 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 10:02:43 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 10:02:43 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 10:02:43 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 10:02:43 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 10:02:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52980 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 10:02:43 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 10:02:43 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 10:02:43 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 10:02:43 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 10:02:43 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 10:02:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52980 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 10:08:54 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 10:08:54 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 10:08:54 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 10:08:54 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 10:08:54 [INFO] uvicorn.error:93 - _serve(): Finished server process [3644]
2025-06-03 10:09:01 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 10:09:06 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 10:09:06 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 10:09:07 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 10:09:07 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 10:09:07 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 10:09:07 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 10:09:08 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 10:09:08 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 10:09:08 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 10:09:09 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 10:09:09 [INFO] uvicorn.error:83 - _serve(): Started server process [3718]
2025-06-03 10:09:09 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 10:09:09 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 10:09:09 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 10:09:09 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 10:09:09 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 10:09:14 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 10:09:14 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 10:09:14 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 10:09:14 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 10:09:14 [INFO] uvicorn.error:93 - _serve(): Finished server process [3718]
2025-06-03 10:09:19 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 10:09:27 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 10:09:46 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 10:09:56 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 10:10:00 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 10:10:00 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 10:10:01 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 10:10:02 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 10:10:02 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 10:10:02 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 10:10:02 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 10:10:02 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 10:10:02 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 10:10:03 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 10:10:03 [INFO] uvicorn.error:83 - _serve(): Started server process [3797]
2025-06-03 10:10:03 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 10:10:03 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 10:10:03 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 10:10:03 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 10:10:03 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 10:10:08 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 10:10:13 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 10:10:13 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 10:10:14 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 10:10:15 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 10:10:15 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 10:10:15 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 10:10:15 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 10:10:15 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 10:10:15 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 10:10:16 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 10:10:16 [INFO] uvicorn.error:83 - _serve(): Started server process [3810]
2025-06-03 10:10:16 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 10:10:16 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 10:10:16 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 10:10:16 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 10:10:16 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 10:10:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53153 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 10:10:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53153 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 10:10:16 [INFO] app.config.dependency_container:63 - initialize(): Initializing dependency container...
2025-06-03 10:10:16 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 10:10:16 [INFO] app.config.dependency_container:93 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 10:10:16 [INFO] app.config.dependency_container:142 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 10:10:16 [INFO] app.config.dependency_container:176 - _setup_services(): Services initialized
2025-06-03 10:10:16 [INFO] app.config.dependency_container:181 - _setup_controllers(): Controllers setup deferred
2025-06-03 10:10:16 [INFO] app.config.dependency_container:72 - initialize(): Dependency container initialized successfully
2025-06-03 10:10:16 [INFO] app.config.dependency_container:713 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 10:10:16 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 10:10:16 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 10:10:16 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 10:10:16 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 10:10:16 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 10:10:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53157 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 10:10:16 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 10:10:16 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 10:10:16 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 10:10:16 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 10:10:16 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 10:10:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53157 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 10:11:53 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 10:11:53 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 10:11:53 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 10:11:53 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 10:11:53 [INFO] uvicorn.error:93 - _serve(): Finished server process [3810]
2025-06-03 10:11:58 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 10:12:01 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 10:12:01 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 10:12:02 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 10:12:02 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 10:12:02 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 10:12:02 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 10:12:02 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 10:12:02 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 10:12:02 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 10:12:03 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 10:12:03 [INFO] uvicorn.error:83 - _serve(): Started server process [3841]
2025-06-03 10:12:03 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 10:12:03 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 10:12:03 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 10:12:03 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 10:12:03 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 10:12:06 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 10:12:10 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 10:12:10 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 10:12:10 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 10:12:11 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 10:12:11 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 10:12:11 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 10:12:11 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 10:12:11 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 10:12:11 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 10:12:11 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 10:12:11 [INFO] uvicorn.error:83 - _serve(): Started server process [3855]
2025-06-03 10:12:11 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 10:12:11 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 10:12:11 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 10:12:11 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 10:12:11 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 10:12:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53253 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 10:12:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53253 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 10:12:29 [INFO] app.config.dependency_container:63 - initialize(): Initializing dependency container...
2025-06-03 10:12:29 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 10:12:29 [INFO] app.config.dependency_container:93 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 10:12:29 [INFO] app.config.dependency_container:142 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 10:12:29 [INFO] app.config.dependency_container:175 - _setup_services(): Services initialized
2025-06-03 10:12:29 [INFO] app.config.dependency_container:180 - _setup_controllers(): Controllers setup deferred
2025-06-03 10:12:29 [INFO] app.config.dependency_container:72 - initialize(): Dependency container initialized successfully
2025-06-03 10:12:29 [INFO] app.config.dependency_container:712 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 10:12:29 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 10:12:29 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 10:12:29 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 10:12:29 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 10:12:29 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 10:12:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53253 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 10:12:29 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 10:12:29 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 10:12:29 [ERROR] app.infrastructure.repositories.solid_organisation_repository:418 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 10:12:29 [ERROR] app.infrastructure.repositories.solid_organisation_repository:774 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 10:12:29 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 10:12:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53253 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 11:16:52 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:16:55 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:16:55 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:16:56 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:16:56 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:16:56 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:16:56 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:16:56 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:16:56 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:16:56 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:16:57 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:16:57 [INFO] uvicorn.error:83 - _serve(): Started server process [1263]
2025-06-03 11:16:57 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:16:57 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:16:57 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:16:57 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:16:57 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:18:25 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49357 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200
2025-06-03 11:18:25 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-03 11:18:26 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-03 11:18:26 [INFO] app.infrastructure.database.mongodb_connector:90 - disconnect(): MongoDB connections closed
2025-06-03 11:18:26 [WARNING] passlib.handlers.bcrypt:622 - _load_backend_mixin(): (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-03 11:18:26 [INFO] app.auth.jwt_handler:37 - create_access_token(): Access token created for user: superadmin
2025-06-03 11:18:26 [INFO] app.api.controllers.auth_controller:160 - login(): User superadmin logged in successfully
2025-06-03 11:18:26 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49357 - "POST /api/v2/auth/login HTTP/1.1" 200
2025-06-03 11:18:27 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49357 - "OPTIONS /api/v2/users/analytics/statistics HTTP/1.1" 200
2025-06-03 11:18:27 [INFO] app.config.dependency_container:63 - initialize(): Initializing dependency container...
2025-06-03 11:18:27 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 11:18:27 [INFO] app.config.dependency_container:93 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 11:18:27 [INFO] app.config.dependency_container:142 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 11:18:27 [INFO] app.config.dependency_container:175 - _setup_services(): Services initialized
2025-06-03 11:18:27 [INFO] app.config.dependency_container:180 - _setup_controllers(): Controllers setup deferred
2025-06-03 11:18:27 [INFO] app.config.dependency_container:72 - initialize(): Dependency container initialized successfully
2025-06-03 11:18:27 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-03 11:18:27 [INFO] app.infrastructure.repositories.mongodb_user_repository:90 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-03 11:18:27 [ERROR] app.infrastructure.repositories.mongodb_user_repository:871 - get_statistics(): Error getting user statistics: UserStatisticsDTO.__init__() got an unexpected keyword argument 'total_roles'. Did you mean 'total_users'?
2025-06-03 11:18:27 [ERROR] app.infrastructure.services.user_service_impl:773 - get_user_statistics(): Error getting user statistics for organisation localhost: UserStatisticsDTO.__init__() got an unexpected keyword argument 'total_roles'. Did you mean 'total_users'?
2025-06-03 11:18:27 [ERROR] app.api.controllers.user_controller:197 - get_user_statistics(): Error getting user statistics in organisation localhost: UserStatisticsDTO.__init__() got an unexpected keyword argument 'total_roles'. Did you mean 'total_users'?
2025-06-03 11:18:27 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49359 - "GET /api/v2/users/analytics/statistics HTTP/1.1" 500
2025-06-03 11:18:28 [ERROR] app.infrastructure.repositories.mongodb_user_repository:871 - get_statistics(): Error getting user statistics: UserStatisticsDTO.__init__() got an unexpected keyword argument 'total_roles'. Did you mean 'total_users'?
2025-06-03 11:18:28 [ERROR] app.infrastructure.services.user_service_impl:773 - get_user_statistics(): Error getting user statistics for organisation localhost: UserStatisticsDTO.__init__() got an unexpected keyword argument 'total_roles'. Did you mean 'total_users'?
2025-06-03 11:18:28 [ERROR] app.api.controllers.user_controller:197 - get_user_statistics(): Error getting user statistics in organisation localhost: UserStatisticsDTO.__init__() got an unexpected keyword argument 'total_roles'. Did you mean 'total_users'?
2025-06-03 11:18:28 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49359 - "GET /api/v2/users/analytics/statistics HTTP/1.1" 500
2025-06-03 11:18:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49446 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 11:18:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49448 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 11:18:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49450 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 11:18:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49450 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 11:18:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49448 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 11:18:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49450 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 11:18:34 [INFO] app.config.dependency_container:712 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 11:18:34 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 11:18:34 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 11:18:34 [ERROR] app.api.routes.organisation_routes:103 - _list_organisations_impl(): Error listing organisations: 'Organisation' object has no attribute 'organisation_type'
2025-06-03 11:18:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49446 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-03 11:18:34 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 11:18:34 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 11:18:34 [ERROR] app.api.routes.organisation_routes:103 - _list_organisations_impl(): Error listing organisations: 'Organisation' object has no attribute 'organisation_type'
2025-06-03 11:18:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49446 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-03 11:21:18 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49861 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 11:21:18 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49861 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 11:21:18 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 11:21:18 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 11:21:18 [ERROR] app.api.routes.organisation_routes:103 - _list_organisations_impl(): Error listing organisations: 'Organisation' object has no attribute 'organisation_type'
2025-06-03 11:21:18 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49861 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-03 11:21:18 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 11:21:18 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 11:21:18 [ERROR] app.api.routes.organisation_routes:103 - _list_organisations_impl(): Error listing organisations: 'Organisation' object has no attribute 'organisation_type'
2025-06-03 11:21:18 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49861 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 500
2025-06-03 11:21:25 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 11:21:25 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 11:21:25 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 11:21:25 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 11:21:25 [INFO] uvicorn.error:93 - _serve(): Finished server process [1263]
2025-06-03 11:24:27 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:24:29 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:24:29 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:24:29 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:24:29 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:24:29 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:24:29 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:24:29 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:24:29 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:24:29 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:24:29 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:24:29 [INFO] uvicorn.error:83 - _serve(): Started server process [1610]
2025-06-03 11:24:29 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:24:29 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:24:29 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:24:29 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:24:29 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:24:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50014 - "POST /api/v2/auth/login HTTP/1.1" 422
2025-06-03 11:24:39 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50016 - "POST /api/v2/auth/login HTTP/1.1" 422
2025-06-03 11:24:45 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-03 11:24:46 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-03 11:24:46 [INFO] app.infrastructure.database.mongodb_connector:90 - disconnect(): MongoDB connections closed
2025-06-03 11:24:46 [WARNING] passlib.handlers.bcrypt:622 - _load_backend_mixin(): (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-03 11:24:46 [INFO] app.auth.jwt_handler:37 - create_access_token(): Access token created for user: superadmin
2025-06-03 11:24:46 [INFO] app.api.controllers.auth_controller:160 - login(): User superadmin logged in successfully
2025-06-03 11:24:46 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50018 - "POST /api/v2/auth/login HTTP/1.1" 200
2025-06-03 11:24:56 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50033 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 11:25:19 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 11:25:19 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 11:25:19 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 11:25:19 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 11:25:19 [INFO] uvicorn.error:93 - _serve(): Finished server process [1610]
2025-06-03 11:25:20 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:25:21 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:25:21 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:25:21 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:25:22 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:25:22 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:25:22 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:25:22 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:25:22 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:25:22 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:25:22 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:25:22 [INFO] uvicorn.error:83 - _serve(): Started server process [1670]
2025-06-03 11:25:22 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:25:22 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:25:22 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:25:22 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:25:22 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:25:37 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 11:25:37 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 11:25:37 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 11:25:37 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 11:25:37 [INFO] uvicorn.error:93 - _serve(): Finished server process [1670]
2025-06-03 11:25:39 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:25:41 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:25:41 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:25:41 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:25:41 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:25:41 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:25:41 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:25:41 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:25:41 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:25:41 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:25:42 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:25:42 [INFO] uvicorn.error:83 - _serve(): Started server process [1698]
2025-06-03 11:25:42 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:25:42 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:25:42 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:25:42 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:25:42 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:25:42 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:25:44 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:25:44 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:25:44 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:25:44 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:25:44 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:25:44 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:25:44 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:25:44 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:25:44 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:25:45 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:25:45 [INFO] uvicorn.error:83 - _serve(): Started server process [1701]
2025-06-03 11:25:45 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:25:45 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:25:45 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:25:45 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:25:45 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:25:48 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 11:25:48 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 11:25:48 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 11:25:48 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 11:25:48 [INFO] uvicorn.error:93 - _serve(): Finished server process [1701]
2025-06-03 11:25:53 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:25:54 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:25:54 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:25:54 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:25:55 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:25:55 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:25:55 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:25:55 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:25:55 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:25:55 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:25:55 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:25:55 [INFO] uvicorn.error:83 - _serve(): Started server process [1804]
2025-06-03 11:25:55 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:25:55 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:25:55 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:25:55 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:25:55 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:26:08 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50097 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 11:26:17 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-03 11:26:18 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-03 11:26:18 [INFO] app.infrastructure.database.mongodb_connector:90 - disconnect(): MongoDB connections closed
2025-06-03 11:26:18 [WARNING] passlib.handlers.bcrypt:622 - _load_backend_mixin(): (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-03 11:26:19 [INFO] app.auth.jwt_handler:37 - create_access_token(): Access token created for user: superadmin
2025-06-03 11:26:19 [INFO] app.api.controllers.auth_controller:160 - login(): User superadmin logged in successfully
2025-06-03 11:26:19 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50099 - "POST /api/v2/auth/login HTTP/1.1" 200
2025-06-03 11:26:19 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50114 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 11:26:27 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50116 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 11:26:36 [INFO] app.config.dependency_container:63 - initialize(): Initializing dependency container...
2025-06-03 11:26:36 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 11:26:36 [INFO] app.config.dependency_container:93 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 11:26:36 [INFO] app.config.dependency_container:142 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 11:26:36 [INFO] app.config.dependency_container:175 - _setup_services(): Services initialized
2025-06-03 11:26:36 [INFO] app.config.dependency_container:180 - _setup_controllers(): Controllers setup deferred
2025-06-03 11:26:36 [INFO] app.config.dependency_container:72 - initialize(): Dependency container initialized successfully
2025-06-03 11:26:36 [INFO] app.config.dependency_container:712 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 11:26:36 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 11:26:36 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 11:26:36 [ERROR] app.infrastructure.repositories.solid_organisation_repository:498 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 11:26:36 [ERROR] app.infrastructure.repositories.solid_organisation_repository:854 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 11:26:36 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 11:26:36 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50122 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 11:26:59 [ERROR] app.api.routes.organisation_routes:66 - _create_organisation_impl(): Unexpected error creating organisation: 'CurrentUser' object has no attribute 'get'
2025-06-03 11:26:59 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50124 - "POST /api/v2/organisations/ HTTP/1.1" 500
2025-06-03 11:28:21 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 11:28:21 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 11:28:21 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 11:28:21 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 11:28:21 [INFO] uvicorn.error:93 - _serve(): Finished server process [1804]
2025-06-03 11:28:23 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:28:26 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:28:26 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:28:26 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:28:26 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:28:26 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:28:26 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:28:26 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:28:26 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:28:26 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:28:26 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:28:26 [INFO] uvicorn.error:83 - _serve(): Started server process [1899]
2025-06-03 11:28:26 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:28:26 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:28:26 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:28:26 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:28:26 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:28:27 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:28:28 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:28:29 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:28:29 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:28:29 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:28:29 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:28:29 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:28:29 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:28:29 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:28:29 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:28:29 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:28:29 [INFO] uvicorn.error:83 - _serve(): Started server process [1909]
2025-06-03 11:28:29 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:28:29 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:28:29 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:28:29 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:28:29 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:28:36 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 11:28:36 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 11:28:36 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 11:28:36 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 11:28:36 [INFO] uvicorn.error:93 - _serve(): Finished server process [1909]
2025-06-03 11:28:37 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:28:40 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:28:40 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:28:40 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:28:41 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:28:41 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:28:41 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:28:41 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:28:41 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:28:41 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:28:41 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:28:41 [INFO] uvicorn.error:83 - _serve(): Started server process [1918]
2025-06-03 11:28:41 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:28:41 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:28:41 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:28:41 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:28:41 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:28:41 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:28:43 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:28:43 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:28:43 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:28:43 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:28:43 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:28:43 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:28:43 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:28:43 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:28:43 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:28:43 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:28:43 [INFO] uvicorn.error:83 - _serve(): Started server process [1925]
2025-06-03 11:28:43 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:28:43 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:28:43 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:28:43 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:28:43 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:28:55 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 11:28:55 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 11:28:55 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 11:28:55 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 11:28:55 [INFO] uvicorn.error:93 - _serve(): Finished server process [1925]
2025-06-03 11:28:56 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:28:58 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:28:58 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:28:58 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:28:58 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:28:58 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:28:58 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:28:58 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:28:58 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:28:58 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:28:58 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:28:58 [INFO] uvicorn.error:83 - _serve(): Started server process [1934]
2025-06-03 11:28:58 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:28:58 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:28:58 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:28:58 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:28:58 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:29:09 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 11:29:09 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 11:29:09 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 11:29:09 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 11:29:09 [INFO] uvicorn.error:93 - _serve(): Finished server process [1934]
2025-06-03 11:29:19 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:29:20 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:29:20 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:29:20 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:29:20 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:29:20 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:29:20 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:29:20 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:29:20 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:29:20 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:29:20 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:29:20 [INFO] uvicorn.error:83 - _serve(): Started server process [2042]
2025-06-03 11:29:20 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:29:20 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:29:20 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:29:20 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:29:20 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:29:30 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-03 11:29:31 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-03 11:29:31 [INFO] app.infrastructure.database.mongodb_connector:90 - disconnect(): MongoDB connections closed
2025-06-03 11:29:31 [WARNING] passlib.handlers.bcrypt:622 - _load_backend_mixin(): (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-03 11:29:32 [INFO] app.auth.jwt_handler:37 - create_access_token(): Access token created for user: superadmin
2025-06-03 11:29:32 [INFO] app.api.controllers.auth_controller:160 - login(): User superadmin logged in successfully
2025-06-03 11:29:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50257 - "POST /api/v2/auth/login HTTP/1.1" 200
2025-06-03 11:29:32 [INFO] app.config.dependency_container:63 - initialize(): Initializing dependency container...
2025-06-03 11:29:32 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 11:29:32 [INFO] app.config.dependency_container:93 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 11:29:32 [INFO] app.config.dependency_container:142 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 11:29:32 [INFO] app.config.dependency_container:175 - _setup_services(): Services initialized
2025-06-03 11:29:32 [INFO] app.config.dependency_container:180 - _setup_controllers(): Controllers setup deferred
2025-06-03 11:29:32 [INFO] app.config.dependency_container:72 - initialize(): Dependency container initialized successfully
2025-06-03 11:29:32 [INFO] app.config.dependency_container:712 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 11:29:32 [ERROR] app.api.routes.organisation_routes:66 - _create_organisation_impl(): Unexpected error creating organisation: 'CurrentUser' object has no attribute 'get'
2025-06-03 11:29:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50272 - "POST /api/v2/organisations/ HTTP/1.1" 500
2025-06-03 11:29:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50274 - "GET /health HTTP/1.1" 200
2025-06-03 11:30:05 [INFO] app.api.routes.organisation_routes:498 - validate_organisation_data(): Validating organisation data
2025-06-03 11:30:05 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50276 - "POST /api/v2/organisations/validate HTTP/1.1" 200
2025-06-03 11:41:44 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 11:41:44 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 11:41:44 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 11:41:44 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 11:41:44 [INFO] uvicorn.error:93 - _serve(): Finished server process [2042]
2025-06-03 11:41:59 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 11:42:02 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 11:42:03 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 11:42:03 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 11:42:04 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 11:42:04 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 11:42:04 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 11:42:04 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 11:42:04 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 11:42:04 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 11:42:04 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 11:42:04 [INFO] uvicorn.error:83 - _serve(): Started server process [2164]
2025-06-03 11:42:04 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 11:42:04 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 11:42:04 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 11:42:04 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 11:42:04 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 11:42:08 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50460 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 11:42:08 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50462 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 11:42:08 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50460 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 11:42:08 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50460 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 11:42:08 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50460 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 11:42:08 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50462 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 11:42:08 [INFO] app.config.dependency_container:63 - initialize(): Initializing dependency container...
2025-06-03 11:42:08 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 11:42:08 [INFO] app.config.dependency_container:93 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 11:42:08 [INFO] app.config.dependency_container:142 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 11:42:08 [INFO] app.config.dependency_container:175 - _setup_services(): Services initialized
2025-06-03 11:42:08 [INFO] app.config.dependency_container:180 - _setup_controllers(): Controllers setup deferred
2025-06-03 11:42:08 [INFO] app.config.dependency_container:72 - initialize(): Dependency container initialized successfully
2025-06-03 11:42:08 [INFO] app.config.dependency_container:712 - get_organisation_controller(): Organisation controller initialized with SolidOrganisationRepository
2025-06-03 11:42:08 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 11:42:08 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 11:42:08 [ERROR] app.infrastructure.repositories.solid_organisation_repository:262 - _get_collection(): Error getting collection: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/repositories/solid_organisation_repository.py", line 258, in _get_collection
    collection = self._db_connector.get_collection(self._global_db, self._collection_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 128, in get_collection
    database = self.get_database(database_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 109, in get_database
    raise RuntimeError(f"Not connected to MongoDB. Call connect() first. Connection string: {self._connection_string} and database_name: {database_name}")
RuntimeError: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 11:42:08 [ERROR] app.infrastructure.repositories.solid_organisation_repository:526 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 11:42:08 [ERROR] app.infrastructure.repositories.solid_organisation_repository:262 - _get_collection(): Error getting collection: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/repositories/solid_organisation_repository.py", line 258, in _get_collection
    collection = self._db_connector.get_collection(self._global_db, self._collection_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 128, in get_collection
    database = self.get_database(database_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 109, in get_database
    raise RuntimeError(f"Not connected to MongoDB. Call connect() first. Connection string: {self._connection_string} and database_name: {database_name}")
RuntimeError: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 11:42:08 [ERROR] app.infrastructure.repositories.solid_organisation_repository:882 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 11:42:08 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 11:42:08 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50464 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 11:42:08 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 11:42:08 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 11:42:08 [ERROR] app.infrastructure.repositories.solid_organisation_repository:262 - _get_collection(): Error getting collection: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/repositories/solid_organisation_repository.py", line 258, in _get_collection
    collection = self._db_connector.get_collection(self._global_db, self._collection_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 128, in get_collection
    database = self.get_database(database_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 109, in get_database
    raise RuntimeError(f"Not connected to MongoDB. Call connect() first. Connection string: {self._connection_string} and database_name: {database_name}")
RuntimeError: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 11:42:08 [ERROR] app.infrastructure.repositories.solid_organisation_repository:526 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 11:42:08 [ERROR] app.infrastructure.repositories.solid_organisation_repository:262 - _get_collection(): Error getting collection: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/repositories/solid_organisation_repository.py", line 258, in _get_collection
    collection = self._db_connector.get_collection(self._global_db, self._collection_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 128, in get_collection
    database = self.get_database(database_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 109, in get_database
    raise RuntimeError(f"Not connected to MongoDB. Call connect() first. Connection string: {self._connection_string} and database_name: {database_name}")
RuntimeError: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 11:42:08 [ERROR] app.infrastructure.repositories.solid_organisation_repository:882 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 11:42:09 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 11:42:09 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50464 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 13:28:49 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51667 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 13:28:49 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51667 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 13:28:49 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51667 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 13:28:49 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51667 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 13:28:49 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51669 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 13:28:49 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 13:28:49 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 13:28:49 [ERROR] app.infrastructure.repositories.solid_organisation_repository:262 - _get_collection(): Error getting collection: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/repositories/solid_organisation_repository.py", line 258, in _get_collection
    collection = self._db_connector.get_collection(self._global_db, self._collection_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 128, in get_collection
    database = self.get_database(database_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 109, in get_database
    raise RuntimeError(f"Not connected to MongoDB. Call connect() first. Connection string: {self._connection_string} and database_name: {database_name}")
RuntimeError: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 13:28:49 [ERROR] app.infrastructure.repositories.solid_organisation_repository:526 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 13:28:49 [ERROR] app.infrastructure.repositories.solid_organisation_repository:262 - _get_collection(): Error getting collection: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/repositories/solid_organisation_repository.py", line 258, in _get_collection
    collection = self._db_connector.get_collection(self._global_db, self._collection_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 128, in get_collection
    database = self.get_database(database_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 109, in get_database
    raise RuntimeError(f"Not connected to MongoDB. Call connect() first. Connection string: {self._connection_string} and database_name: {database_name}")
RuntimeError: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 13:28:49 [ERROR] app.infrastructure.repositories.solid_organisation_repository:882 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 13:28:49 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 13:28:49 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51667 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 13:28:49 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 13:28:49 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 13:28:49 [ERROR] app.infrastructure.repositories.solid_organisation_repository:262 - _get_collection(): Error getting collection: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/repositories/solid_organisation_repository.py", line 258, in _get_collection
    collection = self._db_connector.get_collection(self._global_db, self._collection_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 128, in get_collection
    database = self.get_database(database_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 109, in get_database
    raise RuntimeError(f"Not connected to MongoDB. Call connect() first. Connection string: {self._connection_string} and database_name: {database_name}")
RuntimeError: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 13:28:49 [ERROR] app.infrastructure.repositories.solid_organisation_repository:526 - search(): Error searching organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 13:28:49 [ERROR] app.infrastructure.repositories.solid_organisation_repository:262 - _get_collection(): Error getting collection: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/repositories/solid_organisation_repository.py", line 258, in _get_collection
    collection = self._db_connector.get_collection(self._global_db, self._collection_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 128, in get_collection
    database = self.get_database(database_name)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/infrastructure/database/mongodb_connector.py", line 109, in get_database
    raise RuntimeError(f"Not connected to MongoDB. Call connect() first. Connection string: {self._connection_string} and database_name: {database_name}")
RuntimeError: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 13:28:49 [ERROR] app.infrastructure.repositories.solid_organisation_repository:882 - count_total(): Error counting total organisations: Not connected to MongoDB. Call connect() first. Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest and database_name: pms_global_database
2025-06-03 13:28:49 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 13:28:49 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51667 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 14:01:42 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 14:01:42 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 14:01:42 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 14:01:42 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 14:01:42 [INFO] uvicorn.error:93 - _serve(): Finished server process [2164]
2025-06-03 14:01:46 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 14:01:50 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 14:01:50 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 14:01:50 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 14:01:51 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 14:01:51 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 14:01:51 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 14:01:51 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 14:01:51 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 14:01:51 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 14:01:51 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 14:01:51 [INFO] uvicorn.error:83 - _serve(): Started server process [2812]
2025-06-03 14:01:51 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 14:01:51 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 14:01:51 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 14:01:51 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 14:01:51 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 14:08:08 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 14:08:08 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 14:08:08 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 14:08:08 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 14:08:08 [INFO] uvicorn.error:93 - _serve(): Finished server process [2812]
2025-06-03 14:08:13 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 14:08:19 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 14:08:19 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 14:08:19 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 14:08:20 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 14:08:20 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 14:08:20 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 14:08:20 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 14:08:20 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 14:08:20 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 14:08:21 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 14:08:21 [INFO] uvicorn.error:83 - _serve(): Started server process [2884]
2025-06-03 14:08:21 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 14:08:21 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 14:08:21 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 14:08:21 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 14:08:21 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 14:13:34 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 14:13:34 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 14:13:34 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 14:13:34 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 14:13:34 [INFO] uvicorn.error:93 - _serve(): Finished server process [2884]
2025-06-03 14:22:52 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 14:22:55 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 14:22:55 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 14:22:56 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 14:22:56 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 14:22:56 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 14:22:56 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 14:22:56 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 14:22:56 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 14:22:56 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 14:22:57 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 14:22:57 [INFO] uvicorn.error:83 - _serve(): Started server process [3177]
2025-06-03 14:22:57 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 14:22:57 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 14:22:57 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 14:22:57 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 14:22:57 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 14:23:22 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52847 - "OPTIONS /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 14:23:22 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52847 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 14:23:22 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52847 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 14:23:22 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52847 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 14:23:22 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52849 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 14:23:22 [INFO] app.config.dependency_container:63 - initialize(): Initializing dependency container...
2025-06-03 14:23:22 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 14:23:22 [INFO] app.config.dependency_container:93 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 14:23:22 [INFO] app.config.dependency_container:142 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 14:23:22 [INFO] app.config.dependency_container:175 - _setup_services(): Services initialized
2025-06-03 14:23:22 [INFO] app.config.dependency_container:180 - _setup_controllers(): Controllers setup deferred
2025-06-03 14:23:22 [INFO] app.config.dependency_container:72 - initialize(): Dependency container initialized successfully
2025-06-03 14:23:22 [INFO] app.config.dependency_container:712 - get_organisation_controller(): Organisation controller initialized with MongoDBOrganisationRepository
2025-06-03 14:23:22 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 14:23:22 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 14:23:23 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-03 14:23:23 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:98 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-03 14:23:23 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 14:23:23 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52851 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 14:23:23 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 14:23:23 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 14:23:23 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 14:23:23 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52849 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 14:28:08 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-03 14:28:08 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-03 14:28:08 [INFO] app.main:146 - lifespan(): Running shutdown tasks...
2025-06-03 14:28:08 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-03 14:28:08 [INFO] uvicorn.error:93 - _serve(): Finished server process [3177]
2025-06-03 14:28:15 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 14:28:19 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 14:28:19 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 14:28:19 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 14:28:20 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 14:28:20 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 14:28:20 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 14:28:20 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 14:28:20 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 14:28:20 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 14:28:20 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 14:28:20 [INFO] uvicorn.error:83 - _serve(): Started server process [3268]
2025-06-03 14:28:20 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 14:28:20 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 14:28:20 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 14:28:20 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 14:28:20 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 14:28:25 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-03 14:28:30 [INFO] app.main:177 - <module>(): Registering SOLID v2 routes...
2025-06-03 14:28:30 [INFO] app.main:208 - <module>(): ✅ Legacy auth compatibility route registered
2025-06-03 14:28:31 [INFO] app.main:217 - <module>(): ✅ Critical routes registered: taxation, payout, user management
2025-06-03 14:28:31 [INFO] app.main:222 - <module>(): ✅ Reimbursement routes v2 registered
2025-06-03 14:28:31 [INFO] app.main:226 - <module>(): ✅ Attendance routes v2 registered
2025-06-03 14:28:31 [INFO] app.main:230 - <module>(): ✅ Public holiday routes v2 registered
2025-06-03 14:28:31 [INFO] app.main:234 - <module>(): ✅ Company leave routes v2 registered
2025-06-03 14:28:31 [INFO] app.main:242 - <module>(): ✅ Project attributes routes v2 registered
2025-06-03 14:28:31 [INFO] app.main:251 - <module>(): ✅ Company leave v1 controller registered
2025-06-03 14:28:32 [INFO] app.main:255 - <module>(): ✅ Organisation routes registered
2025-06-03 14:28:32 [INFO] uvicorn.error:83 - _serve(): Started server process [3292]
2025-06-03 14:28:32 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-03 14:28:32 [INFO] app.main:128 - lifespan(): Running startup tasks...
2025-06-03 14:28:32 [INFO] app.main:133 - lifespan(): Dependency container initialized
2025-06-03 14:28:32 [INFO] app.main:140 - lifespan(): Organisation system initialized successfully
2025-06-03 14:28:32 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-03 14:29:10 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53629 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 14:29:10 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53629 - "GET /api/v2/organisations?skip=0&limit=10 HTTP/1.1" 307
2025-06-03 14:29:10 [INFO] app.config.dependency_container:63 - initialize(): Initializing dependency container...
2025-06-03 14:29:10 [INFO] app.config.dependency_container:92 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-03 14:29:10 [INFO] app.config.dependency_container:93 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-03 14:29:10 [INFO] app.config.dependency_container:142 - _setup_repositories(): Repositories initialized with MongoDB configuration
2025-06-03 14:29:10 [INFO] app.config.dependency_container:175 - _setup_services(): Services initialized
2025-06-03 14:29:10 [INFO] app.config.dependency_container:180 - _setup_controllers(): Controllers setup deferred
2025-06-03 14:29:10 [INFO] app.config.dependency_container:72 - initialize(): Dependency container initialized successfully
2025-06-03 14:29:10 [INFO] app.config.dependency_container:712 - get_organisation_controller(): Organisation controller initialized with MongoDBOrganisationRepository
2025-06-03 14:29:10 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 14:29:10 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 14:29:11 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-03 14:29:11 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:98 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-03 14:29:11 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 14:29:11 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53629 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-03 14:29:11 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-03 14:29:11 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-03 14:29:11 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 0 organisations (total: 0)
2025-06-03 14:29:11 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53629 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
