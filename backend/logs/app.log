2025-06-09 23:44:12 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-09 23:44:21 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-09 23:44:21 [INFO] uvicorn.error:83 - _serve(): Started server process [2724]
2025-06-09 23:44:21 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-09 23:44:21 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-09 23:44:21 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-09 23:44:38 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-09 23:44:38 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-09 23:44:38 [INFO] app.main:41 - lifespan(): Running shutdown tasks...
2025-06-09 23:44:38 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-09 23:44:38 [INFO] uvicorn.error:93 - _serve(): Finished server process [2724]
2025-06-09 23:44:43 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-09 23:44:50 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-09 23:44:50 [INFO] uvicorn.error:83 - _serve(): Started server process [2748]
2025-06-09 23:44:50 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-09 23:44:50 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-09 23:44:50 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-10 00:00:15 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53296 - "OPTIONS /api/v2/taxation/all-taxation HTTP/1.1" 200
2025-06-10 00:00:15 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53298 - "OPTIONS /api/v2/taxation/all-taxation HTTP/1.1" 200
2025-06-10 00:00:15 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53302 - "GET /api/v2/taxation/all-taxation HTTP/1.1" 404
2025-06-10 00:00:15 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53302 - "GET /api/v2/taxation/all-taxation HTTP/1.1" 404
2025-06-10 00:01:00 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-10 00:01:01 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-10 00:01:01 [INFO] app.main:41 - lifespan(): Running shutdown tasks...
2025-06-10 00:01:01 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-10 00:01:01 [INFO] uvicorn.error:93 - _serve(): Finished server process [2748]
2025-06-10 00:02:20 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:03:47 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:04:43 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:06:12 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:06:46 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:06:55 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:07:02 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:07:15 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:07:22 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:07:32 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:07:40 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:24:30 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:42:46 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:43:05 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:43:13 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:43:21 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:48:24 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:48:37 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 00:48:48 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 01:46:21 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 01:46:31 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 01:46:51 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 01:46:59 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 01:47:09 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 01:47:49 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 01:48:17 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 01:48:26 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 01:49:16 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 02:36:28 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 02:39:24 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 02:40:14 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 02:41:04 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-10 02:42:01 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 21:50:14 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 21:51:10 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 21:51:44 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 21:53:27 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:02:39 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:03:15 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:07:11 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:13:43 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:13:51 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:17:11 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:17:20 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:17:30 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:17:44 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:17:54 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:18:03 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:18:13 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:18:14 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:18:27 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:18:30 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:18:43 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:18:48 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:19:37 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:19:39 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:26:52 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:28:37 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:29:22 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:29:29 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:29:39 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:30:00 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:30:09 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:30:17 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:30:31 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:30:36 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:30:38 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-11 22:30:38 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-11 22:30:38 [INFO] uvicorn.error:83 - _serve(): Started server process [6729]
2025-06-11 22:30:38 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-11 22:30:38 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-11 22:30:38 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-11 22:30:43 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-11 22:30:50 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-11 22:30:50 [INFO] uvicorn.error:83 - _serve(): Started server process [6751]
2025-06-11 22:30:50 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-11 22:30:50 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-11 22:30:50 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-12 00:17:10 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-12 00:17:10 [INFO] uvicorn.error:93 - _serve(): Finished server process [6751]
2025-06-12 00:17:32 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-12 00:17:42 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-12 00:17:42 [INFO] uvicorn.error:83 - _serve(): Started server process [8565]
2025-06-12 00:17:42 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-12 00:17:42 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-12 00:17:42 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-12 19:39:37 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-12 19:39:51 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-12 19:39:51 [INFO] uvicorn.error:83 - _serve(): Started server process [27216]
2025-06-12 19:39:51 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-12 19:39:51 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-12 19:39:51 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 02:52:17 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 02:52:36 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 02:52:36 [INFO] uvicorn.error:83 - _serve(): Started server process [36444]
2025-06-13 02:52:36 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 02:52:36 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 02:52:36 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 02:52:52 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51928 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200
2025-06-13 02:52:52 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-13 02:52:52 [INFO] app.api.controllers.auth_controller:84 - login(): Login attempt for user: superadmin @ localhost
2025-06-13 02:52:52 [INFO] app.api.controllers.auth_controller:93 - login(): Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest
2025-06-13 02:52:59 [ERROR] app.infrastructure.database.mongodb_connector:72 - connect(): Failed to connect to MongoDB: SSL handshake failed: ac-uqkr9ns-shard-00-01.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms),SSL handshake failed: ac-uqkr9ns-shard-00-00.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms),SSL handshake failed: ac-uqkr9ns-shard-00-02.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 684b452e9dd7f3f28c0486e0, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('ac-uqkr9ns-shard-00-00.jhfj7s3.mongodb.net', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('SSL handshake failed: ac-uqkr9ns-shard-00-00.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>, <ServerDescription ('ac-uqkr9ns-shard-00-01.jhfj7s3.mongodb.net', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('SSL handshake failed: ac-uqkr9ns-shard-00-01.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>, <ServerDescription ('ac-uqkr9ns-shard-00-02.jhfj7s3.mongodb.net', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('SSL handshake failed: ac-uqkr9ns-shard-00-02.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>
2025-06-13 02:52:59 [ERROR] app.api.controllers.auth_controller:178 - login(): Login error: SSL handshake failed: ac-uqkr9ns-shard-00-01.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms),SSL handshake failed: ac-uqkr9ns-shard-00-00.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms),SSL handshake failed: ac-uqkr9ns-shard-00-02.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 684b452e9dd7f3f28c0486e0, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('ac-uqkr9ns-shard-00-00.jhfj7s3.mongodb.net', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('SSL handshake failed: ac-uqkr9ns-shard-00-00.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>, <ServerDescription ('ac-uqkr9ns-shard-00-01.jhfj7s3.mongodb.net', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('SSL handshake failed: ac-uqkr9ns-shard-00-01.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>, <ServerDescription ('ac-uqkr9ns-shard-00-02.jhfj7s3.mongodb.net', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('SSL handshake failed: ac-uqkr9ns-shard-00-02.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>
2025-06-13 02:52:59 [ERROR] app.api.routes.auth_routes_v2:83 - login(): Login error for user superadmin: SSL handshake failed: ac-uqkr9ns-shard-00-01.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms),SSL handshake failed: ac-uqkr9ns-shard-00-00.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms),SSL handshake failed: ac-uqkr9ns-shard-00-02.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 684b452e9dd7f3f28c0486e0, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('ac-uqkr9ns-shard-00-00.jhfj7s3.mongodb.net', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('SSL handshake failed: ac-uqkr9ns-shard-00-00.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>, <ServerDescription ('ac-uqkr9ns-shard-00-01.jhfj7s3.mongodb.net', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('SSL handshake failed: ac-uqkr9ns-shard-00-01.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>, <ServerDescription ('ac-uqkr9ns-shard-00-02.jhfj7s3.mongodb.net', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('SSL handshake failed: ac-uqkr9ns-shard-00-02.jhfj7s3.mongodb.net:27017: [SSL: TLSV1_ALERT_INTERNAL_ERROR] tlsv1 alert internal error (_ssl.c:1028) (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>
2025-06-13 02:52:59 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51928 - "POST /api/v2/auth/login HTTP/1.1" 500
2025-06-13 02:56:52 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-13 02:56:52 [INFO] app.api.controllers.auth_controller:84 - login(): Login attempt for user: superadmin @ localhost
2025-06-13 02:56:52 [INFO] app.api.controllers.auth_controller:93 - login(): Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest
2025-06-13 02:56:52 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 02:56:52 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 02:56:53 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_global_database' cached
2025-06-13 02:56:53 [INFO] app.infrastructure.database.mongodb_connector:90 - disconnect(): MongoDB connections closed
2025-06-13 02:56:53 [INFO] app.api.controllers.auth_controller:121 - login(): Verifying password for user: superadmin
2025-06-13 02:56:53 [INFO] app.auth.password_handler:19 - verify_password(): Verifying password: admin123 with hashed password: $2b$12$tHFlJsUzWyg1gntEL.JwRu6V1.VO/UdyyJxzLECfapAaMLw3BGZTW
2025-06-13 02:56:53 [WARNING] passlib.handlers.bcrypt:622 - _load_backend_mixin(): (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-13 02:56:53 [INFO] app.auth.password_handler:22 - verify_password(): Password verification succeeded.
2025-06-13 02:56:53 [INFO] app.auth.jwt_handler:37 - create_access_token(): Access token created for user: superadmin
2025-06-13 02:56:53 [INFO] app.auth.jwt_handler:38 - create_access_token(): Token expires at: 2025-06-13T05:26:53.769402
2025-06-13 02:56:53 [INFO] app.api.controllers.auth_controller:165 - login(): User superadmin logged in successfully
2025-06-13 02:56:53 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53104 - "POST /api/v2/auth/login HTTP/1.1" 200
2025-06-13 02:56:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53104 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 02:56:54 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 02:56:54 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 02:56:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53127 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 02:56:54 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 02:56:54 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 02:56:54 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 02:56:54 [ERROR] app.config.dependency_container:212 - _setup_repositories(): Error setting up repositories: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:54 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53104 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 02:56:54 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 99, in initialize
    self._setup_repositories()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 165, in _setup_repositories
    taxation_repository = MongoDBTaxationRepository(self._database_connector)
TypeError: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:54 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 02:56:54 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 02:56:54 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 02:56:54 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 02:56:54 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 02:56:54 [ERROR] app.config.dependency_container:212 - _setup_repositories(): Error setting up repositories: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:54 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53127 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 02:56:54 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 99, in initialize
    self._setup_repositories()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 165, in _setup_repositories
    taxation_repository = MongoDBTaxationRepository(self._database_connector)
TypeError: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:55 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 02:56:55 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 02:56:55 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 02:56:55 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 02:56:55 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 02:56:55 [ERROR] app.config.dependency_container:212 - _setup_repositories(): Error setting up repositories: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:55 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:55 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53129 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 02:56:55 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 99, in initialize
    self._setup_repositories()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 165, in _setup_repositories
    taxation_repository = MongoDBTaxationRepository(self._database_connector)
TypeError: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:55 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 02:56:55 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 02:56:55 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 02:56:55 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 02:56:55 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 02:56:55 [ERROR] app.config.dependency_container:212 - _setup_repositories(): Error setting up repositories: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:55 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:55 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53133 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 02:56:55 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 99, in initialize
    self._setup_repositories()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 165, in _setup_repositories
    taxation_repository = MongoDBTaxationRepository(self._database_connector)
TypeError: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:57 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 02:56:57 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 02:56:57 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 02:56:57 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 02:56:57 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 02:56:57 [ERROR] app.config.dependency_container:212 - _setup_repositories(): Error setting up repositories: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:57 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53141 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 02:56:57 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 99, in initialize
    self._setup_repositories()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 165, in _setup_repositories
    taxation_repository = MongoDBTaxationRepository(self._database_connector)
TypeError: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:57 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 02:56:57 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 02:56:57 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 02:56:57 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 02:56:57 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 02:56:57 [ERROR] app.config.dependency_container:212 - _setup_repositories(): Error setting up repositories: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:57 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 02:56:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53144 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 02:56:57 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 99, in initialize
    self._setup_repositories()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 165, in _setup_repositories
    taxation_repository = MongoDBTaxationRepository(self._database_connector)
TypeError: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 14:42:26 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51938 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200
2025-06-13 14:42:26 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-13 14:42:26 [INFO] app.api.controllers.auth_controller:84 - login(): Login attempt for user: superadmin @ localhost
2025-06-13 14:42:26 [INFO] app.api.controllers.auth_controller:93 - login(): Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest
2025-06-13 14:42:26 [ERROR] app.infrastructure.database.mongodb_connector:75 - connect(): Unexpected error connecting to MongoDB: All nameservers failed to answer the query _mongodb._tcp.mongodbtest.jhfj7s3.mongodb.net. IN SRV: Server Do53:2401:4900:50:9::7dd@53 answered [Errno 65] No route to host; Server Do53:2401:4900:50:9::8@53 answered [Errno 65] No route to host; Server Do53:192.168.1.1@53 answered [Errno 51] Network is unreachable
2025-06-13 14:42:26 [ERROR] app.api.controllers.auth_controller:178 - login(): Login error: All nameservers failed to answer the query _mongodb._tcp.mongodbtest.jhfj7s3.mongodb.net. IN SRV: Server Do53:2401:4900:50:9::7dd@53 answered [Errno 65] No route to host; Server Do53:2401:4900:50:9::8@53 answered [Errno 65] No route to host; Server Do53:192.168.1.1@53 answered [Errno 51] Network is unreachable
2025-06-13 14:42:26 [ERROR] app.api.routes.auth_routes_v2:83 - login(): Login error for user superadmin: All nameservers failed to answer the query _mongodb._tcp.mongodbtest.jhfj7s3.mongodb.net. IN SRV: Server Do53:2401:4900:50:9::7dd@53 answered [Errno 65] No route to host; Server Do53:2401:4900:50:9::8@53 answered [Errno 65] No route to host; Server Do53:192.168.1.1@53 answered [Errno 51] Network is unreachable
2025-06-13 14:42:26 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51940 - "POST /api/v2/auth/login HTTP/1.1" 500
2025-06-13 14:44:18 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 14:44:18 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 14:44:18 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 14:44:18 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 14:44:18 [INFO] uvicorn.error:93 - _serve(): Finished server process [36444]
2025-06-13 14:44:27 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 14:44:40 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 14:44:45 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 14:44:45 [INFO] uvicorn.error:83 - _serve(): Started server process [47492]
2025-06-13 14:44:45 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 14:44:45 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 14:44:45 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 14:51:46 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 14:51:46 [INFO] uvicorn.error:93 - _serve(): Finished server process [47492]
2025-06-13 15:58:30 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 15:59:01 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 15:59:01 [INFO] uvicorn.error:83 - _serve(): Started server process [1024]
2025-06-13 15:59:01 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 15:59:01 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 15:59:01 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:02:56 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49687 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200
2025-06-13 16:02:56 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-13 16:02:56 [INFO] app.api.controllers.auth_controller:84 - login(): Login attempt for user: superadmin @ localhost
2025-06-13 16:02:56 [INFO] app.api.controllers.auth_controller:93 - login(): Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest
2025-06-13 16:02:58 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 16:02:58 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 16:02:58 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_global_database' cached
2025-06-13 16:02:58 [INFO] app.infrastructure.database.mongodb_connector:90 - disconnect(): MongoDB connections closed
2025-06-13 16:02:58 [INFO] app.api.controllers.auth_controller:121 - login(): Verifying password for user: superadmin
2025-06-13 16:02:58 [INFO] app.auth.password_handler:19 - verify_password(): Verifying password: admin123 with hashed password: $2b$12$tHFlJsUzWyg1gntEL.JwRu6V1.VO/UdyyJxzLECfapAaMLw3BGZTW
2025-06-13 16:02:58 [WARNING] passlib.handlers.bcrypt:622 - _load_backend_mixin(): (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-13 16:02:58 [INFO] app.auth.password_handler:22 - verify_password(): Password verification succeeded.
2025-06-13 16:02:58 [INFO] app.auth.jwt_handler:37 - create_access_token(): Access token created for user: superadmin
2025-06-13 16:02:58 [INFO] app.auth.jwt_handler:38 - create_access_token(): Token expires at: 2025-06-13T18:32:58.891708
2025-06-13 16:02:58 [INFO] app.api.controllers.auth_controller:165 - login(): User superadmin logged in successfully
2025-06-13 16:02:58 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49689 - "POST /api/v2/auth/login HTTP/1.1" 200
2025-06-13 16:02:59 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49689 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:02:59 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49687 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:02:59 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:02:59 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:02:59 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:02:59 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:02:59 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:02:59 [ERROR] app.config.dependency_container:212 - _setup_repositories(): Error setting up repositories: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:02:59 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:02:59 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49689 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:02:59 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 99, in initialize
    self._setup_repositories()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 165, in _setup_repositories
    taxation_repository = MongoDBTaxationRepository(self._database_connector)
TypeError: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:02:59 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:02:59 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:02:59 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:02:59 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:02:59 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:02:59 [ERROR] app.config.dependency_container:212 - _setup_repositories(): Error setting up repositories: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:02:59 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:02:59 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49687 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:02:59 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 99, in initialize
    self._setup_repositories()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 165, in _setup_repositories
    taxation_repository = MongoDBTaxationRepository(self._database_connector)
TypeError: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:03:00 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:03:00 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:03:00 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:03:00 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:03:00 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:03:00 [ERROR] app.config.dependency_container:212 - _setup_repositories(): Error setting up repositories: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:03:00 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:03:00 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49707 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:03:00 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 99, in initialize
    self._setup_repositories()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 165, in _setup_repositories
    taxation_repository = MongoDBTaxationRepository(self._database_connector)
TypeError: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:03:00 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:03:00 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:03:00 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:03:00 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:03:00 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:03:00 [ERROR] app.config.dependency_container:212 - _setup_repositories(): Error setting up repositories: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:03:00 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:03:00 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49710 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:03:00 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 99, in initialize
    self._setup_repositories()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 165, in _setup_repositories
    taxation_repository = MongoDBTaxationRepository(self._database_connector)
TypeError: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:03:02 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:03:02 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:03:02 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:03:02 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:03:02 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:03:02 [ERROR] app.config.dependency_container:212 - _setup_repositories(): Error setting up repositories: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:03:02 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:03:02 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49712 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:03:02 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 99, in initialize
    self._setup_repositories()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 165, in _setup_repositories
    taxation_repository = MongoDBTaxationRepository(self._database_connector)
TypeError: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:03:02 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:03:02 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:03:02 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:03:02 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:03:02 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:03:02 [ERROR] app.config.dependency_container:212 - _setup_repositories(): Error setting up repositories: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:03:02 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:03:02 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49714 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:03:02 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 99, in initialize
    self._setup_repositories()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 165, in _setup_repositories
    taxation_repository = MongoDBTaxationRepository(self._database_connector)
TypeError: MongoDBTaxationRepository.__init__() missing 1 required positional argument: 'database_name'
2025-06-13 16:05:07 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 16:05:07 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 16:05:07 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 16:05:07 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 16:05:07 [INFO] uvicorn.error:93 - _serve(): Finished server process [1024]
2025-06-13 16:05:15 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:05:23 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:05:23 [INFO] uvicorn.error:83 - _serve(): Started server process [1237]
2025-06-13 16:05:23 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:05:23 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:05:23 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:05:25 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 16:05:25 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 16:05:25 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 16:05:25 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 16:05:25 [INFO] uvicorn.error:93 - _serve(): Finished server process [1237]
2025-06-13 16:05:30 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:05:38 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:05:38 [INFO] uvicorn.error:83 - _serve(): Started server process [1263]
2025-06-13 16:05:38 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:05:38 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:05:38 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:05:43 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:05:55 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:05:55 [INFO] uvicorn.error:83 - _serve(): Started server process [1282]
2025-06-13 16:05:55 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:05:55 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:05:55 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:06:00 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:06:09 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:06:09 [INFO] uvicorn.error:83 - _serve(): Started server process [1309]
2025-06-13 16:06:09 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:06:09 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:06:09 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:06:13 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:06:21 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:06:21 [INFO] uvicorn.error:83 - _serve(): Started server process [1332]
2025-06-13 16:06:21 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:06:21 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:06:21 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:06:25 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:06:32 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:06:32 [INFO] uvicorn.error:83 - _serve(): Started server process [1346]
2025-06-13 16:06:32 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:06:32 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:06:32 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:06:37 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:06:45 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:06:45 [INFO] uvicorn.error:83 - _serve(): Started server process [1359]
2025-06-13 16:06:45 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:06:45 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:06:45 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:06:50 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:06:57 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:06:57 [INFO] uvicorn.error:83 - _serve(): Started server process [1377]
2025-06-13 16:06:57 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:06:57 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:06:57 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:07:04 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 16:07:04 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 16:07:04 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 16:07:04 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 16:07:04 [INFO] uvicorn.error:93 - _serve(): Finished server process [1377]
2025-06-13 16:07:08 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:07:17 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:07:17 [INFO] uvicorn.error:83 - _serve(): Started server process [1395]
2025-06-13 16:07:17 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:07:17 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:07:17 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:07:21 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:07:30 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:07:30 [INFO] uvicorn.error:83 - _serve(): Started server process [1411]
2025-06-13 16:07:30 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:07:30 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:07:30 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:07:35 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:07:43 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:07:43 [INFO] uvicorn.error:83 - _serve(): Started server process [1426]
2025-06-13 16:07:43 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:07:43 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:07:43 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:07:47 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:07:57 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:07:57 [INFO] uvicorn.error:83 - _serve(): Started server process [1451]
2025-06-13 16:07:57 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:07:57 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:07:57 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:08:02 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:08:10 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:08:10 [INFO] uvicorn.error:83 - _serve(): Started server process [1468]
2025-06-13 16:08:10 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:08:10 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:08:10 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:08:14 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:08:21 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:08:21 [INFO] uvicorn.error:83 - _serve(): Started server process [1489]
2025-06-13 16:08:21 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:08:21 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:08:21 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:08:27 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:08:33 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:08:33 [INFO] uvicorn.error:83 - _serve(): Started server process [1502]
2025-06-13 16:08:33 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:08:33 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:08:33 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:08:37 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:08:48 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:08:48 [INFO] uvicorn.error:83 - _serve(): Started server process [1639]
2025-06-13 16:08:48 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:08:48 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:08:48 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:20:27 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51262 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:20:27 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51264 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:20:27 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:20:27 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:20:27 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:20:27 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:20:27 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:20:27 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:20:27 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:20:27 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:20:27 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:20:27 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:20:27 [INFO] app.config.dependency_container:526 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:20:27 [ERROR] app.config.dependency_container:292 - _setup_services(): Error setting up services: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:27 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:27 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51262 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:20:27 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 100, in initialize
    self._setup_services()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 250, in _setup_services
    self._services['regime_comparison'] = RegimeComparisonServiceImpl(
                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tax_calculation_service=self._services['tax_calculation']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:27 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:20:28 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:20:28 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:20:28 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:20:28 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:20:28 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:20:28 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:20:28 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:20:28 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:20:28 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:20:28 [INFO] app.config.dependency_container:526 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:20:28 [ERROR] app.config.dependency_container:292 - _setup_services(): Error setting up services: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:28 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:28 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51264 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:20:28 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 100, in initialize
    self._setup_services()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 250, in _setup_services
    self._services['regime_comparison'] = RegimeComparisonServiceImpl(
                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tax_calculation_service=self._services['tax_calculation']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:28 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:20:28 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:20:28 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:20:28 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:20:28 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:20:28 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:20:28 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:20:28 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:20:28 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:20:28 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:20:28 [INFO] app.config.dependency_container:526 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:20:28 [ERROR] app.config.dependency_container:292 - _setup_services(): Error setting up services: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:28 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:28 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51268 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:20:28 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 100, in initialize
    self._setup_services()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 250, in _setup_services
    self._services['regime_comparison'] = RegimeComparisonServiceImpl(
                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tax_calculation_service=self._services['tax_calculation']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:29 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:20:29 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:20:29 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:20:29 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:20:29 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:20:29 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:20:29 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:20:29 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:20:29 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:20:29 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:20:29 [INFO] app.config.dependency_container:526 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:20:29 [ERROR] app.config.dependency_container:292 - _setup_services(): Error setting up services: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:29 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51270 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:20:29 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 100, in initialize
    self._setup_services()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 250, in _setup_services
    self._services['regime_comparison'] = RegimeComparisonServiceImpl(
                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tax_calculation_service=self._services['tax_calculation']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:30 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:20:30 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:20:30 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:20:30 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:20:30 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:20:30 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:20:30 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:20:30 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:20:30 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:20:30 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:20:30 [INFO] app.config.dependency_container:526 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:20:30 [ERROR] app.config.dependency_container:292 - _setup_services(): Error setting up services: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:30 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:30 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51272 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:20:30 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 100, in initialize
    self._setup_services()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 250, in _setup_services
    self._services['regime_comparison'] = RegimeComparisonServiceImpl(
                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tax_calculation_service=self._services['tax_calculation']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:31 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:20:31 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:20:31 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:20:31 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:20:31 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:20:31 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:20:31 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:20:31 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:20:31 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:20:31 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:20:31 [INFO] app.config.dependency_container:526 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:20:31 [ERROR] app.config.dependency_container:292 - _setup_services(): Error setting up services: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:31 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:20:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51274 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:20:31 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 100, in initialize
    self._setup_services()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 250, in _setup_services
    self._services['regime_comparison'] = RegimeComparisonServiceImpl(
                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tax_calculation_service=self._services['tax_calculation']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:29:13 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 16:29:13 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 16:29:13 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 16:29:13 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 16:29:13 [INFO] uvicorn.error:93 - _serve(): Finished server process [1639]
2025-06-13 16:30:42 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:30:52 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:30:52 [INFO] uvicorn.error:83 - _serve(): Started server process [2273]
2025-06-13 16:30:52 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:30:52 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:30:52 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:31:56 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51940 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:31:56 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51942 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:31:56 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:31:56 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:31:56 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:31:56 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:31:56 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:31:56 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:31:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:31:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:31:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:31:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:31:56 [INFO] app.config.dependency_container:526 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:31:56 [ERROR] app.config.dependency_container:292 - _setup_services(): Error setting up services: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:56 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:56 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51940 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:31:56 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 100, in initialize
    self._setup_services()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 250, in _setup_services
    self._services['regime_comparison'] = RegimeComparisonServiceImpl(
                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tax_calculation_service=self._services['tax_calculation']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:56 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:31:56 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:31:56 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:31:56 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:31:56 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:31:56 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:31:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:31:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:31:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:31:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:31:56 [INFO] app.config.dependency_container:526 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:31:56 [ERROR] app.config.dependency_container:292 - _setup_services(): Error setting up services: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:56 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:56 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51942 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:31:56 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 100, in initialize
    self._setup_services()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 250, in _setup_services
    self._services['regime_comparison'] = RegimeComparisonServiceImpl(
                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tax_calculation_service=self._services['tax_calculation']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:57 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:31:57 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:31:57 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:31:57 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:31:57 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:31:57 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:31:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:31:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:31:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:31:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:31:57 [INFO] app.config.dependency_container:526 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:31:57 [ERROR] app.config.dependency_container:292 - _setup_services(): Error setting up services: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:57 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51946 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:31:57 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 100, in initialize
    self._setup_services()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 250, in _setup_services
    self._services['regime_comparison'] = RegimeComparisonServiceImpl(
                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tax_calculation_service=self._services['tax_calculation']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:57 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:31:57 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:31:57 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:31:57 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:31:57 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:31:57 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:31:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:31:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:31:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:31:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:31:57 [INFO] app.config.dependency_container:526 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:31:57 [ERROR] app.config.dependency_container:292 - _setup_services(): Error setting up services: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:57 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51948 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:31:57 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 100, in initialize
    self._setup_services()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 250, in _setup_services
    self._services['regime_comparison'] = RegimeComparisonServiceImpl(
                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tax_calculation_service=self._services['tax_calculation']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:59 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:31:59 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:31:59 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:31:59 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:31:59 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:31:59 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:31:59 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:31:59 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:31:59 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:31:59 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:31:59 [INFO] app.config.dependency_container:526 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:31:59 [ERROR] app.config.dependency_container:292 - _setup_services(): Error setting up services: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:59 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:59 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51950 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:31:59 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 100, in initialize
    self._setup_services()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 250, in _setup_services
    self._services['regime_comparison'] = RegimeComparisonServiceImpl(
                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tax_calculation_service=self._services['tax_calculation']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:59 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:31:59 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:31:59 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:31:59 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:31:59 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:31:59 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:31:59 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:31:59 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:31:59 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:31:59 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:31:59 [INFO] app.config.dependency_container:526 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:31:59 [ERROR] app.config.dependency_container:292 - _setup_services(): Error setting up services: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:59 [ERROR] app.config.dependency_container:107 - initialize(): Error initializing dependency container: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:31:59 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51952 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 500
2025-06-13 16:31:59 [ERROR] uvicorn.error:408 - run_asgi(): Exception in ASGI application
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 1082, in get_reporting_controller
    return container.get_reporting_controller()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 727, in get_reporting_controller
    self.initialize()
    ~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 100, in initialize
    self._setup_services()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/backend/app/config/dependency_container.py", line 250, in _setup_services
    self._services['regime_comparison'] = RegimeComparisonServiceImpl(
                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        tax_calculation_service=self._services['tax_calculation']
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RegimeComparisonServiceImpl.__init__() got an unexpected keyword argument 'tax_calculation_service'
2025-06-13 16:36:38 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 16:36:38 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 16:36:38 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 16:36:38 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 16:36:38 [INFO] uvicorn.error:93 - _serve(): Finished server process [2273]
2025-06-13 16:36:43 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:36:50 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:36:50 [INFO] uvicorn.error:83 - _serve(): Started server process [2320]
2025-06-13 16:36:50 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:36:50 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:36:50 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:37:03 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:37:06 [INFO] __main__:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:37:06 [INFO] __main__:160 - <module>(): Starting PMS application by TheOne
2025-06-13 16:39:33 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:39:33 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:39:33 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:39:33 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:39:33 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:39:33 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:39:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:39:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:39:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:39:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:39:33 [INFO] app.config.dependency_container:524 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:39:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:39:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:39:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:39:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:39:33 [INFO] app.config.dependency_container:524 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:39:33 [INFO] app.config.dependency_container:336 - _create_attendance_use_cases(): Attendance use cases created successfully
2025-06-13 16:39:33 [INFO] app.config.dependency_container:287 - _setup_services(): Services initialized
2025-06-13 16:39:33 [INFO] app.config.dependency_container:358 - _setup_controllers(): Controllers setup deferred
2025-06-13 16:39:33 [INFO] app.config.dependency_container:104 - initialize(): Dependency container initialized successfully
2025-06-13 16:39:33 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 16:39:33 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:39:33 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:39:33 [INFO] app.infrastructure.repositories.mongodb_user_repository:75 - _get_collection(): Database not connected, establishing connection...
2025-06-13 16:39:33 [INFO] app.infrastructure.repositories.mongodb_user_repository:80 - _get_collection(): Using stored connection parameters from repository configuration
2025-06-13 16:39:34 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 16:39:34 [INFO] app.infrastructure.repositories.mongodb_user_repository:90 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-13 16:39:34 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 16:39:34 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:39:35 [ERROR] app.application.use_cases.reporting.get_dashboard_analytics_use_case:188 - _get_distributions(): Error getting distributions: 'SimpleUser' object has no attribute 'permissions'
2025-06-13 16:39:35 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:39:35 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 16:39:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52562 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:39:35 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:39:35 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:39:35 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 16:39:35 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:39:35 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:39:35 [ERROR] app.application.use_cases.reporting.get_dashboard_analytics_use_case:188 - _get_distributions(): Error getting distributions: 'SimpleUser' object has no attribute 'permissions'
2025-06-13 16:39:35 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:39:35 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:39:35 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 16:39:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52562 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:42:24 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 16:42:24 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 16:42:24 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 16:42:24 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 16:42:24 [INFO] uvicorn.error:93 - _serve(): Finished server process [2320]
2025-06-13 16:42:28 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:42:36 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:42:36 [INFO] uvicorn.error:83 - _serve(): Started server process [2509]
2025-06-13 16:42:36 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:42:36 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:42:36 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:42:39 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:42:46 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:42:46 [INFO] uvicorn.error:83 - _serve(): Started server process [2528]
2025-06-13 16:42:46 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 16:42:46 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 16:42:46 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 16:42:49 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 16:42:53 [INFO] __main__:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 16:42:53 [INFO] __main__:160 - <module>(): Starting PMS application by TheOne
2025-06-13 16:43:04 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53269 - "GET /health HTTP/1.1" 404
2025-06-13 16:45:15 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53703 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:45:15 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53704 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:45:15 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:45:15 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:45:15 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 16:45:15 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 16:45:15 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 16:45:15 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 16:45:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:45:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:45:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:45:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:45:15 [INFO] app.config.dependency_container:524 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:45:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 16:45:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 16:45:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 16:45:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 16:45:15 [INFO] app.config.dependency_container:524 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 16:45:15 [INFO] app.config.dependency_container:336 - _create_attendance_use_cases(): Attendance use cases created successfully
2025-06-13 16:45:15 [INFO] app.config.dependency_container:287 - _setup_services(): Services initialized
2025-06-13 16:45:15 [INFO] app.config.dependency_container:358 - _setup_controllers(): Controllers setup deferred
2025-06-13 16:45:15 [INFO] app.config.dependency_container:104 - initialize(): Dependency container initialized successfully
2025-06-13 16:45:15 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 16:45:15 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:45:15 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:45:15 [INFO] app.infrastructure.repositories.mongodb_user_repository:75 - _get_collection(): Database not connected, establishing connection...
2025-06-13 16:45:15 [INFO] app.infrastructure.repositories.mongodb_user_repository:80 - _get_collection(): Using stored connection parameters from repository configuration
2025-06-13 16:45:16 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 16:45:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:90 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-13 16:45:16 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 16:45:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:45:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:45:16 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 16:45:16 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 16:45:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:45:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:45:16 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:45:16 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:45:16 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 16:45:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53708 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:45:16 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:45:16 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:45:16 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 16:45:16 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:45:16 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:45:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:45:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:45:16 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 16:45:17 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 16:45:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:45:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:45:17 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:45:17 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:45:17 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 16:45:17 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53708 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:45:39 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:45:39 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:45:39 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 16:45:39 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:45:39 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:45:39 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:45:39 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:45:39 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 16:45:40 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 16:45:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:45:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:45:40 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:45:40 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:45:40 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 16:45:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53881 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:45:40 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:45:40 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:45:40 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 16:45:40 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:45:40 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:45:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:45:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:45:40 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 16:45:40 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 16:45:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:45:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:45:40 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:45:40 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:45:40 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 16:45:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53881 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:50:30 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 16:50:30 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 16:50:30 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 16:50:30 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:50:30 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 16:50:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:50:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:50:30 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 16:50:30 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 16:50:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 16:50:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 16:50:30 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:50:30 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 16:50:30 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 16:50:30 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55973 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 16:50:34 [WARNING] app.auth.jwt_handler:81 - decode_access_token(): Invalid token: Not enough segments
2025-06-13 16:50:34 [ERROR] app.auth.auth_dependencies:108 - get_current_user(): Authentication error: Invalid token: Not enough segments
2025-06-13 16:50:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56018 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 401
2025-06-13 16:50:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56075 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 403
2025-06-13 17:00:27 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59894 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:00:27 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59895 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:00:27 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 17:00:27 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 17:00:27 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 17:00:27 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:00:27 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:00:27 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:00:27 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:00:27 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 17:00:27 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 17:00:27 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:00:27 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:00:27 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:00:27 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:00:27 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 17:00:27 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59899 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:00:28 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 17:00:28 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 17:00:28 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 17:00:28 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:00:28 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:00:28 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:00:28 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:00:28 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 17:00:28 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 17:00:28 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:00:28 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:00:28 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:00:28 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:00:28 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 17:00:28 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59899 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:01:43 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 17:01:43 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 17:01:43 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 17:01:43 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:01:43 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:01:43 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:01:43 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:01:43 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 17:01:43 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 17:01:43 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:01:43 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:01:43 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:01:43 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:01:43 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 17:01:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:60528 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:01:43 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 17:01:43 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 17:01:43 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 17:01:43 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:01:43 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:01:43 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:01:43 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:01:43 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 17:01:43 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 17:01:43 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:01:44 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:01:44 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:01:44 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:01:44 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 17:01:44 [INFO] uvicorn.access:473 - send(): 127.0.0.1:60528 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:03:14 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61241 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200
2025-06-13 17:03:14 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: emp005 @ localhost
2025-06-13 17:03:14 [INFO] app.api.controllers.auth_controller:84 - login(): Login attempt for user: emp005 @ localhost
2025-06-13 17:03:14 [INFO] app.api.controllers.auth_controller:93 - login(): Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest
2025-06-13 17:03:15 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 17:03:15 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 17:03:15 [INFO] app.infrastructure.database.mongodb_connector:90 - disconnect(): MongoDB connections closed
2025-06-13 17:03:15 [INFO] app.api.controllers.auth_controller:121 - login(): Verifying password for user: emp005
2025-06-13 17:03:15 [INFO] app.auth.password_handler:19 - verify_password(): Verifying password: admin123 with hashed password: $2b$12$iyoutjXcD0MXgAKs3l7/5uejkLO2dQcawDikrgYpNSxm6olQEn/Ai
2025-06-13 17:03:15 [WARNING] passlib.handlers.bcrypt:622 - _load_backend_mixin(): (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-13 17:03:16 [INFO] app.auth.password_handler:22 - verify_password(): Password verification succeeded.
2025-06-13 17:03:16 [INFO] app.auth.jwt_handler:37 - create_access_token(): Access token created for user: EMP005
2025-06-13 17:03:16 [INFO] app.auth.jwt_handler:38 - create_access_token(): Token expires at: 2025-06-13T19:33:16.099358
2025-06-13 17:03:16 [INFO] app.api.controllers.auth_controller:165 - login(): User emp005 logged in successfully
2025-06-13 17:03:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61241 - "POST /api/v2/auth/login HTTP/1.1" 200
2025-06-13 17:03:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61241 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:03:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61243 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:03:16 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: EMP005
2025-06-13 17:03:16 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: EMP005 from organisation: localhost
2025-06-13 17:03:16 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: EMP005
2025-06-13 17:03:16 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:03:16 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:03:16 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:03:16 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 17:03:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61241 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:03:16 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: EMP005
2025-06-13 17:03:16 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: EMP005 from organisation: localhost
2025-06-13 17:03:16 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: EMP005
2025-06-13 17:03:16 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:03:16 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:03:16 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:03:16 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:03:16 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 17:03:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61243 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:03:26 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61267 - "OPTIONS /api/v2/attendance/checkin HTTP/1.1" 200
2025-06-13 17:03:26 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: EMP005
2025-06-13 17:03:26 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: EMP005 from organisation: localhost
2025-06-13 17:03:26 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 17:03:26 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 17:03:26 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 17:03:26 [INFO] app.api.routes.attendance_routes_v2:57 - checkin(): Check-in request for employee: EMP005
2025-06-13 17:03:26 [INFO] app.api.controllers.attendance_controller:60 - checkin(): Check-in request for employee: EMP005 in organisation: localhost
2025-06-13 17:03:26 [INFO] app.infrastructure.services.attendance_service_impl:63 - check_in(): Processing check-in for employee EMP005 in organisation localhost
2025-06-13 17:03:26 [INFO] app.application.use_cases.attendance.check_in_use_case:93 - execute(): Processing check-in for employee: EMP005 in organisation: localhost
2025-06-13 17:03:26 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:03:26 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 17:03:26 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 17:03:26 [INFO] app.domain.entities.attendance:138 - check_in(): Employee EMP005 checked in at 2025-06-13 17:03:26.282556
2025-06-13 17:03:26 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 17:03:26 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:339 - save(): Created attendance: EMP005
2025-06-13 17:03:26 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:310 - _publish_events(): Publishing event: AttendanceCreatedEvent
2025-06-13 17:03:26 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_global_database' cached
2025-06-13 17:03:26 [ERROR] app.infrastructure.services.enhanced_event_publisher:107 - save_event(): Error saving event to store: object AsyncIOMotorDatabase can't be used in 'await' expression
2025-06-13 17:03:26 [WARNING] app.application.use_cases.attendance.check_in_use_case:256 - _publish_events(): Failed to publish check-in event: 'dict' object has no attribute 'get_event_type'
2025-06-13 17:03:26 [INFO] app.application.use_cases.attendance.check_in_use_case:134 - execute(): Check-in completed successfully for employee: EMP005 in organisation: localhost
2025-06-13 17:03:26 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61267 - "POST /api/v2/attendance/checkin HTTP/1.1" 200
2025-06-13 17:08:17 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 17:08:17 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 17:08:17 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 17:08:17 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:08:17 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:08:17 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:08:17 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 17:08:17 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63202 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:08:17 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 17:08:17 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 17:08:17 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 17:08:17 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:08:17 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:08:17 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:08:17 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:08:17 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 17:08:17 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63202 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:15:45 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49613 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:15:45 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49615 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:15:45 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 17:15:45 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 17:15:45 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 17:15:45 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:15:45 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:15:45 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:15:45 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:15:45 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 17:15:45 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 17:15:45 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:15:45 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:15:45 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:15:45 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:15:45 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 17:15:45 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49613 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:15:45 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 17:15:45 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 17:15:45 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 17:15:45 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:15:45 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:48 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 17:15:45 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:15:45 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:15:45 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 17:15:46 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 17:15:46 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 17:15:46 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 17:15:46 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:92 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:15:46 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 17:15:46 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 17:15:46 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49613 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 17:59:53 [ERROR] pymongo.client:104 - _log_client_error(): MongoClient background task encountered an error:
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/pool_shared.py", line 513, in _configured_socket_interface
    ssl_sock = ssl_context.wrap_socket(sock, server_hostname=host)
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
TimeoutError: _ssl.c:1011: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/synchronous/mongo_client.py", line 2206, in _process_periodic_tasks
    self._topology.update_pool()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/synchronous/topology.py", line 689, in update_pool
    server.pool.remove_stale_sockets(generation)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/synchronous/pool.py", line 957, in remove_stale_sockets
    conn = self.connect()
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/synchronous/pool.py", line 1011, in connect
    networking_interface = _configured_socket_interface(self.address, self.opts)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/pool_shared.py", line 527, in _configured_socket_interface
    _raise_connection_failure(address, exc, "SSL handshake failed: ", timeout_details=details)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/pool_shared.py", line 140, in _raise_connection_failure
    raise NetworkTimeout(msg) from error
pymongo.errors.NetworkTimeout: SSL handshake failed: ac-uqkr9ns-shard-00-00.jhfj7s3.mongodb.net:27017: _ssl.c:1011: The handshake operation timed out (configured timeouts: connectTimeoutMS: 10000.0ms)
2025-06-13 18:13:04 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 18:13:04 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 18:13:04 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 18:13:04 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 18:13:04 [INFO] uvicorn.error:93 - _serve(): Finished server process [2528]
2025-06-13 18:13:10 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:13:21 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:13:28 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:13:28 [INFO] uvicorn.error:83 - _serve(): Started server process [3406]
2025-06-13 18:13:28 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:13:28 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:13:28 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:13:34 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:13:40 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:13:40 [INFO] uvicorn.error:83 - _serve(): Started server process [3421]
2025-06-13 18:13:40 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:13:40 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:13:40 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:13:44 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:13:49 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:13:49 [INFO] uvicorn.error:83 - _serve(): Started server process [3435]
2025-06-13 18:13:49 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:13:49 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:13:49 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:14:03 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 18:14:03 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 18:14:03 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 18:14:03 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 18:14:03 [INFO] uvicorn.error:93 - _serve(): Finished server process [3435]
2025-06-13 18:14:08 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:14:13 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:14:13 [INFO] uvicorn.error:83 - _serve(): Started server process [3449]
2025-06-13 18:14:13 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:14:13 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:14:13 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:14:18 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:14:25 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:14:25 [INFO] uvicorn.error:83 - _serve(): Started server process [3464]
2025-06-13 18:14:25 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:14:25 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:14:25 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:14:29 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:14:35 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:14:35 [INFO] uvicorn.error:83 - _serve(): Started server process [3483]
2025-06-13 18:14:35 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:14:35 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:14:35 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:14:35 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 18:14:36 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 18:14:36 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 18:14:36 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 18:14:36 [INFO] uvicorn.error:93 - _serve(): Finished server process [3483]
2025-06-13 18:14:39 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:14:45 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:14:45 [INFO] uvicorn.error:83 - _serve(): Started server process [3496]
2025-06-13 18:14:45 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:14:45 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:14:45 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:16:33 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56395 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:16:33 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56396 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:16:33 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 18:16:33 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 18:16:33 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 18:16:33 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 18:16:33 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 18:16:33 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 18:16:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 18:16:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 18:16:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 18:16:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 18:16:33 [INFO] app.config.dependency_container:524 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 18:16:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 18:16:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 18:16:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 18:16:33 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 18:16:33 [INFO] app.config.dependency_container:524 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 18:16:33 [INFO] app.config.dependency_container:336 - _create_attendance_use_cases(): Attendance use cases created successfully
2025-06-13 18:16:33 [INFO] app.config.dependency_container:287 - _setup_services(): Services initialized
2025-06-13 18:16:33 [INFO] app.config.dependency_container:358 - _setup_controllers(): Controllers setup deferred
2025-06-13 18:16:33 [INFO] app.config.dependency_container:104 - initialize(): Dependency container initialized successfully
2025-06-13 18:16:33 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 18:16:33 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:16:33 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:49 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:16:33 [INFO] app.infrastructure.repositories.mongodb_user_repository:75 - _get_collection(): Database not connected, establishing connection...
2025-06-13 18:16:33 [INFO] app.infrastructure.repositories.mongodb_user_repository:80 - _get_collection(): Using stored connection parameters from repository configuration
2025-06-13 18:16:34 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 18:16:34 [INFO] app.infrastructure.repositories.mongodb_user_repository:90 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-13 18:16:34 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 18:16:34 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:16:34 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:16:34 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 18:16:34 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 18:16:34 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:16:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:16:35 [ERROR] app.application.use_cases.reporting.get_dashboard_analytics_use_case:100 - execute(): Error getting dashboard analytics for organisation localhost: 'GetDashboardAnalyticsUseCase' object has no attribute '_get_attendance_statistics'
2025-06-13 18:16:35 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:16:35 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 18:16:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56395 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:16:35 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 18:16:35 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 18:16:35 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 18:16:35 [INFO] app.infrastructure.services.reporting_service_impl:257 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:16:35 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:49 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:16:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:16:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:16:35 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 18:16:35 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 18:16:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:16:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:16:35 [ERROR] app.application.use_cases.reporting.get_dashboard_analytics_use_case:100 - execute(): Error getting dashboard analytics for organisation localhost: 'GetDashboardAnalyticsUseCase' object has no attribute '_get_attendance_statistics'
2025-06-13 18:16:35 [INFO] app.infrastructure.services.reporting_service_impl:262 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:16:35 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 18:16:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56395 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:20:35 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 18:20:35 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 18:20:35 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 18:20:35 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 18:20:35 [INFO] uvicorn.error:93 - _serve(): Finished server process [3496]
2025-06-13 18:20:39 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:20:47 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:20:47 [INFO] uvicorn.error:83 - _serve(): Started server process [3537]
2025-06-13 18:20:47 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:20:47 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:20:47 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:21:18 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 18:21:18 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 18:21:18 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 18:21:18 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 18:21:18 [INFO] uvicorn.error:93 - _serve(): Finished server process [3537]
2025-06-13 18:21:22 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:21:29 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:21:29 [INFO] uvicorn.error:83 - _serve(): Started server process [3560]
2025-06-13 18:21:29 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:21:29 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:21:29 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:22:04 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 18:22:05 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 18:22:05 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 18:22:05 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 18:22:05 [INFO] uvicorn.error:93 - _serve(): Finished server process [3560]
2025-06-13 18:22:09 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:22:20 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:22:20 [INFO] uvicorn.error:83 - _serve(): Started server process [3580]
2025-06-13 18:22:20 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:22:20 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:22:20 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:22:24 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:22:31 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:22:31 [INFO] uvicorn.error:83 - _serve(): Started server process [3599]
2025-06-13 18:22:31 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:22:31 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:22:31 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:22:33 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:22:35 [INFO] __main__:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:22:35 [INFO] __main__:160 - <module>(): Starting PMS application by TheOne
2025-06-13 18:22:46 [INFO] uvicorn.access:473 - send(): 127.0.0.1:58882 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 403
2025-06-13 18:23:59 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 18:23:59 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 18:23:59 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 18:23:59 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 18:23:59 [INFO] uvicorn.error:93 - _serve(): Finished server process [3599]
2025-06-13 18:24:04 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:24:15 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:24:15 [INFO] uvicorn.error:83 - _serve(): Started server process [3786]
2025-06-13 18:24:15 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:24:15 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:24:15 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:24:15 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 18:24:15 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 18:24:15 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 18:24:15 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 18:24:15 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 18:24:15 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 18:24:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 18:24:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 18:24:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 18:24:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 18:24:15 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 18:24:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 18:24:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 18:24:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 18:24:15 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 18:24:15 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 18:24:15 [INFO] app.config.dependency_container:337 - _create_attendance_use_cases(): Attendance use cases created successfully
2025-06-13 18:24:15 [INFO] app.config.dependency_container:288 - _setup_services(): Services initialized
2025-06-13 18:24:15 [INFO] app.config.dependency_container:359 - _setup_controllers(): Controllers setup deferred
2025-06-13 18:24:15 [INFO] app.config.dependency_container:104 - initialize(): Dependency container initialized successfully
2025-06-13 18:24:15 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 18:24:15 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:24:15 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:24:15 [INFO] app.infrastructure.repositories.mongodb_user_repository:75 - _get_collection(): Database not connected, establishing connection...
2025-06-13 18:24:15 [INFO] app.infrastructure.repositories.mongodb_user_repository:80 - _get_collection(): Using stored connection parameters from repository configuration
2025-06-13 18:24:16 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 18:24:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:90 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-13 18:24:16 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 18:24:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:24:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:24:16 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 18:24:16 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 18:24:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:24:16 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:24:16 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 18:24:17 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:24:17 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:24:17 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 18:24:17 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59483 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:24:17 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 18:24:17 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 18:24:17 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 18:24:17 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:24:17 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:24:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:24:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:24:17 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 18:24:17 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 18:24:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:24:17 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:24:17 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 18:24:17 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:24:17 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:24:17 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 18:24:17 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59483 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:24:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59787 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:24:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59789 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:24:40 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: EMP005
2025-06-13 18:24:40 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: EMP005 from organisation: localhost
2025-06-13 18:24:40 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: EMP005
2025-06-13 18:24:40 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:24:40 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 18:24:40 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:24:40 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 18:24:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59787 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:24:40 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: EMP005
2025-06-13 18:24:40 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: EMP005 from organisation: localhost
2025-06-13 18:24:40 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: EMP005
2025-06-13 18:24:40 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:24:40 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:24:40 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 18:24:41 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:24:41 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:24:41 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 18:24:41 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59789 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:24:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59789 - "OPTIONS /api/v2/attendance/checkout HTTP/1.1" 200
2025-06-13 18:24:43 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: EMP005
2025-06-13 18:24:43 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: EMP005 from organisation: localhost
2025-06-13 18:24:43 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 18:24:43 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 18:24:43 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 18:24:43 [INFO] app.api.routes.attendance_routes_v2:88 - checkout(): Check-out request for employee: EMP005
2025-06-13 18:24:43 [INFO] app.api.controllers.attendance_controller:80 - checkout(): Check-out request for employee: EMP005 in organisation: localhost
2025-06-13 18:24:43 [INFO] app.infrastructure.services.attendance_service_impl:79 - check_out(): Processing check-out for employee EMP005 in organisation localhost
2025-06-13 18:24:43 [INFO] app.application.use_cases.attendance.check_out_use_case:93 - execute(): Processing check-out for employee: EMP005 in organisation: localhost
2025-06-13 18:24:43 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:24:43 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 18:24:43 [INFO] app.domain.entities.attendance:185 - check_out(): Employee EMP005 checked out at 2025-06-13 18:24:43.453970
2025-06-13 18:24:43 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 18:24:43 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:349 - save(): Updated attendance: EMP005
2025-06-13 18:24:43 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:310 - _publish_events(): Publishing event: AttendanceUpdatedEvent
2025-06-13 18:24:43 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_global_database' cached
2025-06-13 18:24:43 [ERROR] app.infrastructure.services.enhanced_event_publisher:107 - save_event(): Error saving event to store: object AsyncIOMotorDatabase can't be used in 'await' expression
2025-06-13 18:24:43 [WARNING] app.application.use_cases.attendance.check_out_use_case:257 - _publish_events(): Failed to publish check-out event: 'dict' object has no attribute 'get_event_type'
2025-06-13 18:24:43 [WARNING] app.application.use_cases.attendance.check_out_use_case:275 - _send_notifications(): Failed to send check-out notifications: '>' not supported between instances of 'method' and 'int'
2025-06-13 18:24:43 [ERROR] app.application.use_cases.attendance.check_out_use_case:137 - execute(): Unexpected error during check-out: 3 validation errors for WorkingHoursResponseDTO
is_complete_day
  Input should be a valid boolean [type=bool_type, input_value=<bound method WorkingHour...reshold=Decimal('8.0'))>, input_type=method]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
is_full_day
  Input should be a valid boolean [type=bool_type, input_value=<bound method WorkingHour...reshold=Decimal('8.0'))>, input_type=method]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
is_half_day
  Input should be a valid boolean [type=bool_type, input_value=<bound method WorkingHour...reshold=Decimal('8.0'))>, input_type=method]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
2025-06-13 18:24:43 [ERROR] app.infrastructure.services.attendance_service_impl:89 - check_out(): Error processing check-out for employee EMP005 in organisation localhost: Failed to process check-out: 3 validation errors for WorkingHoursResponseDTO
is_complete_day
  Input should be a valid boolean [type=bool_type, input_value=<bound method WorkingHour...reshold=Decimal('8.0'))>, input_type=method]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
is_full_day
  Input should be a valid boolean [type=bool_type, input_value=<bound method WorkingHour...reshold=Decimal('8.0'))>, input_type=method]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
is_half_day
  Input should be a valid boolean [type=bool_type, input_value=<bound method WorkingHour...reshold=Decimal('8.0'))>, input_type=method]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
2025-06-13 18:24:43 [WARNING] app.api.controllers.attendance_controller:87 - checkout(): Business rule error during check-out: Failed to process check-out: 3 validation errors for WorkingHoursResponseDTO
is_complete_day
  Input should be a valid boolean [type=bool_type, input_value=<bound method WorkingHour...reshold=Decimal('8.0'))>, input_type=method]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
is_full_day
  Input should be a valid boolean [type=bool_type, input_value=<bound method WorkingHour...reshold=Decimal('8.0'))>, input_type=method]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
is_half_day
  Input should be a valid boolean [type=bool_type, input_value=<bound method WorkingHour...reshold=Decimal('8.0'))>, input_type=method]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
2025-06-13 18:24:43 [WARNING] app.api.routes.attendance_routes_v2:104 - checkout(): Business rule error during check-out: Failed to process check-out: 3 validation errors for WorkingHoursResponseDTO
is_complete_day
  Input should be a valid boolean [type=bool_type, input_value=<bound method WorkingHour...reshold=Decimal('8.0'))>, input_type=method]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
is_full_day
  Input should be a valid boolean [type=bool_type, input_value=<bound method WorkingHour...reshold=Decimal('8.0'))>, input_type=method]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
is_half_day
  Input should be a valid boolean [type=bool_type, input_value=<bound method WorkingHour...reshold=Decimal('8.0'))>, input_type=method]
    For further information visit https://errors.pydantic.dev/2.11/v/bool_type
2025-06-13 18:24:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59787 - "POST /api/v2/attendance/checkout HTTP/1.1" 422
2025-06-13 18:29:31 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 18:29:31 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 18:29:31 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 18:29:31 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 18:29:31 [INFO] uvicorn.error:93 - _serve(): Finished server process [3786]
2025-06-13 18:29:35 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:29:42 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:29:42 [INFO] uvicorn.error:83 - _serve(): Started server process [3842]
2025-06-13 18:29:42 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:29:42 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:29:42 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:29:52 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 18:29:52 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 18:29:52 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 18:29:52 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 18:29:52 [INFO] uvicorn.error:93 - _serve(): Finished server process [3842]
2025-06-13 18:29:56 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 18:30:04 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 18:30:04 [INFO] uvicorn.error:83 - _serve(): Started server process [3860]
2025-06-13 18:30:04 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 18:30:04 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 18:30:04 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 18:31:07 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: EMP005
2025-06-13 18:31:07 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: EMP005 from organisation: localhost
2025-06-13 18:31:07 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 18:31:07 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 18:31:07 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 18:31:07 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 18:31:07 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 18:31:07 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 18:31:07 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 18:31:07 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 18:31:07 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 18:31:07 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 18:31:07 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 18:31:07 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 18:31:07 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 18:31:07 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 18:31:07 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 18:31:07 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 18:31:07 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 18:31:07 [INFO] app.config.dependency_container:337 - _create_attendance_use_cases(): Attendance use cases created successfully
2025-06-13 18:31:07 [INFO] app.config.dependency_container:288 - _setup_services(): Services initialized
2025-06-13 18:31:07 [INFO] app.config.dependency_container:359 - _setup_controllers(): Controllers setup deferred
2025-06-13 18:31:07 [INFO] app.config.dependency_container:104 - initialize(): Dependency container initialized successfully
2025-06-13 18:31:07 [INFO] app.api.routes.attendance_routes_v2:88 - checkout(): Check-out request for employee: EMP005
2025-06-13 18:31:07 [INFO] app.api.controllers.attendance_controller:80 - checkout(): Check-out request for employee: EMP005 in organisation: localhost
2025-06-13 18:31:07 [INFO] app.infrastructure.services.attendance_service_impl:79 - check_out(): Processing check-out for employee EMP005 in organisation localhost
2025-06-13 18:31:07 [INFO] app.application.use_cases.attendance.check_out_use_case:93 - execute(): Processing check-out for employee: EMP005 in organisation: localhost
2025-06-13 18:31:07 [INFO] app.infrastructure.repositories.mongodb_user_repository:75 - _get_collection(): Database not connected, establishing connection...
2025-06-13 18:31:07 [INFO] app.infrastructure.repositories.mongodb_user_repository:80 - _get_collection(): Using stored connection parameters from repository configuration
2025-06-13 18:31:08 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 18:31:08 [INFO] app.infrastructure.repositories.mongodb_user_repository:90 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-13 18:31:08 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 18:31:08 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:31:09 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 18:31:09 [ERROR] app.infrastructure.services.attendance_service_impl:89 - check_out(): Error processing check-out for employee EMP005 in organisation localhost: Employee EMP005 is already checked out
2025-06-13 18:31:09 [WARNING] app.api.controllers.attendance_controller:87 - checkout(): Business rule error during check-out: Employee EMP005 is already checked out
2025-06-13 18:31:09 [WARNING] app.api.routes.attendance_routes_v2:104 - checkout(): Business rule error during check-out: Employee EMP005 is already checked out
2025-06-13 18:31:09 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62448 - "POST /api/v2/attendance/checkout HTTP/1.1" 422
2025-06-13 18:31:28 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62617 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:31:28 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62618 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:31:28 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 18:31:28 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 18:31:28 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 18:31:28 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:31:28 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:31:28 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:31:28 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:31:28 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 18:31:28 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 18:31:28 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:31:29 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:31:29 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 18:31:29 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:31:29 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:31:29 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 18:31:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62617 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:31:29 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 18:31:29 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 18:31:29 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 18:31:29 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:31:29 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:31:29 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:31:29 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:31:29 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 18:31:29 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 18:31:29 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:31:29 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:31:29 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 18:31:29 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:31:29 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:31:29 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 18:31:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62617 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:35:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63712 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:35:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63714 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:35:35 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: EMP005
2025-06-13 18:35:35 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: EMP005 from organisation: localhost
2025-06-13 18:35:35 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: EMP005
2025-06-13 18:35:35 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:35:35 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 18:35:35 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:35:35 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 18:35:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63712 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:35:35 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: EMP005
2025-06-13 18:35:35 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: EMP005 from organisation: localhost
2025-06-13 18:35:35 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: EMP005
2025-06-13 18:35:35 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:35:35 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 18:35:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 18:35:36 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 18:35:36 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 18:35:36 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:35:36 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 18:35:36 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 18:35:36 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63714 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 18:50:22 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52051 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 18:50:22 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 18:50:22 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 18:50:22 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-13 18:50:22 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-13 18:50:22 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_global_database' cached
2025-06-13 18:50:22 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 18:50:22 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 18:50:22 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 1 organisations (total: 1)
2025-06-13 18:50:22 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52051 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 19:44:28 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56588 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 19:44:28 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 19:44:28 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 19:44:28 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-13 19:44:28 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-13 19:44:28 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 19:44:28 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 19:44:28 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 1 organisations (total: 1)
2025-06-13 19:44:28 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56588 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 19:46:27 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56874 - "OPTIONS /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 19:46:27 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 19:46:27 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 19:46:27 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 19:46:27 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 19:46:27 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 19:46:27 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 19:46:28 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56876 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 19:52:41 [INFO] uvicorn.access:473 - send(): 127.0.0.1:58286 - "OPTIONS /api/v2/reimbursements/ HTTP/1.1" 200
2025-06-13 19:52:41 [INFO] uvicorn.access:473 - send(): 127.0.0.1:58286 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 19:52:41 [INFO] uvicorn.access:473 - send(): 127.0.0.1:58286 - "OPTIONS /api/v2/reimbursements HTTP/1.1" 200
2025-06-13 19:52:41 [INFO] uvicorn.access:473 - send(): 127.0.0.1:58288 - "GET /api/v2/reimbursements HTTP/1.1" 405
2025-06-13 19:52:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:58288 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 19:52:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:58288 - "GET /api/v2/reimbursements HTTP/1.1" 405
2025-06-13 19:56:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59180 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 19:56:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59180 - "GET /api/v2/reimbursements HTTP/1.1" 405
2025-06-13 19:56:58 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59180 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 19:56:58 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59180 - "GET /api/v2/reimbursements HTTP/1.1" 405
2025-06-13 19:57:00 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59180 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 19:57:00 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59180 - "GET /api/v2/reimbursements HTTP/1.1" 405
2025-06-13 19:57:01 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59180 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 19:57:01 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59180 - "GET /api/v2/reimbursements HTTP/1.1" 405
2025-06-13 19:57:06 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59199 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 19:57:06 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59199 - "GET /api/v2/reimbursements HTTP/1.1" 405
2025-06-13 19:57:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59199 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 19:57:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59199 - "GET /api/v2/reimbursements HTTP/1.1" 405
2025-06-13 19:57:33 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59255 - "OPTIONS /api/v2/company-leaves HTTP/1.1" 200
2025-06-13 19:57:33 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59255 - "GET /api/v2/company-leaves HTTP/1.1" 307
2025-06-13 19:57:33 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59255 - "OPTIONS /api/v2/company-leaves/ HTTP/1.1" 200
2025-06-13 19:57:34 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 19:57:34 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 19:57:34 [INFO] app.api.controllers.company_leave_controller:62 - list_company_leaves(): Listing company leaves with filters
2025-06-13 19:57:34 [INFO] app.infrastructure.services.company_leave_service_impl:286 - list_company_leaves(): Listing company leaves in organisation localhost
2025-06-13 19:57:34 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:249 - list_with_filters(): Retrieving company leaves with filters: {'is_active': None, 'accrual_type': None, 'sort_by': 'created_at', 'sort_order': 'desc', 'page': 1, 'page_size': 100}
2025-06-13 19:57:34 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 19:57:34 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:260 - list_with_filters(): MongoDB query: {}
2025-06-13 19:57:34 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:264 - list_with_filters(): Pagination: skip=0, limit=100
2025-06-13 19:57:34 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:269 - list_with_filters(): Sort: field=created_at, direction=-1
2025-06-13 19:57:34 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:280 - list_with_filters(): Retrieved 1 company leave documents from MongoDB with filters
2025-06-13 19:57:34 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:283 - list_with_filters(): Successfully converted 1 filtered documents to entities
2025-06-13 19:57:34 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 19:57:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59257 - "GET /api/v2/company-leaves/ HTTP/1.1" 200
2025-06-13 19:57:37 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59257 - "OPTIONS /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 19:57:37 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59255 - "GET /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 404
2025-06-13 19:57:38 [INFO] uvicorn.access:473 - send(): 127.0.0.1:59255 - "GET /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 404
2025-06-13 20:05:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61098 - "GET /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 404
2025-06-13 20:05:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61098 - "GET /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 404
2025-06-13 20:08:06 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61587 - "OPTIONS /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 20:08:06 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61587 - "GET /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 404
2025-06-13 20:08:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61587 - "GET /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 404
2025-06-13 20:09:11 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61813 - "OPTIONS /api/v2/company-leaves HTTP/1.1" 200
2025-06-13 20:09:11 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61815 - "GET /api/v2/company-leaves HTTP/1.1" 307
2025-06-13 20:09:11 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61815 - "OPTIONS /api/v2/company-leaves/ HTTP/1.1" 200
2025-06-13 20:09:11 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:09:11 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:09:11 [INFO] app.api.controllers.company_leave_controller:62 - list_company_leaves(): Listing company leaves with filters
2025-06-13 20:09:11 [INFO] app.infrastructure.services.company_leave_service_impl:286 - list_company_leaves(): Listing company leaves in organisation localhost
2025-06-13 20:09:11 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:249 - list_with_filters(): Retrieving company leaves with filters: {'is_active': None, 'accrual_type': None, 'sort_by': 'created_at', 'sort_order': 'desc', 'page': 1, 'page_size': 100}
2025-06-13 20:09:11 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 20:09:11 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:260 - list_with_filters(): MongoDB query: {}
2025-06-13 20:09:11 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:264 - list_with_filters(): Pagination: skip=0, limit=100
2025-06-13 20:09:11 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:269 - list_with_filters(): Sort: field=created_at, direction=-1
2025-06-13 20:09:11 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:280 - list_with_filters(): Retrieved 1 company leave documents from MongoDB with filters
2025-06-13 20:09:11 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:283 - list_with_filters(): Successfully converted 1 filtered documents to entities
2025-06-13 20:09:11 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 20:09:11 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61813 - "GET /api/v2/company-leaves/ HTTP/1.1" 200
2025-06-13 20:09:13 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61813 - "GET /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 404
2025-06-13 20:09:14 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61813 - "GET /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 404
2025-06-13 20:09:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61813 - "OPTIONS /api/v2/employee-leave/ HTTP/1.1" 200
2025-06-13 20:09:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61815 - "GET /api/v2/employee-leave/ HTTP/1.1" 404
2025-06-13 20:09:17 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61815 - "GET /api/v2/employee-leave/ HTTP/1.1" 404
2025-06-13 20:26:51 [INFO] uvicorn.access:473 - send(): 127.0.0.1:65262 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 20:26:51 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:26:51 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:26:51 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-13 20:26:51 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-13 20:26:51 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 20:26:51 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 20:26:51 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 1 organisations (total: 1)
2025-06-13 20:26:51 [INFO] uvicorn.access:473 - send(): 127.0.0.1:65262 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 20:26:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:65262 - "OPTIONS /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 20:26:54 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:26:54 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:26:54 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 20:26:54 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 20:26:54 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 20:26:54 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 20:26:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:65262 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 20:29:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49873 - "GET /api/v2/public-holidays/health HTTP/1.1" 200
2025-06-13 20:29:41 [WARNING] app.auth.jwt_handler:81 - decode_access_token(): Invalid token: Not enough segments
2025-06-13 20:29:41 [ERROR] app.auth.auth_dependencies:108 - get_current_user(): Authentication error: Invalid token: Not enough segments
2025-06-13 20:29:41 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49914 - "GET /api/v2/public-holidays/ HTTP/1.1" 401
2025-06-13 20:30:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50289 - "OPTIONS /api/v2/public-holidays HTTP/1.1" 200
2025-06-13 20:30:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50291 - "GET /api/v2/public-holidays HTTP/1.1" 307
2025-06-13 20:30:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50291 - "OPTIONS /api/v2/public-holidays/ HTTP/1.1" 200
2025-06-13 20:30:29 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:30:29 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:30:29 [INFO] app.infrastructure.repositories.mongodb_public_holiday_repository:100 - _get_collection(): Successfully retrieved collection: public_holidays from database: pms_localhost
2025-06-13 20:30:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50289 - "GET /api/v2/public-holidays/ HTTP/1.1" 200
2025-06-13 20:30:39 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50406 - "GET /api/v2/public-holidays HTTP/1.1" 307
2025-06-13 20:30:39 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:30:39 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:30:39 [INFO] app.infrastructure.repositories.mongodb_public_holiday_repository:100 - _get_collection(): Successfully retrieved collection: public_holidays from database: pms_localhost
2025-06-13 20:30:39 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50406 - "GET /api/v2/public-holidays/ HTTP/1.1" 200
2025-06-13 20:31:06 [WARNING] app.auth.jwt_handler:81 - decode_access_token(): Invalid token: Not enough segments
2025-06-13 20:31:06 [ERROR] app.auth.auth_dependencies:108 - get_current_user(): Authentication error: Invalid token: Not enough segments
2025-06-13 20:31:06 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50674 - "GET /api/v2/public-holidays/ HTTP/1.1" 401
2025-06-13 20:33:05 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51681 - "GET /api/v2/public-holidays HTTP/1.1" 307
2025-06-13 20:33:05 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51681 - "GET /api/v2/public-holidays HTTP/1.1" 307
2025-06-13 20:33:05 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:33:05 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:33:05 [INFO] app.infrastructure.repositories.mongodb_public_holiday_repository:100 - _get_collection(): Successfully retrieved collection: public_holidays from database: pms_localhost
2025-06-13 20:33:05 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51681 - "GET /api/v2/public-holidays/ HTTP/1.1" 200
2025-06-13 20:33:05 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:33:05 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:33:05 [INFO] app.infrastructure.repositories.mongodb_public_holiday_repository:100 - _get_collection(): Successfully retrieved collection: public_holidays from database: pms_localhost
2025-06-13 20:33:06 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51681 - "GET /api/v2/public-holidays/ HTTP/1.1" 200
2025-06-13 20:33:47 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51982 - "GET /api/v2/public-holidays HTTP/1.1" 307
2025-06-13 20:33:47 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51982 - "GET /api/v2/public-holidays HTTP/1.1" 307
2025-06-13 20:33:47 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:33:47 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:33:47 [INFO] app.infrastructure.repositories.mongodb_public_holiday_repository:100 - _get_collection(): Successfully retrieved collection: public_holidays from database: pms_localhost
2025-06-13 20:33:47 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51982 - "GET /api/v2/public-holidays/ HTTP/1.1" 200
2025-06-13 20:33:47 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:33:47 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:33:47 [INFO] app.infrastructure.repositories.mongodb_public_holiday_repository:100 - _get_collection(): Successfully retrieved collection: public_holidays from database: pms_localhost
2025-06-13 20:33:47 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51982 - "GET /api/v2/public-holidays/ HTTP/1.1" 200
2025-06-13 20:33:56 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:33:56 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:33:56 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-13 20:33:56 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-13 20:33:56 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 20:33:56 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 20:33:56 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 1 organisations (total: 1)
2025-06-13 20:33:56 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52013 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 20:46:55 [INFO] uvicorn.access:473 - send(): 127.0.0.1:54471 - "OPTIONS /api/v2/public-holidays/?limit=100&sort_by=holiday_date&sort_order=asc HTTP/1.1" 200
2025-06-13 20:46:55 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:46:55 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:46:55 [INFO] app.infrastructure.repositories.mongodb_public_holiday_repository:100 - _get_collection(): Successfully retrieved collection: public_holidays from database: pms_localhost
2025-06-13 20:46:55 [INFO] uvicorn.access:473 - send(): 127.0.0.1:54471 - "GET /api/v2/public-holidays/?limit=100&sort_by=holiday_date&sort_order=asc HTTP/1.1" 200
2025-06-13 20:47:12 [INFO] uvicorn.access:473 - send(): 127.0.0.1:54473 - "OPTIONS /api/v2/company-leaves HTTP/1.1" 200
2025-06-13 20:47:12 [INFO] uvicorn.access:473 - send(): 127.0.0.1:54473 - "GET /api/v2/company-leaves HTTP/1.1" 307
2025-06-13 20:47:12 [INFO] uvicorn.access:473 - send(): 127.0.0.1:54473 - "OPTIONS /api/v2/company-leaves/ HTTP/1.1" 200
2025-06-13 20:47:12 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:47:12 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:47:12 [INFO] app.api.controllers.company_leave_controller:62 - list_company_leaves(): Listing company leaves with filters
2025-06-13 20:47:12 [INFO] app.infrastructure.services.company_leave_service_impl:286 - list_company_leaves(): Listing company leaves in organisation localhost
2025-06-13 20:47:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:249 - list_with_filters(): Retrieving company leaves with filters: {'is_active': None, 'accrual_type': None, 'sort_by': 'created_at', 'sort_order': 'desc', 'page': 1, 'page_size': 100}
2025-06-13 20:47:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 20:47:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:260 - list_with_filters(): MongoDB query: {}
2025-06-13 20:47:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:264 - list_with_filters(): Pagination: skip=0, limit=100
2025-06-13 20:47:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:269 - list_with_filters(): Sort: field=created_at, direction=-1
2025-06-13 20:47:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:280 - list_with_filters(): Retrieved 1 company leave documents from MongoDB with filters
2025-06-13 20:47:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:283 - list_with_filters(): Successfully converted 1 filtered documents to entities
2025-06-13 20:47:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 20:47:12 [INFO] uvicorn.access:473 - send(): 127.0.0.1:54505 - "GET /api/v2/company-leaves/ HTTP/1.1" 200
2025-06-13 20:50:09 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:50:09 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:50:09 [INFO] app.infrastructure.repositories.mongodb_public_holiday_repository:100 - _get_collection(): Successfully retrieved collection: public_holidays from database: pms_localhost
2025-06-13 20:50:09 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55119 - "GET /api/v2/public-holidays/?limit=100&sort_by=holiday_date&sort_order=asc HTTP/1.1" 200
2025-06-13 20:50:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55244 - "GET /api/v2/company-leaves HTTP/1.1" 307
2025-06-13 20:50:29 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:50:29 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:50:29 [INFO] app.api.controllers.company_leave_controller:62 - list_company_leaves(): Listing company leaves with filters
2025-06-13 20:50:29 [INFO] app.infrastructure.services.company_leave_service_impl:286 - list_company_leaves(): Listing company leaves in organisation localhost
2025-06-13 20:50:29 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:249 - list_with_filters(): Retrieving company leaves with filters: {'is_active': None, 'accrual_type': None, 'sort_by': 'created_at', 'sort_order': 'desc', 'page': 1, 'page_size': 100}
2025-06-13 20:50:29 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 20:50:29 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:260 - list_with_filters(): MongoDB query: {}
2025-06-13 20:50:29 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:264 - list_with_filters(): Pagination: skip=0, limit=100
2025-06-13 20:50:29 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:269 - list_with_filters(): Sort: field=created_at, direction=-1
2025-06-13 20:50:30 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:280 - list_with_filters(): Retrieved 1 company leave documents from MongoDB with filters
2025-06-13 20:50:30 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:283 - list_with_filters(): Successfully converted 1 filtered documents to entities
2025-06-13 20:50:30 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 20:50:30 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55244 - "GET /api/v2/company-leaves/ HTTP/1.1" 200
2025-06-13 20:54:10 [INFO] uvicorn.access:473 - send(): 127.0.0.1:57049 - "GET /api/v2/company-leaves HTTP/1.1" 307
2025-06-13 20:54:10 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:54:10 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:54:10 [INFO] app.api.controllers.company_leave_controller:62 - list_company_leaves(): Listing company leaves with filters
2025-06-13 20:54:10 [INFO] app.infrastructure.services.company_leave_service_impl:286 - list_company_leaves(): Listing company leaves in organisation localhost
2025-06-13 20:54:10 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:249 - list_with_filters(): Retrieving company leaves with filters: {'is_active': None, 'accrual_type': None, 'sort_by': 'created_at', 'sort_order': 'desc', 'page': 1, 'page_size': 100}
2025-06-13 20:54:10 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 20:54:10 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:260 - list_with_filters(): MongoDB query: {}
2025-06-13 20:54:10 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:264 - list_with_filters(): Pagination: skip=0, limit=100
2025-06-13 20:54:10 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:269 - list_with_filters(): Sort: field=created_at, direction=-1
2025-06-13 20:54:10 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:280 - list_with_filters(): Retrieved 1 company leave documents from MongoDB with filters
2025-06-13 20:54:10 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:283 - list_with_filters(): Successfully converted 1 filtered documents to entities
2025-06-13 20:54:10 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 20:54:10 [INFO] uvicorn.access:473 - send(): 127.0.0.1:57049 - "GET /api/v2/company-leaves/ HTTP/1.1" 200
2025-06-13 20:58:11 [INFO] uvicorn.access:473 - send(): 127.0.0.1:58851 - "OPTIONS /api/v2/company-leaves HTTP/1.1" 200
2025-06-13 20:58:11 [INFO] uvicorn.access:473 - send(): 127.0.0.1:58853 - "GET /api/v2/company-leaves HTTP/1.1" 307
2025-06-13 20:58:12 [INFO] uvicorn.access:473 - send(): 127.0.0.1:58853 - "OPTIONS /api/v2/company-leaves/ HTTP/1.1" 200
2025-06-13 20:58:12 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 20:58:12 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 20:58:12 [INFO] app.api.controllers.company_leave_controller:62 - list_company_leaves(): Listing company leaves with filters
2025-06-13 20:58:12 [INFO] app.infrastructure.services.company_leave_service_impl:286 - list_company_leaves(): Listing company leaves in organisation localhost
2025-06-13 20:58:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:249 - list_with_filters(): Retrieving company leaves with filters: {'is_active': None, 'accrual_type': None, 'sort_by': 'created_at', 'sort_order': 'desc', 'page': 1, 'page_size': 100}
2025-06-13 20:58:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 20:58:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:260 - list_with_filters(): MongoDB query: {}
2025-06-13 20:58:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:264 - list_with_filters(): Pagination: skip=0, limit=100
2025-06-13 20:58:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:269 - list_with_filters(): Sort: field=created_at, direction=-1
2025-06-13 20:58:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:280 - list_with_filters(): Retrieved 1 company leave documents from MongoDB with filters
2025-06-13 20:58:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:283 - list_with_filters(): Successfully converted 1 filtered documents to entities
2025-06-13 20:58:12 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 20:58:12 [INFO] uvicorn.access:473 - send(): 127.0.0.1:58851 - "GET /api/v2/company-leaves/ HTTP/1.1" 200
2025-06-13 21:02:37 [INFO] uvicorn.access:473 - send(): 127.0.0.1:60574 - "GET /api/v2/company-leaves HTTP/1.1" 307
2025-06-13 21:02:37 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:02:37 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:02:37 [INFO] app.api.controllers.company_leave_controller:62 - list_company_leaves(): Listing company leaves with filters
2025-06-13 21:02:37 [INFO] app.infrastructure.services.company_leave_service_impl:286 - list_company_leaves(): Listing company leaves in organisation localhost
2025-06-13 21:02:37 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:249 - list_with_filters(): Retrieving company leaves with filters: {'is_active': None, 'accrual_type': None, 'sort_by': 'created_at', 'sort_order': 'desc', 'page': 1, 'page_size': 100}
2025-06-13 21:02:37 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 21:02:37 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:260 - list_with_filters(): MongoDB query: {}
2025-06-13 21:02:37 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:264 - list_with_filters(): Pagination: skip=0, limit=100
2025-06-13 21:02:37 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:269 - list_with_filters(): Sort: field=created_at, direction=-1
2025-06-13 21:02:37 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:280 - list_with_filters(): Retrieved 1 company leave documents from MongoDB with filters
2025-06-13 21:02:37 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:283 - list_with_filters(): Successfully converted 1 filtered documents to entities
2025-06-13 21:02:37 [INFO] app.infrastructure.repositories.mongodb_company_leave_repository:101 - _get_collection(): Successfully retrieved collection: company_leaves from database: pms_localhost
2025-06-13 21:02:37 [INFO] uvicorn.access:473 - send(): 127.0.0.1:60574 - "GET /api/v2/company-leaves/ HTTP/1.1" 200
2025-06-13 21:03:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:60786 - "OPTIONS /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 21:03:44 [INFO] uvicorn.access:473 - send(): 127.0.0.1:60788 - "GET /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 404
2025-06-13 21:03:45 [INFO] uvicorn.access:473 - send(): 127.0.0.1:60788 - "GET /api/v2/attendance/?skip=0&limit=10 HTTP/1.1" 404
2025-06-13 21:06:24 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61617 - "OPTIONS /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 21:06:24 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:06:24 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:06:24 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 21:06:24 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:06:24 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 21:06:24 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:06:24 [INFO] uvicorn.access:473 - send(): 127.0.0.1:61617 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 21:07:52 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62022 - "OPTIONS /api/v2/attendance/?employee_id=EMP002&month=6&year=2025 HTTP/1.1" 200
2025-06-13 21:07:52 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62022 - "GET /api/v2/attendance/?employee_id=EMP002&month=6&year=2025 HTTP/1.1" 404
2025-06-13 21:07:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62022 - "GET /api/v2/attendance/?employee_id=EMP002&month=6&year=2025 HTTP/1.1" 404
2025-06-13 21:08:08 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62024 - "OPTIONS /api/v2/attendance/?employee_id=EMP005&month=6&year=2025 HTTP/1.1" 200
2025-06-13 21:08:08 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62024 - "GET /api/v2/attendance/?employee_id=EMP005&month=6&year=2025 HTTP/1.1" 404
2025-06-13 21:08:09 [INFO] uvicorn.access:473 - send(): 127.0.0.1:62024 - "GET /api/v2/attendance/?employee_id=EMP005&month=6&year=2025 HTTP/1.1" 404
2025-06-13 21:14:31 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:14:31 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:14:31 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 21:14:31 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:14:31 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 21:14:31 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:14:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63292 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 21:15:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63381 - "OPTIONS /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:15:07 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:15:07 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:15:07 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:15:07 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:15:07 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:15:07 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:15:07 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:15:07 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:15:07 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:15:07 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:15:07 [ERROR] app.application.use_cases.attendance.attendance_query_use_case:78 - get_employee_attendance_by_month(): Error getting employee attendance by month: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:15:07 [ERROR] app.infrastructure.services.attendance_service_impl:107 - get_employee_attendance_by_month(): Error getting employee attendance for EMP005 in organisation localhost: Failed to get attendance records: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:15:07 [WARNING] app.api.controllers.attendance_controller:104 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:15:07 [WARNING] app.api.routes.attendance_routes_v2:136 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:15:07 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63383 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 404
2025-06-13 21:15:08 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:15:08 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:15:08 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:15:08 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:15:08 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:15:08 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:15:08 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:15:08 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:15:08 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:15:08 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:15:08 [ERROR] app.application.use_cases.attendance.attendance_query_use_case:78 - get_employee_attendance_by_month(): Error getting employee attendance by month: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:15:08 [ERROR] app.infrastructure.services.attendance_service_impl:107 - get_employee_attendance_by_month(): Error getting employee attendance for EMP005 in organisation localhost: Failed to get attendance records: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:15:08 [WARNING] app.api.controllers.attendance_controller:104 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:15:08 [WARNING] app.api.routes.attendance_routes_v2:136 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:15:08 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63383 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 404
2025-06-13 21:15:43 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:15:43 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:15:43 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 21:15:43 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:15:43 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 21:15:43 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:15:43 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63460 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 21:15:58 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:15:58 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:15:58 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:15:58 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:15:58 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:15:58 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:15:59 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:15:59 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:15:59 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:15:59 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:15:59 [ERROR] app.application.use_cases.attendance.attendance_query_use_case:78 - get_employee_attendance_by_month(): Error getting employee attendance by month: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:15:59 [ERROR] app.infrastructure.services.attendance_service_impl:107 - get_employee_attendance_by_month(): Error getting employee attendance for EMP005 in organisation localhost: Failed to get attendance records: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:15:59 [WARNING] app.api.controllers.attendance_controller:104 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:15:59 [WARNING] app.api.routes.attendance_routes_v2:136 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:15:59 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63508 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 404
2025-06-13 21:16:00 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:16:00 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:16:00 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:16:00 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:16:00 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:16:00 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:16:00 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:16:00 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:16:00 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:16:00 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:16:00 [ERROR] app.application.use_cases.attendance.attendance_query_use_case:78 - get_employee_attendance_by_month(): Error getting employee attendance by month: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:16:00 [ERROR] app.infrastructure.services.attendance_service_impl:107 - get_employee_attendance_by_month(): Error getting employee attendance for EMP005 in organisation localhost: Failed to get attendance records: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:16:00 [WARNING] app.api.controllers.attendance_controller:104 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:16:00 [WARNING] app.api.routes.attendance_routes_v2:136 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'MongoDBAttendanceRepository' object has no attribute 'get_by_employee_and_month'
2025-06-13 21:16:00 [INFO] uvicorn.access:473 - send(): 127.0.0.1:63508 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 404
2025-06-13 21:17:17 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 21:17:17 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 21:17:17 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 21:17:17 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 21:17:17 [INFO] uvicorn.error:93 - _serve(): Finished server process [3860]
2025-06-13 21:17:22 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 21:17:29 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 21:17:29 [INFO] uvicorn.error:83 - _serve(): Started server process [7853]
2025-06-13 21:17:29 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 21:17:29 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 21:17:29 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 21:17:39 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 21:17:39 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 21:17:39 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 21:17:39 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 21:17:39 [INFO] uvicorn.error:93 - _serve(): Finished server process [7853]
2025-06-13 21:17:44 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 21:17:52 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 21:17:52 [INFO] uvicorn.error:83 - _serve(): Started server process [7876]
2025-06-13 21:17:52 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 21:17:52 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 21:17:52 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 21:18:07 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 21:18:07 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 21:18:07 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 21:18:07 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 21:18:07 [INFO] uvicorn.error:93 - _serve(): Finished server process [7876]
2025-06-13 21:18:11 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 21:18:18 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 21:18:18 [INFO] uvicorn.error:83 - _serve(): Started server process [7907]
2025-06-13 21:18:18 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 21:18:18 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 21:18:18 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 21:18:30 [WARNING] app.auth.jwt_handler:81 - decode_access_token(): Invalid token: Not enough segments
2025-06-13 21:18:30 [ERROR] app.auth.auth_dependencies:108 - get_current_user(): Authentication error: Invalid token: Not enough segments
2025-06-13 21:18:30 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64063 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 401
2025-06-13 21:20:44 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64147 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200
2025-06-13 21:20:44 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-13 21:20:44 [INFO] app.api.controllers.auth_controller:84 - login(): Login attempt for user: superadmin @ localhost
2025-06-13 21:20:45 [INFO] app.api.controllers.auth_controller:93 - login(): Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest
2025-06-13 21:20:46 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 21:20:46 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 21:20:47 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_global_database' cached
2025-06-13 21:20:47 [INFO] app.infrastructure.database.mongodb_connector:90 - disconnect(): MongoDB connections closed
2025-06-13 21:20:47 [INFO] app.api.controllers.auth_controller:121 - login(): Verifying password for user: superadmin
2025-06-13 21:20:47 [INFO] app.auth.password_handler:19 - verify_password(): Verifying password: admin123 with hashed password: $2b$12$tHFlJsUzWyg1gntEL.JwRu6V1.VO/UdyyJxzLECfapAaMLw3BGZTW
2025-06-13 21:20:47 [WARNING] passlib.handlers.bcrypt:622 - _load_backend_mixin(): (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-13 21:20:47 [INFO] app.auth.password_handler:22 - verify_password(): Password verification succeeded.
2025-06-13 21:20:47 [INFO] app.auth.jwt_handler:37 - create_access_token(): Access token created for user: superadmin
2025-06-13 21:20:47 [INFO] app.auth.jwt_handler:38 - create_access_token(): Token expires at: 2025-06-13T23:50:47.626461
2025-06-13 21:20:47 [INFO] app.api.controllers.auth_controller:165 - login(): User superadmin logged in successfully
2025-06-13 21:20:47 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64149 - "POST /api/v2/auth/login HTTP/1.1" 200
2025-06-13 21:20:47 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64149 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 21:20:47 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64147 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 21:20:47 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:20:47 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:20:47 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 21:20:47 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 21:20:47 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 21:20:48 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 21:20:48 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 21:20:48 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 21:20:48 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 21:20:48 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 21:20:48 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 21:20:48 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 21:20:48 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 21:20:48 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 21:20:48 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 21:20:48 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 21:20:48 [INFO] app.config.dependency_container:337 - _create_attendance_use_cases(): Attendance use cases created successfully
2025-06-13 21:20:48 [INFO] app.config.dependency_container:288 - _setup_services(): Services initialized
2025-06-13 21:20:48 [INFO] app.config.dependency_container:359 - _setup_controllers(): Controllers setup deferred
2025-06-13 21:20:48 [INFO] app.config.dependency_container:104 - initialize(): Dependency container initialized successfully
2025-06-13 21:20:48 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 21:20:48 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 21:20:48 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 21:20:48 [INFO] app.infrastructure.repositories.mongodb_user_repository:75 - _get_collection(): Database not connected, establishing connection...
2025-06-13 21:20:48 [INFO] app.infrastructure.repositories.mongodb_user_repository:80 - _get_collection(): Using stored connection parameters from repository configuration
2025-06-13 21:20:49 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 21:20:49 [INFO] app.infrastructure.repositories.mongodb_user_repository:90 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-13 21:20:49 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 21:20:49 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:20:50 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 21:20:50 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 21:20:50 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64149 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 21:20:50 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:20:50 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:20:50 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 21:20:50 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 21:20:50 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:20:50 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 21:20:50 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 21:20:50 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 21:20:50 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64147 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 21:20:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64147 - "OPTIONS /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 21:20:54 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:20:54 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:20:54 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 21:20:54 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:20:55 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 21:20:55 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:20:55 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64149 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 21:21:03 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:21:03 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:21:03 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:21:03 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:21:03 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:21:03 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:21:03 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:21:03 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:21:03 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:21:03 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:21:03 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:21:03 [ERROR] app.application.use_cases.attendance.attendance_query_use_case:78 - get_employee_attendance_by_month(): Error getting employee attendance by month: 'str' object has no attribute 'value'
2025-06-13 21:21:03 [ERROR] app.infrastructure.services.attendance_service_impl:107 - get_employee_attendance_by_month(): Error getting employee attendance for EMP005 in organisation localhost: Failed to get attendance records: 'str' object has no attribute 'value'
2025-06-13 21:21:03 [WARNING] app.api.controllers.attendance_controller:104 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'str' object has no attribute 'value'
2025-06-13 21:21:03 [WARNING] app.api.routes.attendance_routes_v2:136 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'str' object has no attribute 'value'
2025-06-13 21:21:03 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64172 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 404
2025-06-13 21:21:04 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:21:04 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:21:04 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:21:04 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:21:04 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:21:04 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:21:04 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:21:04 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:21:04 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:21:04 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:21:04 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:21:04 [ERROR] app.application.use_cases.attendance.attendance_query_use_case:78 - get_employee_attendance_by_month(): Error getting employee attendance by month: 'str' object has no attribute 'value'
2025-06-13 21:21:04 [ERROR] app.infrastructure.services.attendance_service_impl:107 - get_employee_attendance_by_month(): Error getting employee attendance for EMP005 in organisation localhost: Failed to get attendance records: 'str' object has no attribute 'value'
2025-06-13 21:21:04 [WARNING] app.api.controllers.attendance_controller:104 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'str' object has no attribute 'value'
2025-06-13 21:21:04 [WARNING] app.api.routes.attendance_routes_v2:136 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'str' object has no attribute 'value'
2025-06-13 21:21:04 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64172 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 404
2025-06-13 21:25:10 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-13 21:25:10 [INFO] app.api.controllers.auth_controller:84 - login(): Login attempt for user: superadmin @ localhost
2025-06-13 21:25:10 [INFO] app.api.controllers.auth_controller:93 - login(): Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest
2025-06-13 21:25:11 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 21:25:11 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 21:25:11 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_global_database' cached
2025-06-13 21:25:11 [INFO] app.infrastructure.database.mongodb_connector:90 - disconnect(): MongoDB connections closed
2025-06-13 21:25:11 [INFO] app.api.controllers.auth_controller:121 - login(): Verifying password for user: superadmin
2025-06-13 21:25:11 [INFO] app.auth.password_handler:19 - verify_password(): Verifying password: admin123 with hashed password: $2b$12$tHFlJsUzWyg1gntEL.JwRu6V1.VO/UdyyJxzLECfapAaMLw3BGZTW
2025-06-13 21:25:12 [INFO] app.auth.password_handler:22 - verify_password(): Password verification succeeded.
2025-06-13 21:25:12 [INFO] app.auth.jwt_handler:37 - create_access_token(): Access token created for user: superadmin
2025-06-13 21:25:12 [INFO] app.auth.jwt_handler:38 - create_access_token(): Token expires at: 2025-06-13T23:55:12.606822
2025-06-13 21:25:12 [INFO] app.api.controllers.auth_controller:165 - login(): User superadmin logged in successfully
2025-06-13 21:25:12 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64810 - "POST /api/v2/auth/login HTTP/1.1" 200
2025-06-13 21:25:12 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64833 - "OPTIONS /api/v2/attendance/employee/EMP002/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:25:12 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:25:12 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:25:12 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:25:12 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:25:12 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:25:12 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:25:12 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP002 for 6/2025
2025-06-13 21:25:12 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP002 for 6/2025 in organisation: localhost
2025-06-13 21:25:12 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP002 for 6/2025 in organisation localhost
2025-06-13 21:25:12 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP002 for 6/2025 in organisation localhost
2025-06-13 21:25:12 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:25:12 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 0 attendance records for employee EMP002
2025-06-13 21:25:12 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64838 - "GET /api/v2/attendance/employee/EMP002/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:25:29 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:25:29 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:25:29 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:25:29 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:25:29 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:25:29 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:25:29 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:25:29 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:25:29 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:25:29 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:25:29 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:25:29 [ERROR] app.application.use_cases.attendance.attendance_query_use_case:78 - get_employee_attendance_by_month(): Error getting employee attendance by month: 'str' object has no attribute 'value'
2025-06-13 21:25:29 [ERROR] app.infrastructure.services.attendance_service_impl:107 - get_employee_attendance_by_month(): Error getting employee attendance for EMP005 in organisation localhost: Failed to get attendance records: 'str' object has no attribute 'value'
2025-06-13 21:25:29 [WARNING] app.api.controllers.attendance_controller:104 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'str' object has no attribute 'value'
2025-06-13 21:25:29 [WARNING] app.api.routes.attendance_routes_v2:136 - get_employee_attendance_by_month(): Attendance not found: Failed to get attendance records: 'str' object has no attribute 'value'
2025-06-13 21:25:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:64865 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 404
2025-06-13 21:26:20 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 21:26:20 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 21:26:20 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 21:26:20 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 21:26:20 [INFO] uvicorn.error:93 - _serve(): Finished server process [7907]
2025-06-13 21:26:25 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 21:26:31 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 21:26:31 [INFO] uvicorn.error:83 - _serve(): Started server process [8281]
2025-06-13 21:26:31 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 21:26:31 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 21:26:31 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 21:28:54 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:28:55 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:28:55 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:28:55 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:28:55 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:28:55 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:28:55 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 21:28:55 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 21:28:55 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 21:28:55 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 21:28:55 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 21:28:55 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 21:28:55 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 21:28:55 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 21:28:55 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 21:28:55 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 21:28:55 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 21:28:55 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 21:28:55 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 21:28:55 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 21:28:55 [INFO] app.config.dependency_container:337 - _create_attendance_use_cases(): Attendance use cases created successfully
2025-06-13 21:28:55 [INFO] app.config.dependency_container:288 - _setup_services(): Services initialized
2025-06-13 21:28:55 [INFO] app.config.dependency_container:359 - _setup_controllers(): Controllers setup deferred
2025-06-13 21:28:55 [INFO] app.config.dependency_container:104 - initialize(): Dependency container initialized successfully
2025-06-13 21:28:55 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:28:55 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:28:55 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:28:55 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:28:55 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:77 - _get_collection(): Database not connected, establishing connection...
2025-06-13 21:28:55 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:82 - _get_collection(): Using stored connection parameters from repository configuration
2025-06-13 21:28:56 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 21:28:56 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:90 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-13 21:28:56 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 21:28:56 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:28:56 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 1 attendance records for employee EMP005
2025-06-13 21:28:56 [INFO] uvicorn.access:473 - send(): 127.0.0.1:65329 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:29:05 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:29:05 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:29:05 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:29:05 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:29:05 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:29:05 [INFO] app.api.routes.attendance_routes_v2:295 - get_my_attendance_by_month(): Getting my attendance for 6/2025
2025-06-13 21:29:05 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee superadmin for 6/2025 in organisation: localhost
2025-06-13 21:29:05 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for superadmin for 6/2025 in organisation localhost
2025-06-13 21:29:05 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for superadmin for 6/2025 in organisation localhost
2025-06-13 21:29:05 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:29:05 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 0 attendance records for employee superadmin
2025-06-13 21:29:05 [INFO] uvicorn.access:473 - send(): 127.0.0.1:65430 - "GET /api/v2/attendance/my/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:29:15 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:29:15 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:29:15 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:29:15 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:29:15 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:29:15 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:29:15 [INFO] app.api.routes.attendance_routes_v2:217 - get_team_attendance_by_month(): Getting team attendance for 6/2025
2025-06-13 21:29:15 [INFO] app.api.controllers.attendance_controller:151 - get_team_attendance_by_month(): Getting team attendance for 6/2025 in organisation: localhost
2025-06-13 21:29:15 [INFO] app.infrastructure.services.attendance_service_impl:145 - get_team_attendance_by_month(): Getting team attendance for 6/2025 in organisation localhost
2025-06-13 21:29:15 [INFO] app.application.use_cases.attendance.attendance_query_use_case:153 - get_team_attendance_by_month(): Getting team attendance for 6/2025 in organisation localhost
2025-06-13 21:29:15 [WARNING] app.application.use_cases.attendance.attendance_query_use_case:256 - _get_team_members(): Error getting team members for manager superadmin: 'MongoDBUserRepository' object has no attribute 'get_by_manager_id'
2025-06-13 21:29:15 [INFO] app.application.use_cases.attendance.attendance_query_use_case:175 - get_team_attendance_by_month(): Found 0 team attendance records
2025-06-13 21:29:15 [INFO] uvicorn.access:473 - send(): 127.0.0.1:65459 - "GET /api/v2/attendance/team/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:33:11 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49696 - "OPTIONS /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 21:33:11 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:33:11 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:33:11 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 21:33:11 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:33:11 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 21:33:11 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:33:11 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49696 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 21:33:17 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49698 - "OPTIONS /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:33:17 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:33:17 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:33:17 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:33:17 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:33:17 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:33:17 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:33:17 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:33:17 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:33:17 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:33:17 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:33:17 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:33:17 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 1 attendance records for employee EMP005
2025-06-13 21:33:17 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49720 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:34:06 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:34:06 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:34:06 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 21:34:06 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:34:06 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 21:34:06 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:34:06 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49906 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 21:34:23 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49954 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 21:34:23 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:34:23 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:34:23 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-13 21:34:23 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-13 21:34:23 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_global_database' cached
2025-06-13 21:34:23 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 21:34:23 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 21:34:23 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 1 organisations (total: 1)
2025-06-13 21:34:23 [INFO] uvicorn.access:473 - send(): 127.0.0.1:49956 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 21:35:28 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50104 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200
2025-06-13 21:35:28 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-13 21:35:28 [INFO] app.api.controllers.auth_controller:84 - login(): Login attempt for user: superadmin @ localhost
2025-06-13 21:35:28 [INFO] app.api.controllers.auth_controller:93 - login(): Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest
2025-06-13 21:35:29 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 21:35:29 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 21:35:29 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_global_database' cached
2025-06-13 21:35:29 [INFO] app.infrastructure.database.mongodb_connector:90 - disconnect(): MongoDB connections closed
2025-06-13 21:35:29 [INFO] app.api.controllers.auth_controller:121 - login(): Verifying password for user: superadmin
2025-06-13 21:35:29 [INFO] app.auth.password_handler:19 - verify_password(): Verifying password: admin123 with hashed password: $2b$12$tHFlJsUzWyg1gntEL.JwRu6V1.VO/UdyyJxzLECfapAaMLw3BGZTW
2025-06-13 21:35:29 [WARNING] passlib.handlers.bcrypt:622 - _load_backend_mixin(): (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-13 21:35:29 [INFO] app.auth.password_handler:22 - verify_password(): Password verification succeeded.
2025-06-13 21:35:29 [INFO] app.auth.jwt_handler:37 - create_access_token(): Access token created for user: superadmin
2025-06-13 21:35:29 [INFO] app.auth.jwt_handler:38 - create_access_token(): Token expires at: 2025-06-14T00:05:29.852399
2025-06-13 21:35:29 [INFO] app.api.controllers.auth_controller:165 - login(): User superadmin logged in successfully
2025-06-13 21:35:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50104 - "POST /api/v2/auth/login HTTP/1.1" 200
2025-06-13 21:35:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50104 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 21:35:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50106 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 21:35:30 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:35:30 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:35:30 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 21:35:30 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 21:35:30 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:35:30 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 21:35:30 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 21:35:30 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50124 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 21:35:30 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:35:30 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:35:30 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 21:35:30 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 21:35:30 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:35:30 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 21:35:30 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 21:35:30 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 21:35:30 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50124 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 21:35:45 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:35:45 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:35:45 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 21:35:45 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:35:45 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 21:35:45 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:35:45 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50152 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 21:35:57 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:35:57 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:35:57 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:35:57 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:35:57 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:35:57 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:35:57 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:35:57 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:35:57 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:35:57 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:35:57 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:35:57 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 1 attendance records for employee EMP005
2025-06-13 21:35:57 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50194 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:36:11 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50223 - "OPTIONS /api/v2/attendance/employee/EMP002/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:36:12 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:36:12 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:36:12 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:36:12 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:36:12 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:36:12 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:36:12 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP002 for 6/2025
2025-06-13 21:36:12 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP002 for 6/2025 in organisation: localhost
2025-06-13 21:36:12 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP002 for 6/2025 in organisation localhost
2025-06-13 21:36:12 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP002 for 6/2025 in organisation localhost
2025-06-13 21:36:12 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:36:12 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 0 attendance records for employee EMP002
2025-06-13 21:36:12 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50223 - "GET /api/v2/attendance/employee/EMP002/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:37:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50680 - "OPTIONS /api/v2/attendance/employee/EMP004/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:37:34 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:37:34 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:37:34 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:37:34 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:37:34 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:37:34 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:37:34 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP004 for 6/2025
2025-06-13 21:37:34 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP004 for 6/2025 in organisation: localhost
2025-06-13 21:37:34 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP004 for 6/2025 in organisation localhost
2025-06-13 21:37:34 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP004 for 6/2025 in organisation localhost
2025-06-13 21:37:34 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:37:34 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 0 attendance records for employee EMP004
2025-06-13 21:37:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50682 - "GET /api/v2/attendance/employee/EMP004/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:38:03 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:38:03 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:38:03 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 21:38:03 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:38:03 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 21:38:03 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:38:03 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50997 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 21:38:09 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:38:09 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:38:09 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:38:09 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:38:09 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:38:09 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:38:09 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:38:09 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:38:09 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:38:09 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:38:09 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:38:09 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 1 attendance records for employee EMP005
2025-06-13 21:38:09 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51031 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:38:29 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:38:29 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:38:29 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:38:29 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:38:29 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:38:29 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:38:29 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:38:29 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:38:29 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:38:29 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:38:29 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:38:29 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 1 attendance records for employee EMP005
2025-06-13 21:38:29 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51124 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:39:11 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:39:11 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:39:11 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 21:39:11 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:39:11 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 21:39:11 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 21:39:11 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51357 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 21:39:46 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:39:46 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:39:46 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:39:46 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:39:46 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:39:46 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:39:46 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 21:39:46 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 21:39:46 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:39:46 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 21:39:46 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 21:39:46 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 1 attendance records for employee EMP005
2025-06-13 21:39:46 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51571 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:52:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56688 - "OPTIONS /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 21:52:40 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 21:52:40 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 21:52:40 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 21:52:40 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:52:40 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 21:52:40 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 21:52:40 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 22:13:02 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 22:20:35 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:20:42 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:20:42 [INFO] uvicorn.error:83 - _serve(): Started server process [9455]
2025-06-13 22:20:42 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:20:42 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 22:20:42 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:21:00 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50326 - "OPTIONS /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 22:21:00 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 22:21:00 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 22:21:00 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 22:21:00 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 22:21:00 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 22:21:00 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 22:21:00 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 22:21:00 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 22:21:00 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 22:21:01 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 22:21:01 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 22:21:01 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 22:21:01 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 22:21:01 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 22:21:01 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 22:21:01 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 22:21:01 [INFO] app.config.dependency_container:337 - _create_attendance_use_cases(): Attendance use cases created successfully
2025-06-13 22:21:01 [INFO] app.config.dependency_container:288 - _setup_services(): Services initialized
2025-06-13 22:21:01 [INFO] app.config.dependency_container:359 - _setup_controllers(): Controllers setup deferred
2025-06-13 22:21:01 [INFO] app.config.dependency_container:104 - initialize(): Dependency container initialized successfully
2025-06-13 22:21:01 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 22:21:01 [INFO] app.infrastructure.repositories.mongodb_user_repository:75 - _get_collection(): Database not connected, establishing connection...
2025-06-13 22:21:01 [INFO] app.infrastructure.repositories.mongodb_user_repository:80 - _get_collection(): Using stored connection parameters from repository configuration
2025-06-13 22:21:03 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 22:21:03 [INFO] app.infrastructure.repositories.mongodb_user_repository:90 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-13 22:21:03 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 22:21:03 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 22:21:04 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 22:21:04 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 22:21:04 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50326 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 22:21:19 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50328 - "OPTIONS /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 22:21:19 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 22:21:19 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 22:21:19 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 22:21:19 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 22:21:19 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 22:21:19 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 22:21:19 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 22:21:19 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 22:21:19 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 22:21:19 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 22:21:19 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 22:21:19 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 1 attendance records for employee EMP005
2025-06-13 22:21:19 [INFO] uvicorn.access:473 - send(): 127.0.0.1:50328 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 22:28:14 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51558 - "OPTIONS /api/v2/employee-leave/ HTTP/1.1" 200
2025-06-13 22:28:14 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51560 - "GET /api/v2/employee-leave/ HTTP/1.1" 404
2025-06-13 22:28:15 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51560 - "GET /api/v2/employee-leave/ HTTP/1.1" 404
2025-06-13 22:28:17 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51560 - "GET /api/v2/employee-leave/ HTTP/1.1" 404
2025-06-13 22:28:18 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51560 - "GET /api/v2/employee-leave/ HTTP/1.1" 404
2025-06-13 22:28:20 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51560 - "OPTIONS /lwp HTTP/1.1" 200
2025-06-13 22:28:20 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51592 - "OPTIONS /lwp HTTP/1.1" 200
2025-06-13 22:28:20 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51594 - "GET /lwp HTTP/1.1" 404
2025-06-13 22:28:20 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51594 - "GET /lwp HTTP/1.1" 404
2025-06-13 22:29:03 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 22:29:03 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 22:29:03 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 22:29:03 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 22:29:03 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 22:29:03 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 22:29:03 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51699 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 22:29:09 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 22:29:09 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 22:29:10 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 22:29:10 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 22:29:10 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 22:29:10 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 22:29:10 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 22:29:10 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 22:29:10 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 22:29:10 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 22:29:10 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 22:29:10 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 1 attendance records for employee EMP005
2025-06-13 22:29:10 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51725 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 22:32:15 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52321 - "OPTIONS /api/v2/attendance/employee/EMP005/month/7/year/2025 HTTP/1.1" 200
2025-06-13 22:32:15 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 22:32:15 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 22:32:15 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 22:32:15 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 22:32:15 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 22:32:15 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 22:32:15 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 7/2025
2025-06-13 22:32:15 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 7/2025 in organisation: localhost
2025-06-13 22:32:15 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 7/2025 in organisation localhost
2025-06-13 22:32:15 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 7/2025 in organisation localhost
2025-06-13 22:32:15 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 22:32:15 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 0 attendance records for employee EMP005
2025-06-13 22:32:15 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52321 - "GET /api/v2/attendance/employee/EMP005/month/7/year/2025 HTTP/1.1" 200
2025-06-13 22:32:35 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52323 - "OPTIONS /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 22:32:35 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 22:32:35 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 22:32:35 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 22:32:35 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 22:32:36 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 22:32:36 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 22:32:36 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52323 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 22:33:36 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 22:33:36 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 22:33:36 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 22:33:36 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 22:33:36 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 22:33:36 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 22:33:36 [INFO] uvicorn.access:473 - send(): 127.0.0.1:52563 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 22:39:29 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 22:39:29 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 22:39:29 [INFO] app.infrastructure.services.user_service_impl:421 - get_all_users(): Getting all users from organisation localhost
2025-06-13 22:39:29 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 22:39:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:583 - get_all(): Retrieved 5 users
2025-06-13 22:39:30 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 22:39:30 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53594 - "GET /api/v2/users?skip=0&limit=10&include_inactive=false&include_deleted=false HTTP/1.1" 200
2025-06-13 22:39:36 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53623 - "OPTIONS /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 22:39:36 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 22:39:36 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 22:39:36 [INFO] app.auth.auth:83 - checker(): Checking role for user: superadmin
2025-06-13 22:39:36 [INFO] app.api.routes.attendance_routes_v2:36 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 22:39:36 [INFO] app.api.routes.attendance_routes_v2:38 - get_attendance_controller(): Getting dependency container
2025-06-13 22:39:36 [INFO] app.api.routes.attendance_routes_v2:40 - get_attendance_controller(): Getting attendance controller from container
2025-06-13 22:39:36 [INFO] app.api.routes.attendance_routes_v2:123 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025
2025-06-13 22:39:36 [INFO] app.api.controllers.attendance_controller:100 - get_employee_attendance_by_month(): Getting attendance for employee EMP005 for 6/2025 in organisation: localhost
2025-06-13 22:39:36 [INFO] app.infrastructure.services.attendance_service_impl:97 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 22:39:36 [INFO] app.application.use_cases.attendance.attendance_query_use_case:58 - get_employee_attendance_by_month(): Getting employee attendance for EMP005 for 6/2025 in organisation localhost
2025-06-13 22:39:36 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 22:39:36 [INFO] app.application.use_cases.attendance.attendance_query_use_case:74 - get_employee_attendance_by_month(): Found 1 attendance records for employee EMP005
2025-06-13 22:39:36 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53623 - "GET /api/v2/attendance/employee/EMP005/month/6/year/2025 HTTP/1.1" 200
2025-06-13 22:41:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53952 - "OPTIONS /lwp HTTP/1.1" 200
2025-06-13 22:41:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53952 - "GET /lwp HTTP/1.1" 404
2025-06-13 22:41:16 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53952 - "GET /lwp HTTP/1.1" 404
2025-06-13 22:41:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53954 - "OPTIONS /api/v2/employee-leave/ HTTP/1.1" 200
2025-06-13 22:41:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53954 - "GET /api/v2/employee-leave/ HTTP/1.1" 404
2025-06-13 22:41:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:53954 - "GET /api/v2/employee-leave/ HTTP/1.1" 404
2025-06-13 22:43:54 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 22:43:54 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 22:43:54 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 22:43:54 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 22:43:54 [INFO] uvicorn.error:93 - _serve(): Finished server process [9455]
2025-06-13 22:44:04 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:44:18 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:44:18 [INFO] uvicorn.error:83 - _serve(): Started server process [9927]
2025-06-13 22:44:18 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:44:18 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 22:44:18 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:45:01 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 22:45:01 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 22:45:01 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 22:45:01 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 22:45:01 [INFO] uvicorn.error:93 - _serve(): Finished server process [9927]
2025-06-13 22:45:06 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:45:13 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:45:13 [INFO] uvicorn.error:83 - _serve(): Started server process [9956]
2025-06-13 22:45:13 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:45:13 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 22:45:13 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:45:18 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:45:26 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:45:26 [INFO] uvicorn.error:83 - _serve(): Started server process [9971]
2025-06-13 22:45:26 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:45:26 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 22:45:26 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:45:49 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 22:45:49 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 22:45:49 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 22:45:49 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 22:45:49 [INFO] uvicorn.error:93 - _serve(): Finished server process [9971]
2025-06-13 22:45:55 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:46:02 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:46:02 [INFO] uvicorn.error:83 - _serve(): Started server process [9985]
2025-06-13 22:46:02 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:46:02 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 22:46:02 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:46:07 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:46:13 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:46:13 [INFO] uvicorn.error:83 - _serve(): Started server process [10000]
2025-06-13 22:46:13 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:46:13 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 22:46:13 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:46:21 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 22:46:22 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 22:46:22 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 22:46:22 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 22:46:22 [INFO] uvicorn.error:93 - _serve(): Finished server process [10000]
2025-06-13 22:46:26 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:46:33 [INFO] app.main:83 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:46:33 [INFO] uvicorn.error:83 - _serve(): Started server process [10011]
2025-06-13 22:46:33 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:46:33 [INFO] app.main:38 - lifespan(): Running startup tasks...
2025-06-13 22:46:33 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:46:35 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 22:46:36 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 22:46:36 [INFO] app.main:40 - lifespan(): Running shutdown tasks...
2025-06-13 22:46:36 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 22:46:36 [INFO] uvicorn.error:93 - _serve(): Finished server process [10011]
2025-06-13 22:46:40 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:47:02 [INFO] app.main:84 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:47:02 [INFO] uvicorn.error:83 - _serve(): Started server process [10034]
2025-06-13 22:47:02 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:47:02 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 22:47:03 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:47:09 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:47:18 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:47:18 [INFO] uvicorn.error:83 - _serve(): Started server process [10060]
2025-06-13 22:47:18 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:47:18 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 22:47:18 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:47:22 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:47:32 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:47:32 [INFO] uvicorn.error:83 - _serve(): Started server process [10083]
2025-06-13 22:47:32 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:47:32 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 22:47:32 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:47:34 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 22:47:34 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 22:47:34 [INFO] app.main:41 - lifespan(): Running shutdown tasks...
2025-06-13 22:47:34 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 22:47:34 [INFO] uvicorn.error:93 - _serve(): Finished server process [10083]
2025-06-13 22:47:38 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:47:46 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:47:46 [INFO] uvicorn.error:83 - _serve(): Started server process [10096]
2025-06-13 22:47:46 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:47:46 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 22:47:46 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:47:51 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:48:00 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:48:00 [INFO] uvicorn.error:83 - _serve(): Started server process [10109]
2025-06-13 22:48:00 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:48:00 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 22:48:00 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:48:03 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:48:12 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:48:12 [INFO] uvicorn.error:83 - _serve(): Started server process [10127]
2025-06-13 22:48:12 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:48:12 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 22:48:12 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:48:13 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 22:48:14 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 22:48:14 [INFO] app.main:41 - lifespan(): Running shutdown tasks...
2025-06-13 22:48:14 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 22:48:14 [INFO] uvicorn.error:93 - _serve(): Finished server process [10127]
2025-06-13 22:48:18 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:48:25 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:48:25 [INFO] uvicorn.error:83 - _serve(): Started server process [10140]
2025-06-13 22:48:25 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:48:25 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 22:48:25 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:48:29 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:48:38 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:48:38 [INFO] uvicorn.error:83 - _serve(): Started server process [10155]
2025-06-13 22:48:38 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:48:38 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 22:48:38 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:48:44 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:48:50 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:48:50 [INFO] uvicorn.error:83 - _serve(): Started server process [10173]
2025-06-13 22:48:50 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:48:50 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 22:48:50 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:49:03 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55221 - "GET /docs HTTP/1.1" 200
2025-06-13 22:49:10 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55239 - "GET /lwp/health HTTP/1.1" 200
2025-06-13 22:49:15 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55249 - "GET /api/v2/employee-leave/health HTTP/1.1" 403
2025-06-13 22:49:20 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55284 - "GET /api/v2/employee-leave/health HTTP/1.1" 403
2025-06-13 22:49:31 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 22:49:31 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 22:49:31 [INFO] app.main:41 - lifespan(): Running shutdown tasks...
2025-06-13 22:49:31 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 22:49:31 [INFO] uvicorn.error:93 - _serve(): Finished server process [10173]
2025-06-13 22:49:35 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:49:43 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:49:43 [INFO] uvicorn.error:83 - _serve(): Started server process [10476]
2025-06-13 22:49:43 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:49:43 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 22:49:43 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:49:44 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55338 - "GET /openapi.json HTTP/1.1" 200
2025-06-13 22:50:56 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 22:50:56 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 22:50:56 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 22:50:56 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 22:50:56 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 22:50:56 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 22:50:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 22:50:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 22:50:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 22:50:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 22:50:56 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 22:50:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 22:50:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 22:50:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 22:50:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 22:50:56 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 22:50:56 [INFO] app.config.dependency_container:337 - _create_attendance_use_cases(): Attendance use cases created successfully
2025-06-13 22:50:56 [INFO] app.config.dependency_container:288 - _setup_services(): Services initialized
2025-06-13 22:50:56 [INFO] app.config.dependency_container:359 - _setup_controllers(): Controllers setup deferred
2025-06-13 22:50:56 [INFO] app.config.dependency_container:104 - initialize(): Dependency container initialized successfully
2025-06-13 22:50:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 22:50:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 22:50:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 22:50:56 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 22:50:56 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 22:50:56 [INFO] app.api.routes.employee_leave_routes_v2:105 - get_all_employee_leaves(): Retrieving all employee leaves by: superadmin
2025-06-13 22:50:56 [INFO] app.api.controllers.employee_leave_controller:287 - search_leaves(): Searching leaves with filters in org: localhost
2025-06-13 22:50:56 [INFO] app.application.use_cases.employee_leave.get_employee_leaves_use_case:205 - search_employee_leaves(): Searching employee leaves with filters
2025-06-13 22:50:56 [INFO] app.infrastructure.repositories.employee_leave_repository_impl:71 - _get_collection(): Database not connected, establishing connection...
2025-06-13 22:50:56 [INFO] app.infrastructure.repositories.employee_leave_repository_impl:76 - _get_collection(): Using stored connection parameters from repository configuration
2025-06-13 22:50:58 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 22:50:58 [INFO] app.infrastructure.repositories.employee_leave_repository_impl:84 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-13 22:50:58 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 22:50:58 [INFO] app.infrastructure.repositories.employee_leave_repository_impl:94 - _get_collection(): Successfully retrieved collection: employee_leaves from database: pms_localhost
2025-06-13 22:50:58 [INFO] app.infrastructure.repositories.employee_leave_repository_impl:631 - search(): Search returned 1 employee leaves
2025-06-13 22:50:58 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55480 - "GET /api/v2/employee-leave/ HTTP/1.1" 200
2025-06-13 22:51:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55672 - "OPTIONS /lwp HTTP/1.1" 200
2025-06-13 22:51:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55673 - "OPTIONS /lwp HTTP/1.1" 200
2025-06-13 22:51:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55672 - "GET /lwp HTTP/1.1" 307
2025-06-13 22:51:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55672 - "GET /lwp HTTP/1.1" 307
2025-06-13 22:51:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55673 - "OPTIONS /lwp/ HTTP/1.1" 200
2025-06-13 22:51:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55672 - "OPTIONS /lwp/ HTTP/1.1" 200
2025-06-13 22:51:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55675 - "GET /lwp/ HTTP/1.1" 422
2025-06-13 22:51:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55675 - "GET /lwp/ HTTP/1.1" 422
2025-06-13 22:52:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55946 - "OPTIONS /api/v2/payouts?year=2025&page=1&limit=10 HTTP/1.1" 200
2025-06-13 22:52:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55948 - "GET /api/v2/payouts?year=2025&page=1&limit=10 HTTP/1.1" 404
2025-06-13 22:52:32 [INFO] uvicorn.access:473 - send(): 127.0.0.1:55948 - "GET /api/v2/payouts?year=2025&page=1&limit=10 HTTP/1.1" 404
2025-06-13 22:52:39 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56006 - "OPTIONS /api/v2/reimbursements/ HTTP/1.1" 200
2025-06-13 22:52:39 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56008 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 22:52:39 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56008 - "OPTIONS /api/v2/reimbursements HTTP/1.1" 200
2025-06-13 22:52:39 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56006 - "GET /api/v2/reimbursements HTTP/1.1" 405
2025-06-13 22:52:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56006 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 22:52:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56006 - "GET /api/v2/reimbursements HTTP/1.1" 405
2025-06-13 22:53:20 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56223 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 22:53:20 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56223 - "GET /api/v2/reimbursements HTTP/1.1" 405
2025-06-13 22:53:21 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56223 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 22:53:21 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56223 - "GET /api/v2/reimbursements HTTP/1.1" 405
2025-06-13 22:54:40 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:54:43 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:54:43 [INFO] uvicorn.error:83 - _serve(): Started server process [10766]
2025-06-13 22:54:43 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:54:43 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 22:54:43 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:54:44 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56519 - "GET /health HTTP/1.1" 404
2025-06-13 22:54:54 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56549 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 22:55:01 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56566 - "GET /api/v2/reimbursements/ HTTP/1.1" 307
2025-06-13 22:55:06 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56584 - "GET /api/v2/reimbursements HTTP/1.1" 403
2025-06-13 22:55:26 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 22:55:26 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 22:55:26 [INFO] app.main:41 - lifespan(): Running shutdown tasks...
2025-06-13 22:55:26 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 22:55:26 [INFO] uvicorn.error:93 - _serve(): Finished server process [10766]
2025-06-13 22:55:27 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 22:55:29 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 22:55:29 [INFO] uvicorn.error:83 - _serve(): Started server process [10842]
2025-06-13 22:55:29 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 22:55:29 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 22:55:29 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 22:55:34 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56682 - "GET /api/v2/reimbursements/ HTTP/1.1" 403
2025-06-13 22:56:08 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56815 - "OPTIONS /api/v2/reimbursements/ HTTP/1.1" 200
2025-06-13 22:56:08 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 22:56:08 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 22:56:08 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 22:56:08 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 22:56:08 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 22:56:08 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 22:56:08 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 22:56:08 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 22:56:08 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 22:56:08 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 22:56:08 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 22:56:08 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 22:56:08 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 22:56:08 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 22:56:08 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 22:56:08 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 22:56:08 [INFO] app.config.dependency_container:337 - _create_attendance_use_cases(): Attendance use cases created successfully
2025-06-13 22:56:08 [INFO] app.config.dependency_container:288 - _setup_services(): Services initialized
2025-06-13 22:56:08 [INFO] app.config.dependency_container:359 - _setup_controllers(): Controllers setup deferred
2025-06-13 22:56:08 [INFO] app.config.dependency_container:104 - initialize(): Dependency container initialized successfully
2025-06-13 22:56:08 [INFO] app.infrastructure.services.reimbursement_service_impl:657 - list_reimbursement_requests(): Listing reimbursement requests in organisation: localhost
2025-06-13 22:56:08 [INFO] app.application.use_cases.reimbursement.get_reimbursement_requests_use_case:109 - get_requests_by_employee(): Retrieving reimbursement requests for employee: superadmin
2025-06-13 22:56:08 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:79 - _get_collection(): Database not connected, establishing connection...
2025-06-13 22:56:08 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:84 - _get_collection(): Using stored connection parameters from repository configuration
2025-06-13 22:56:09 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 22:56:09 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:94 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-13 22:56:09 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 22:56:09 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 22:56:09 [INFO] app.application.use_cases.reimbursement.get_reimbursement_requests_use_case:121 - get_requests_by_employee(): Retrieved 0 reimbursement requests for employee: superadmin
2025-06-13 22:56:09 [INFO] uvicorn.access:473 - send(): 127.0.0.1:56815 - "GET /api/v2/reimbursements/ HTTP/1.1" 200
2025-06-13 23:00:01 [INFO] uvicorn.error:263 - shutdown(): Shutting down
2025-06-13 23:00:01 [INFO] uvicorn.error:67 - shutdown(): Waiting for application shutdown.
2025-06-13 23:00:01 [INFO] app.main:41 - lifespan(): Running shutdown tasks...
2025-06-13 23:00:01 [INFO] uvicorn.error:76 - shutdown(): Application shutdown complete.
2025-06-13 23:00:01 [INFO] uvicorn.error:93 - _serve(): Finished server process [10842]
2025-06-13 23:00:14 [INFO] app.logger_config:153 - configure_logging(): Logging configured - Level: INFO, Format: detailed, File: True
2025-06-13 23:00:20 [INFO] app.main:85 - <module>(): ✅ Critical routes registered: taxation, payout, user management, reimbursement, attendance, public holidays, employee leave, company leave, project attributes, reporting
2025-06-13 23:00:20 [INFO] uvicorn.error:83 - _serve(): Started server process [10936]
2025-06-13 23:00:20 [INFO] uvicorn.error:48 - startup(): Waiting for application startup.
2025-06-13 23:00:20 [INFO] app.main:39 - lifespan(): Running startup tasks...
2025-06-13 23:00:20 [INFO] uvicorn.error:62 - startup(): Application startup complete.
2025-06-13 23:00:57 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 23:00:57 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 23:00:57 [INFO] app.config.dependency_container:95 - initialize(): Initializing dependency container...
2025-06-13 23:00:57 [INFO] app.config.dependency_container:120 - _setup_infrastructure(): MongoDB connector configured with database: pms_global_database
2025-06-13 23:00:57 [INFO] app.config.dependency_container:121 - _setup_infrastructure(): MongoDB connection will be established lazily when first needed
2025-06-13 23:00:57 [INFO] app.config.dependency_container:209 - _setup_repositories(): Repositories initialized with centralized MongoDB configuration
2025-06-13 23:00:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 23:00:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 23:00:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 23:00:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 23:00:57 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 23:00:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceNotificationHandler
2025-06-13 23:00:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAnalyticsHandler
2025-06-13 23:00:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceAuditHandler
2025-06-13 23:00:57 [INFO] app.infrastructure.services.enhanced_event_publisher:392 - register_handler(): Registered event handler: AttendanceIntegrationHandler
2025-06-13 23:00:57 [INFO] app.config.dependency_container:525 - _get_event_publisher(): Enhanced event publisher configured with attendance handlers
2025-06-13 23:00:57 [INFO] app.config.dependency_container:337 - _create_attendance_use_cases(): Attendance use cases created successfully
2025-06-13 23:00:57 [INFO] app.config.dependency_container:288 - _setup_services(): Services initialized
2025-06-13 23:00:57 [INFO] app.config.dependency_container:359 - _setup_controllers(): Controllers setup deferred
2025-06-13 23:00:57 [INFO] app.config.dependency_container:104 - initialize(): Dependency container initialized successfully
2025-06-13 23:00:57 [INFO] app.infrastructure.services.reimbursement_service_impl:657 - list_reimbursement_requests(): Listing reimbursement requests in organisation: localhost
2025-06-13 23:00:57 [INFO] app.application.use_cases.reimbursement.get_reimbursement_requests_use_case:109 - get_requests_by_employee(): Retrieving reimbursement requests for employee: superadmin
2025-06-13 23:00:57 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:79 - _get_collection(): Database not connected, establishing connection...
2025-06-13 23:00:57 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:84 - _get_collection(): Using stored connection parameters from repository configuration
2025-06-13 23:00:59 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 23:00:59 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:94 - _get_collection(): MongoDB connection established successfully in current event loop
2025-06-13 23:00:59 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 23:00:59 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 23:00:59 [INFO] app.application.use_cases.reimbursement.get_reimbursement_requests_use_case:121 - get_requests_by_employee(): Retrieved 0 reimbursement requests for employee: superadmin
2025-06-13 23:00:59 [INFO] uvicorn.access:473 - send(): 127.0.0.1:57468 - "GET /api/v2/reimbursements/ HTTP/1.1" 200
2025-06-13 23:40:21 [ERROR] pymongo.client:104 - _log_client_error(): MongoClient background task encountered an error:
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/pool_shared.py", line 513, in _configured_socket_interface
    ssl_sock = ssl_context.wrap_socket(sock, server_hostname=host)
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
TimeoutError: _ssl.c:1011: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/synchronous/mongo_client.py", line 2206, in _process_periodic_tasks
    self._topology.update_pool()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/synchronous/topology.py", line 689, in update_pool
    server.pool.remove_stale_sockets(generation)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/synchronous/pool.py", line 957, in remove_stale_sockets
    conn = self.connect()
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/synchronous/pool.py", line 1011, in connect
    networking_interface = _configured_socket_interface(self.address, self.opts)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/pool_shared.py", line 527, in _configured_socket_interface
    _raise_connection_failure(address, exc, "SSL handshake failed: ", timeout_details=details)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/pool_shared.py", line 140, in _raise_connection_failure
    raise NetworkTimeout(msg) from error
pymongo.errors.NetworkTimeout: SSL handshake failed: ac-uqkr9ns-shard-00-01.jhfj7s3.mongodb.net:27017: _ssl.c:1011: The handshake operation timed out (configured timeouts: connectTimeoutMS: 10000.0ms)
2025-06-13 23:40:21 [ERROR] pymongo.client:104 - _log_client_error(): MongoClient background task encountered an error:
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/pool_shared.py", line 513, in _configured_socket_interface
    ssl_sock = ssl_context.wrap_socket(sock, server_hostname=host)
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
TimeoutError: _ssl.c:1011: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/synchronous/mongo_client.py", line 2206, in _process_periodic_tasks
    self._topology.update_pool()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/synchronous/topology.py", line 689, in update_pool
    server.pool.remove_stale_sockets(generation)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/synchronous/pool.py", line 957, in remove_stale_sockets
    conn = self.connect()
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/synchronous/pool.py", line 1011, in connect
    networking_interface = _configured_socket_interface(self.address, self.opts)
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/pool_shared.py", line 527, in _configured_socket_interface
    _raise_connection_failure(address, exc, "SSL handshake failed: ", timeout_details=details)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/pymongo/pool_shared.py", line 140, in _raise_connection_failure
    raise NetworkTimeout(msg) from error
pymongo.errors.NetworkTimeout: SSL handshake failed: ac-uqkr9ns-shard-00-00.jhfj7s3.mongodb.net:27017: _ssl.c:1011: The handshake operation timed out (configured timeouts: connectTimeoutMS: 10000.0ms)
2025-06-13 23:40:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:65278 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 23:40:31 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 23:40:31 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 23:40:31 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-13 23:40:31 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-13 23:40:31 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_global_database' cached
2025-06-13 23:40:31 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 23:40:31 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 23:40:31 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 1 organisations (total: 1)
2025-06-13 23:40:31 [INFO] uvicorn.access:473 - send(): 127.0.0.1:65278 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 23:54:09 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51274 - "OPTIONS /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 23:54:09 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 23:54:09 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 23:54:09 [INFO] app.api.controllers.organisation_controller:68 - list_organisations(): Listing organisations with filters
2025-06-13 23:54:09 [INFO] app.application.use_cases.organisation.list_organisations_use_case:57 - execute(): Listing organisations with filters: OrganisationSearchFiltersDTO(name=None, organisation_type=None, status=None, city=None, state=None, country=None, min_employee_strength=None, max_employee_strength=None, has_available_capacity=None, is_gst_registered=None, created_after=None, created_before=None, page=1, page_size=10, sort_by='created_at', sort_order='desc')
2025-06-13 23:54:09 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 23:54:09 [INFO] app.infrastructure.repositories.mongodb_organisation_repository:108 - _get_collection(): Successfully retrieved collection: organisation from database: pms_global_database
2025-06-13 23:54:09 [INFO] app.application.use_cases.organisation.list_organisations_use_case:89 - execute(): Listed 1 organisations (total: 1)
2025-06-13 23:54:09 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51274 - "GET /api/v2/organisations/?skip=0&limit=10 HTTP/1.1" 200
2025-06-13 23:58:38 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51947 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200
2025-06-13 23:58:38 [INFO] app.api.routes.auth_routes_v2:73 - login(): Login request for user: superadmin @ localhost
2025-06-13 23:58:38 [INFO] app.api.controllers.auth_controller:84 - login(): Login attempt for user: superadmin @ localhost
2025-06-13 23:58:38 [INFO] app.api.controllers.auth_controller:93 - login(): Connection string: mongodb+srv://admin:test123@mongodbtest.jhfj7s3.mongodb.net/?appName=mongodbTest
2025-06-13 23:58:39 [INFO] app.infrastructure.database.mongodb_connector:69 - connect(): MongoDB connection established successfully
2025-06-13 23:58:39 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_localhost' cached
2025-06-13 23:58:39 [INFO] app.infrastructure.database.mongodb_connector:113 - get_database(): Database 'pms_global_database' cached
2025-06-13 23:58:39 [INFO] app.infrastructure.database.mongodb_connector:90 - disconnect(): MongoDB connections closed
2025-06-13 23:58:39 [INFO] app.api.controllers.auth_controller:121 - login(): Verifying password for user: superadmin
2025-06-13 23:58:39 [INFO] app.auth.password_handler:19 - verify_password(): Verifying password: admin123 with hashed password: $2b$12$tHFlJsUzWyg1gntEL.JwRu6V1.VO/UdyyJxzLECfapAaMLw3BGZTW
2025-06-13 23:58:39 [WARNING] passlib.handlers.bcrypt:622 - _load_backend_mixin(): (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/ankit/Downloads/code/pmssrc/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-13 23:58:40 [INFO] app.auth.password_handler:22 - verify_password(): Password verification succeeded.
2025-06-13 23:58:40 [INFO] app.auth.jwt_handler:37 - create_access_token(): Access token created for user: superadmin
2025-06-13 23:58:40 [INFO] app.auth.jwt_handler:38 - create_access_token(): Token expires at: 2025-06-14T02:28:40.055759
2025-06-13 23:58:40 [INFO] app.api.controllers.auth_controller:165 - login(): User superadmin logged in successfully
2025-06-13 23:58:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51947 - "POST /api/v2/auth/login HTTP/1.1" 200
2025-06-13 23:58:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51947 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 23:58:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51949 - "OPTIONS /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 23:58:40 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 23:58:40 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 23:58:40 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 23:58:40 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 23:58:40 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 23:58:40 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 23:58:40 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 23:58:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51947 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
2025-06-13 23:58:40 [INFO] app.auth.jwt_handler:65 - decode_access_token(): Token decoded successfully for user: superadmin
2025-06-13 23:58:40 [INFO] app.auth.auth_dependencies:101 - get_current_user(): Authenticated user: superadmin from organisation: localhost
2025-06-13 23:58:40 [INFO] app.api.controllers.reporting_controller:256 - get_dashboard_analytics(): Getting dashboard analytics for user: superadmin
2025-06-13 23:58:40 [INFO] app.infrastructure.services.reporting_service_impl:261 - get_dashboard_analytics(): Getting dashboard analytics for organisation: localhost
2025-06-13 23:58:40 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:51 - execute(): Getting dashboard analytics for organisation: localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:104 - _get_collection(): Successfully retrieved collection: reimbursements from database: pms_localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_reimbursement_repository:367 - get_pending_reimbursements(): Found 0 pending reimbursements for organisation: localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:100 - _get_collection(): Successfully retrieved collection: users_info from database: pms_localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_user_repository:1557 - find_with_filters(): Found 5 users with filters for organisation: localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.repositories.mongodb_attendance_repository:100 - _get_collection(): Successfully retrieved collection: attendance_info from database: pms_localhost
2025-06-13 23:58:40 [INFO] app.application.use_cases.reporting.get_dashboard_analytics_use_case:98 - execute(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 23:58:40 [INFO] app.infrastructure.services.reporting_service_impl:266 - get_dashboard_analytics(): Successfully generated dashboard analytics for organisation: localhost
2025-06-13 23:58:40 [INFO] app.api.controllers.reporting_controller:260 - get_dashboard_analytics(): Successfully retrieved dashboard analytics
2025-06-13 23:58:40 [INFO] uvicorn.access:473 - send(): 127.0.0.1:51947 - "GET /api/v2/reporting/dashboard/analytics/statistics HTTP/1.1" 200
